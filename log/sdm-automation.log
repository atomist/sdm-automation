2018-05-20T11:14:19.870Z [m:46507] [info ] Starting Atomist automation client @atomist/sdm-automation@0.1.0
2018-05-20T11:14:19.871Z [m:46507] [debug] Using automation client configuration: {"teamIds":[],"groups":["all"],"environment":"local","policy":"ephemeral","endpoints":{"api":"https://automation-staging.atomist.services/registration","graphql":"https://automation-staging.atomist.services/graphql/team"},"http":{"enabled":true,"host":"localhost","port":2866,"auth":{"basic":{"enabled":false},"bearer":{"enabled":true,"adminOrg":"atomisthq"}}},"ws":{"enabled":true,"termination":{"graceful":false,"gracePeriod":5000},"compress":false,"timeout":10000},"applicationEvents":{"enabled":true,"teamId":"T095SFFBK"},"cluster":{"enabled":false},"logging":{"level":"debug","file":{"enabled":true,"level":"debug"},"banner":true,"logEvents":{"enabled":true}},"statsd":{"enabled":false,"host":"dd-agent","port":8125},"name":"@atomist/sdm-automation","version":"0.1.0","keywords":["atomist","automation","card"],"application":"dd343502-dd4d-41bd-89ce-c9b20728167a","token":"4**************************************d","sdm":{"docker":{"jfrog":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"},"hub":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"}},"rolar":{"url":"h********************o"},"npm":{"registry":"https://atomist.jfrog.io/atomist/api/npm/npm-dev-local","npmrc":"@atomist:registry=https://atomist.jfrog.io/atomist/api/npm/npm-dev-local/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:_password=QVA0M1FScDNtQVlHaDZpS0FHb1I5ZUJabVY2UHB2V1JCZE1FVkY=\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:username=christian/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:email=christian@atomist.com\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:always-auth=true","access":"public"},"graphviz":{"url":""},"cloudfoundry":{"api":"https://api.run.pivotal.io","user":"cd@atomist.com","password":"t*************U","org":"atomist","spaces":{"production":"ri-production","staging":"ri-staging"}},"checkstyle":{"enabled":false,"reviewOnlyChangedFiles":true,"path":"/Users/cdupuis/Development/atomist/sample-sdm/test/checkstyle-8.8-all.jar"},"sonar":{"enabled":true,"url":"h*******************o","org":"sdm-org","token":"d**************************************e"},"concourse":{"url":"h*******************0","user":"concourse","password":"c*******e","git":{"url":"h****************m","user":"","password":""}},"artifactory":{"url":"h************************************************o","user":"christian","password":"3*****************H","token":"A***********************************************************************Q"}},"raven":{"enabled":true,"dsn":"https://6b671bce853e4d42a0bd7b195e034abe@sentry.io/1209190"},"logzio":{"enabled":true,"token":"n******************************T"}}
2018-05-20T11:14:19.874Z [m:46507] [debug] Registering @atomist/sdm-automation@0.1.0 with Atomist at 'https://automation-staging.atomist.services/registration': {"api_version":"1","name":"@atomist/sdm-automation","version":"0.1.0","policy":{"name":"ephemeral"},"groups":["all"],"commands":[],"events":[{"subscription":"subscription OnLog_3893336498 { AtomistLog { level timestamp message correlation_context @required { correlation_id automation(name: \"@atomist/sdm-automation\", version: \"0.1.0\") @required { name version } } }}","secrets":[]}],"ingesters":["type SdmGoal1 @rootType {\n    sha: String\n    commit: Commit\n        @linkTo(\n            queryName: \"commitBySha\",\n            variables: [{name: \"sha\", path: \"$.sha\"}]\n        )\n        @linkFrom(\n            field: {kind: LIST, name: \"sdmGoals\"},\n            query: \"query goals($sha: String!) {SdmGoal(sha: [$sha]){id}}\",\n            variables: [{name: \"sha\", path: \"$.sha\"}]\n        )\n}"],"metadata":{"labels":{"atomist.description":"Automation client to define the global SDM custom types","atomist.license":"GPL-3.0","atomist.author":"Atomist","atomist.homepage":"https://github.com/atomisthq/sdm-automation#readme","atomist.client":"@atomist/automation-client#0.17.0-20180519101353","atomist.git.sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","atomist.git.branch":"master","atomist.git.repository":"git@github.com:atomisthq/sdm-automation.git","atomist.system.hostname":"mbp.local","atomist.system.type":"Darwin","atomist.system.release":"17.5.0","atomist.system.platform":"darwin"}}}
2018-05-20T11:14:19.936Z [m:46507] [debug] Sending application event: {"git":{"sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","branch":"master","repo":"git@github.com:atomisthq/sdm-automation.git"},"domain":"local","pod":"mbp.local","host":"mbp.local","id":"468bcb94-02b3-4dc0-8e2b-4109d4104b4f","state":"started","ts":1526814859935}
2018-05-20T11:14:19.953Z [m:46507] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:14:21.167Z [m:46507] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:14:21.612Z [m:46507] [error] Registration failed with code '403': '"Token 49***ad is not authorized to register teams: [\"all\"]"'
2018-05-20T11:14:54.210Z [m:46521] [info ] Starting Atomist automation client @atomist/sdm-automation@0.1.0
2018-05-20T11:14:54.211Z [m:46521] [debug] Using automation client configuration: {"teamIds":["T1L0VDKJP"],"groups":[],"environment":"local","policy":"ephemeral","endpoints":{"api":"https://automation-staging.atomist.services/registration","graphql":"https://automation-staging.atomist.services/graphql/team"},"http":{"enabled":true,"host":"localhost","port":2866,"auth":{"basic":{"enabled":false},"bearer":{"enabled":true,"adminOrg":"atomisthq"}}},"ws":{"enabled":true,"termination":{"graceful":false,"gracePeriod":5000},"compress":false,"timeout":10000},"applicationEvents":{"enabled":true,"teamId":"T095SFFBK"},"cluster":{"enabled":false},"logging":{"level":"debug","file":{"enabled":true,"level":"debug"},"banner":true,"logEvents":{"enabled":true}},"statsd":{"enabled":false,"host":"dd-agent","port":8125},"name":"@atomist/sdm-automation","version":"0.1.0","keywords":["atomist","automation","card"],"application":"c1872421-e0e3-4ca1-a473-000326ffcd2e","token":"4**************************************d","sdm":{"docker":{"jfrog":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"},"hub":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"}},"rolar":{"url":"h********************o"},"npm":{"registry":"https://atomist.jfrog.io/atomist/api/npm/npm-dev-local","npmrc":"@atomist:registry=https://atomist.jfrog.io/atomist/api/npm/npm-dev-local/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:_password=QVA0M1FScDNtQVlHaDZpS0FHb1I5ZUJabVY2UHB2V1JCZE1FVkY=\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:username=christian/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:email=christian@atomist.com\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:always-auth=true","access":"public"},"graphviz":{"url":""},"cloudfoundry":{"api":"https://api.run.pivotal.io","user":"cd@atomist.com","password":"t*************U","org":"atomist","spaces":{"production":"ri-production","staging":"ri-staging"}},"checkstyle":{"enabled":false,"reviewOnlyChangedFiles":true,"path":"/Users/cdupuis/Development/atomist/sample-sdm/test/checkstyle-8.8-all.jar"},"sonar":{"enabled":true,"url":"h*******************o","org":"sdm-org","token":"d**************************************e"},"concourse":{"url":"h*******************0","user":"concourse","password":"c*******e","git":{"url":"h****************m","user":"","password":""}},"artifactory":{"url":"h************************************************o","user":"christian","password":"3*****************H","token":"A***********************************************************************Q"}},"raven":{"enabled":true,"dsn":"https://6b671bce853e4d42a0bd7b195e034abe@sentry.io/1209190"},"logzio":{"enabled":true,"token":"n******************************T"}}
2018-05-20T11:14:54.213Z [m:46521] [debug] Registering @atomist/sdm-automation@0.1.0 with Atomist at 'https://automation-staging.atomist.services/registration': {"api_version":"1","name":"@atomist/sdm-automation","version":"0.1.0","policy":{"name":"ephemeral"},"team_ids":["T1L0VDKJP"],"commands":[],"events":[{"subscription":"subscription OnLog_3893336498 { AtomistLog { level timestamp message correlation_context @required { correlation_id automation(name: \"@atomist/sdm-automation\", version: \"0.1.0\") @required { name version } } }}","secrets":[]}],"ingesters":["type SdmGoal1 @rootType {\n    sha: String\n    commit: Commit\n        @linkTo(\n            queryName: \"commitBySha\",\n            variables: [{name: \"sha\", path: \"$.sha\"}]\n        )\n        @linkFrom(\n            field: {kind: LIST, name: \"sdmGoals\"},\n            query: \"query goals($sha: String!) {SdmGoal(sha: [$sha]){id}}\",\n            variables: [{name: \"sha\", path: \"$.sha\"}]\n        )\n}"],"metadata":{"labels":{"atomist.description":"Automation client to define the global SDM custom types","atomist.license":"GPL-3.0","atomist.author":"Atomist","atomist.homepage":"https://github.com/atomisthq/sdm-automation#readme","atomist.client":"@atomist/automation-client#0.17.0-20180519101353","atomist.git.sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","atomist.git.branch":"master","atomist.git.repository":"git@github.com:atomisthq/sdm-automation.git","atomist.system.hostname":"mbp.local","atomist.system.type":"Darwin","atomist.system.release":"17.5.0","atomist.system.platform":"darwin"}}}
2018-05-20T11:14:54.248Z [m:46521] [debug] Sending application event: {"git":{"sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","branch":"master","repo":"git@github.com:atomisthq/sdm-automation.git"},"domain":"local","pod":"mbp.local","host":"mbp.local","id":"b6b5324e-4b73-4a9a-a1ac-a9bec0b6507f","state":"started","ts":1526814894248}
2018-05-20T11:14:54.267Z [m:46521] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:14:55.801Z [m:46521] [error] Registration failed with code '400': '[{"subscription":"subscription OnLog_3893336498 { AtomistLog { level timestamp message correlation_context @required { correlation_id automation(name: \"@atomist/sdm-automation\", version: \"0.1.0\") @required { name version } } }}","type":"schema","errors":[{"message":"allowed","validation-error-class":"allowed","locations":[{"row":0,"column":0,"index":0}],"operation-name":"OnLog_3893336498","operation-type":"subscription"}]}]'
2018-05-20T11:15:42.488Z [m:46541] [info ] Starting Atomist automation client @atomist/sdm-automation@0.1.0
2018-05-20T11:15:42.490Z [m:46541] [debug] Using automation client configuration: {"teamIds":["T1L0VDKJP"],"groups":[],"environment":"local","policy":"ephemeral","endpoints":{"api":"https://automation-staging.atomist.services/registration","graphql":"https://automation-staging.atomist.services/graphql/team"},"http":{"enabled":true,"host":"localhost","port":2866,"auth":{"basic":{"enabled":false},"bearer":{"enabled":true,"adminOrg":"atomisthq"}}},"ws":{"enabled":true,"termination":{"graceful":false,"gracePeriod":5000},"compress":false,"timeout":10000},"applicationEvents":{"enabled":true,"teamId":"T095SFFBK"},"cluster":{"enabled":false},"logging":{"level":"debug","file":{"enabled":true,"level":"debug"},"banner":true,"logEvents":{"enabled":true}},"statsd":{"enabled":false,"host":"dd-agent","port":8125},"name":"@atomist/sdm-automation","version":"0.1.0","keywords":["atomist","automation","card"],"application":"7dafdd53-7edd-4273-a347-7822115b5999","token":"4**************************************d","sdm":{"docker":{"jfrog":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"},"hub":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"}},"rolar":{"url":"h********************o"},"npm":{"registry":"https://atomist.jfrog.io/atomist/api/npm/npm-dev-local","npmrc":"@atomist:registry=https://atomist.jfrog.io/atomist/api/npm/npm-dev-local/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:_password=QVA0M1FScDNtQVlHaDZpS0FHb1I5ZUJabVY2UHB2V1JCZE1FVkY=\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:username=christian/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:email=christian@atomist.com\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:always-auth=true","access":"public"},"graphviz":{"url":""},"cloudfoundry":{"api":"https://api.run.pivotal.io","user":"cd@atomist.com","password":"t*************U","org":"atomist","spaces":{"production":"ri-production","staging":"ri-staging"}},"checkstyle":{"enabled":false,"reviewOnlyChangedFiles":true,"path":"/Users/cdupuis/Development/atomist/sample-sdm/test/checkstyle-8.8-all.jar"},"sonar":{"enabled":true,"url":"h*******************o","org":"sdm-org","token":"d**************************************e"},"concourse":{"url":"h*******************0","user":"concourse","password":"c*******e","git":{"url":"h****************m","user":"","password":""}},"artifactory":{"url":"h************************************************o","user":"christian","password":"3*****************H","token":"A***********************************************************************Q"}},"raven":{"enabled":true,"dsn":"https://6b671bce853e4d42a0bd7b195e034abe@sentry.io/1209190"},"logzio":{"enabled":true,"token":"n******************************T"}}
2018-05-20T11:15:42.499Z [m:46541] [debug] Registering @atomist/sdm-automation@0.1.0 with Atomist at 'https://automation-staging.atomist.services/registration': {"api_version":"1","name":"@atomist/sdm-automation","version":"0.1.0","policy":{"name":"ephemeral"},"team_ids":["T1L0VDKJP"],"commands":[],"events":[{"subscription":"subscription OnLog_3893336498 { AtomistLog { level timestamp message correlation_context @required { correlation_id automation(name: \"@atomist/sdm-automation\", version: \"0.1.0\") @required { name version } } }}","secrets":[]}],"ingesters":["type SdmGoal1 @rootType {\n    commit: Commit\n        @linkTo(\n            queryName: \"commitBySha\",\n            variables: [{name: \"sha\", path: \"$.sha\"}]\n        )\n        @linkFrom(\n            field: {kind: LIST, name: \"sdmGoals\"},\n            query: \"query goals($sha: String!) {SdmGoal(sha: [$sha]){id}}\",\n            variables: [{name: \"sha\", path: \"$.sha\"}]\n        )\n}"],"metadata":{"labels":{"atomist.description":"Automation client to define the global SDM custom types","atomist.license":"GPL-3.0","atomist.author":"Atomist","atomist.homepage":"https://github.com/atomisthq/sdm-automation#readme","atomist.client":"@atomist/automation-client#0.17.0-20180519101353","atomist.git.sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","atomist.git.branch":"master","atomist.git.repository":"git@github.com:atomisthq/sdm-automation.git","atomist.system.hostname":"mbp.local","atomist.system.type":"Darwin","atomist.system.release":"17.5.0","atomist.system.platform":"darwin"}}}
2018-05-20T11:15:42.559Z [m:46541] [debug] Sending application event: {"git":{"sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","branch":"master","repo":"git@github.com:atomisthq/sdm-automation.git"},"domain":"local","pod":"mbp.local","host":"mbp.local","id":"7dd8ea2f-a5ea-4ddf-af61-154da082e3e3","state":"started","ts":1526814942559}
2018-05-20T11:15:42.606Z [m:46541] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:15:43.885Z [m:46541] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:15:44.128Z [m:46541] [error] Registration failed with code '400': '[{"subscription":"subscription OnLog_3893336498 { AtomistLog { level timestamp message correlation_context @required { correlation_id automation(name: \"@atomist/sdm-automation\", version: \"0.1.0\") @required { name version } } }}","type":"schema","errors":[{"message":"allowed","validation-error-class":"allowed","locations":[{"row":0,"column":0,"index":0}],"operation-name":"OnLog_3893336498","operation-type":"subscription"}]}]'
2018-05-20T11:19:54.621Z [m:46999] [info ] Starting Atomist automation client @atomist/sdm-automation@0.1.0
2018-05-20T11:19:54.622Z [m:46999] [debug] Using automation client configuration: {"teamIds":["T1L0VDKJP"],"groups":[],"environment":"local","policy":"ephemeral","endpoints":{"api":"https://automation-staging.atomist.services/registration","graphql":"https://automation-staging.atomist.services/graphql/team"},"http":{"enabled":true,"host":"localhost","port":2866,"auth":{"basic":{"enabled":false},"bearer":{"enabled":true,"adminOrg":"atomisthq"}}},"ws":{"enabled":true,"termination":{"graceful":false,"gracePeriod":5000},"compress":false,"timeout":10000},"applicationEvents":{"enabled":true,"teamId":"T095SFFBK"},"cluster":{"enabled":false},"logging":{"level":"debug","file":{"enabled":true,"level":"debug"},"banner":true,"logEvents":{"enabled":true}},"statsd":{"enabled":false,"host":"dd-agent","port":8125},"name":"@atomist/sdm-automation","version":"0.1.0","keywords":["atomist","automation","card"],"application":"68434c2e-f266-4515-872c-5f9c610aa18e","token":"4**************************************d","sdm":{"docker":{"jfrog":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"},"hub":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"}},"rolar":{"url":"h********************o"},"npm":{"registry":"https://atomist.jfrog.io/atomist/api/npm/npm-dev-local","npmrc":"@atomist:registry=https://atomist.jfrog.io/atomist/api/npm/npm-dev-local/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:_password=QVA0M1FScDNtQVlHaDZpS0FHb1I5ZUJabVY2UHB2V1JCZE1FVkY=\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:username=christian/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:email=christian@atomist.com\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:always-auth=true","access":"public"},"graphviz":{"url":""},"cloudfoundry":{"api":"https://api.run.pivotal.io","user":"cd@atomist.com","password":"t*************U","org":"atomist","spaces":{"production":"ri-production","staging":"ri-staging"}},"checkstyle":{"enabled":false,"reviewOnlyChangedFiles":true,"path":"/Users/cdupuis/Development/atomist/sample-sdm/test/checkstyle-8.8-all.jar"},"sonar":{"enabled":true,"url":"h*******************o","org":"sdm-org","token":"d**************************************e"},"concourse":{"url":"h*******************0","user":"concourse","password":"c*******e","git":{"url":"h****************m","user":"","password":""}},"artifactory":{"url":"h************************************************o","user":"christian","password":"3*****************H","token":"A***********************************************************************Q"}},"raven":{"enabled":true,"dsn":"https://6b671bce853e4d42a0bd7b195e034abe@sentry.io/1209190"},"logzio":{"enabled":true,"token":"n******************************T"}}
2018-05-20T11:19:54.624Z [m:46999] [debug] Registering @atomist/sdm-automation@0.1.0 with Atomist at 'https://automation-staging.atomist.services/registration': {"api_version":"1","name":"@atomist/sdm-automation","version":"0.1.0","policy":{"name":"ephemeral"},"team_ids":["T1L0VDKJP"],"commands":[],"events":[{"subscription":"subscription OnLog_3893336498 { AtomistLog { level timestamp message correlation_context @required { correlation_id automation(name: \"@atomist/sdm-automation\", version: \"0.1.0\") @required { name version } } }}","secrets":[]}],"ingesters":["type SdmGoal1 @rootType {\n    commit: Commit\n        @linkTo(\n            queryName: \"commitBySha\",\n            variables: [{name: \"sha\", path: \"$.sha\"}]\n        )\n        @linkFrom(\n            field: {kind: LIST, name: \"sdmGoals\"},\n            query: \"query goals($sha: String!) {SdmGoal(sha: [$sha]){id}}\",\n            variables: [{name: \"sha\", path: \"$.sha\"}]\n        )\n}"],"metadata":{"labels":{"atomist.description":"Automation client to define the global SDM custom types","atomist.license":"GPL-3.0","atomist.author":"Atomist","atomist.homepage":"https://github.com/atomisthq/sdm-automation#readme","atomist.client":"@atomist/automation-client#0.17.0-20180519101353","atomist.git.sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","atomist.git.branch":"master","atomist.git.repository":"git@github.com:atomisthq/sdm-automation.git","atomist.system.hostname":"mbp.local","atomist.system.type":"Darwin","atomist.system.release":"17.5.0","atomist.system.platform":"darwin"}}}
2018-05-20T11:19:54.706Z [m:46999] [debug] Sending application event: {"git":{"sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","branch":"master","repo":"git@github.com:atomisthq/sdm-automation.git"},"domain":"local","pod":"mbp.local","host":"mbp.local","id":"fa8c3ff2-ec8b-4a75-a5ca-f446fa3e4df9","state":"started","ts":1526815194706}
2018-05-20T11:19:54.748Z [m:46999] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:19:56.080Z [m:46999] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:19:56.162Z [m:46999] [error] Registration failed with code '400': '[{"subscription":"subscription OnLog_3893336498 { AtomistLog { level timestamp message correlation_context @required { correlation_id automation(name: \"@atomist/sdm-automation\", version: \"0.1.0\") @required { name version } } }}","type":"schema","errors":[{"message":"allowed","validation-error-class":"allowed","locations":[{"row":0,"column":0,"index":0}],"operation-name":"OnLog_3893336498","operation-type":"subscription"}]}]'
2018-05-20T11:21:14.599Z [m:47035] [info ] Starting Atomist automation client @atomist/sdm-automation@0.1.0
2018-05-20T11:21:14.600Z [m:47035] [debug] Using automation client configuration: {"teamIds":["T1L0VDKJP"],"groups":[],"environment":"local","policy":"ephemeral","endpoints":{"api":"https://automation-staging.atomist.services/registration","graphql":"https://automation-staging.atomist.services/graphql/team"},"http":{"enabled":true,"host":"localhost","port":2866,"auth":{"basic":{"enabled":false},"bearer":{"enabled":true,"adminOrg":"atomisthq"}}},"ws":{"enabled":true,"termination":{"graceful":false,"gracePeriod":5000},"compress":false,"timeout":10000},"applicationEvents":{"enabled":true,"teamId":"T095SFFBK"},"cluster":{"enabled":false},"logging":{"level":"debug","file":{"enabled":true,"level":"debug"},"banner":true,"logEvents":{"enabled":true}},"statsd":{"enabled":false,"host":"dd-agent","port":8125},"name":"@atomist/sdm-automation","version":"0.1.0","keywords":["atomist","automation","card"],"application":"fbf6981e-3e7c-432c-8d3b-717cac63b702","token":"4**************************************d","sdm":{"docker":{"jfrog":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"},"hub":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"}},"rolar":{"url":"h********************o"},"npm":{"registry":"https://atomist.jfrog.io/atomist/api/npm/npm-dev-local","npmrc":"@atomist:registry=https://atomist.jfrog.io/atomist/api/npm/npm-dev-local/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:_password=QVA0M1FScDNtQVlHaDZpS0FHb1I5ZUJabVY2UHB2V1JCZE1FVkY=\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:username=christian/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:email=christian@atomist.com\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:always-auth=true","access":"public"},"graphviz":{"url":""},"cloudfoundry":{"api":"https://api.run.pivotal.io","user":"cd@atomist.com","password":"t*************U","org":"atomist","spaces":{"production":"ri-production","staging":"ri-staging"}},"checkstyle":{"enabled":false,"reviewOnlyChangedFiles":true,"path":"/Users/cdupuis/Development/atomist/sample-sdm/test/checkstyle-8.8-all.jar"},"sonar":{"enabled":true,"url":"h*******************o","org":"sdm-org","token":"d**************************************e"},"concourse":{"url":"h*******************0","user":"concourse","password":"c*******e","git":{"url":"h****************m","user":"","password":""}},"artifactory":{"url":"h************************************************o","user":"christian","password":"3*****************H","token":"A***********************************************************************Q"}},"raven":{"enabled":true,"dsn":"https://6b671bce853e4d42a0bd7b195e034abe@sentry.io/1209190"},"logzio":{"enabled":true,"token":"n******************************T"}}
2018-05-20T11:21:14.602Z [m:47035] [debug] Registering @atomist/sdm-automation@0.1.0 with Atomist at 'https://automation-staging.atomist.services/registration': {"api_version":"1","name":"@atomist/sdm-automation","version":"0.1.0","policy":{"name":"ephemeral"},"team_ids":["T1L0VDKJP"],"commands":[],"events":[{"subscription":"subscription OnLog_3893336498 { AtomistLog { level timestamp message correlation_context @required { correlation_id automation(name: \"@atomist/sdm-automation\", version: \"0.1.0\") @required { name version } } }}","secrets":[]}],"ingesters":["type SdmGoal1 @rootType {\n    commit: Commit\n        @linkTo(\n            queryName: \"commitBySha\",\n            variables: [{name: \"sha\", path: \"$.sha\"}]\n        )\n        @linkFrom(\n            field: {kind: LIST, name: \"sdmGoals\"},\n            query: \"query goals($sha: String!) {SdmGoal(sha: [$sha]){id}}\",\n            variables: [{name: \"sha\", path: \"$.sha\"}]\n        )\n}"],"metadata":{"labels":{"atomist.description":"Automation client to define the global SDM custom types","atomist.license":"GPL-3.0","atomist.author":"Atomist","atomist.homepage":"https://github.com/atomisthq/sdm-automation#readme","atomist.client":"@atomist/automation-client#0.17.0-20180519101353","atomist.git.sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","atomist.git.branch":"master","atomist.git.repository":"git@github.com:atomisthq/sdm-automation.git","atomist.system.hostname":"mbp.local","atomist.system.type":"Darwin","atomist.system.release":"17.5.0","atomist.system.platform":"darwin"}}}
2018-05-20T11:21:14.657Z [m:47035] [debug] Sending application event: {"git":{"sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","branch":"master","repo":"git@github.com:atomisthq/sdm-automation.git"},"domain":"local","pod":"mbp.local","host":"mbp.local","id":"110ac901-1ea5-4ada-b1e1-6e2f9d59d97b","state":"started","ts":1526815274657}
2018-05-20T11:21:14.677Z [m:47035] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:21:15.932Z [m:47035] [error] Registration failed with code '400': '[{"subscription":"subscription OnLog_3893336498 { AtomistLog { level timestamp message correlation_context @required { correlation_id automation(name: \"@atomist/sdm-automation\", version: \"0.1.0\") @required { name version } } }}","type":"schema","errors":[{"message":"allowed","validation-error-class":"allowed","locations":[{"row":0,"column":0,"index":0}],"operation-name":"OnLog_3893336498","operation-type":"subscription"}]}]'
2018-05-20T11:23:11.309Z [m:47059] [info ] Starting Atomist automation client @atomist/sdm-automation@0.1.0
2018-05-20T11:23:11.309Z [m:47059] [debug] Using automation client configuration: {"teamIds":["T1L0VDKJP"],"groups":[],"environment":"local","policy":"ephemeral","endpoints":{"api":"https://automation-staging.atomist.services/registration","graphql":"https://automation-staging.atomist.services/graphql/team"},"http":{"enabled":true,"host":"localhost","port":2866,"auth":{"basic":{"enabled":false},"bearer":{"enabled":true,"adminOrg":"atomisthq"}}},"ws":{"enabled":true,"termination":{"graceful":false,"gracePeriod":5000},"compress":false,"timeout":10000},"applicationEvents":{"enabled":true,"teamId":"T095SFFBK"},"cluster":{"enabled":false},"logging":{"level":"debug","file":{"enabled":true,"level":"debug"},"banner":true,"logEvents":{"enabled":false}},"statsd":{"enabled":false,"host":"dd-agent","port":8125},"name":"@atomist/sdm-automation","version":"0.1.0","keywords":["atomist","automation","card"],"application":"bcdd86af-f461-4a18-a7d5-9b39e68c9769","token":"4**************************************d","sdm":{"docker":{"jfrog":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"},"hub":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"}},"rolar":{"url":"h********************o"},"npm":{"registry":"https://atomist.jfrog.io/atomist/api/npm/npm-dev-local","npmrc":"@atomist:registry=https://atomist.jfrog.io/atomist/api/npm/npm-dev-local/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:_password=QVA0M1FScDNtQVlHaDZpS0FHb1I5ZUJabVY2UHB2V1JCZE1FVkY=\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:username=christian/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:email=christian@atomist.com\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:always-auth=true","access":"public"},"graphviz":{"url":""},"cloudfoundry":{"api":"https://api.run.pivotal.io","user":"cd@atomist.com","password":"t*************U","org":"atomist","spaces":{"production":"ri-production","staging":"ri-staging"}},"checkstyle":{"enabled":false,"reviewOnlyChangedFiles":true,"path":"/Users/cdupuis/Development/atomist/sample-sdm/test/checkstyle-8.8-all.jar"},"sonar":{"enabled":true,"url":"h*******************o","org":"sdm-org","token":"d**************************************e"},"concourse":{"url":"h*******************0","user":"concourse","password":"c*******e","git":{"url":"h****************m","user":"","password":""}},"artifactory":{"url":"h************************************************o","user":"christian","password":"3*****************H","token":"A***********************************************************************Q"}},"raven":{"enabled":true,"dsn":"https://6b671bce853e4d42a0bd7b195e034abe@sentry.io/1209190"},"logzio":{"enabled":true,"token":"n******************************T"}}
2018-05-20T11:23:11.311Z [m:47059] [debug] Registering @atomist/sdm-automation@0.1.0 with Atomist at 'https://automation-staging.atomist.services/registration': {"api_version":"1","name":"@atomist/sdm-automation","version":"0.1.0","policy":{"name":"ephemeral"},"team_ids":["T1L0VDKJP"],"commands":[],"events":[],"ingesters":["type SdmGoal1 @rootType {\n    commit: Commit\n        @linkTo(\n            queryName: \"commitBySha\",\n            variables: [{name: \"sha\", path: \"$.sha\"}]\n        )\n        @linkFrom(\n            field: {kind: LIST, name: \"sdmGoals\"},\n            query: \"query goals($sha: String!) {SdmGoal(sha: [$sha]){id}}\",\n            variables: [{name: \"sha\", path: \"$.sha\"}]\n        )\n}"],"metadata":{"labels":{"atomist.description":"Automation client to define the global SDM custom types","atomist.license":"GPL-3.0","atomist.author":"Atomist","atomist.homepage":"https://github.com/atomisthq/sdm-automation#readme","atomist.client":"@atomist/automation-client#0.17.0-20180519101353","atomist.git.sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","atomist.git.branch":"master","atomist.git.repository":"git@github.com:atomisthq/sdm-automation.git","atomist.system.hostname":"mbp.local","atomist.system.type":"Darwin","atomist.system.release":"17.5.0","atomist.system.platform":"darwin"}}}
2018-05-20T11:23:11.344Z [m:47059] [debug] Sending application event: {"git":{"sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","branch":"master","repo":"git@github.com:atomisthq/sdm-automation.git"},"domain":"local","pod":"mbp.local","host":"mbp.local","id":"ecaeb1b9-cd40-465f-802d-39181f747dc8","state":"started","ts":1526815391343}
2018-05-20T11:23:11.363Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:23:12.595Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:23:13.567Z [m:47059] [info ] Registration successful: {"url":"wss://automation-staging.atomist.services/registration/40619c8f-0caa-4f68-8768-406160ad4672","jwt":"40619c8f-0caa-4f68-8768-406160ad4672","endpoints":[{"team_id":"T1L0VDKJP","url":"https://webhook-staging.atomist.services/atomist/teams/T1L0VDKJP/ingestion/SdmGoal1/ce87094a-e919-43a1-a34a-99859b819d42","name":"SdmGoal1"}],"name":"@atomist/sdm-automation","version":"0.1.0"}
2018-05-20T11:23:13.583Z [m:47059] [info ] Opening WebSocket connection
2018-05-20T11:23:13.590Z [m:47059] [info ] 
   ____          _                      _       _       __          _                                  _                             _    _               
  / __ \   __ _ | |_   ___   _ __ ___  (_) ___ | |_    / / ___   __| | _ __ ___           __ _  _   _ | |_   ___   _ __ ___    __ _ | |_ (_)  ___   _ __  
 / / _` | / _` || __| / _ \ | '_ ` _ \ | |/ __|| __|  / / / __| / _` || '_ ` _ \  _____  / _` || | | || __| / _ \ | '_ ` _ \  / _` || __|| | / _ \ | '_ \ 
| | (_| || (_| || |_ | (_) || | | | | || |\__ \| |_  / /  \__ \| (_| || | | | | ||_____|| (_| || |_| || |_ | (_) || | | | | || (_| || |_ | || (_) || | | |
 \ \__,_| \__,_| \__| \___/ |_| |_| |_||_||___/ \__|/_/   |___/ \__,_||_| |_| |_|        \__,_| \__,_| \__| \___/ |_| |_| |_| \__,_| \__||_| \___/ |_| |_|
  \____/                                                                                                                                                  

  Version 0.1.0  Sha 2e02da2  Repository git@github.com:atomisthq/sdm-automation.git
  Team T1L0VDKJP  Policy ephemeral  Cluster disabled
  Commands 0  Events 0  Ingester 1
  JWT 40619c8f-0caa-4f68-8768-406160ad4672
  
  

  Url https://app.atomist.com/workspace/T1L0VDKJP/automations
  GraphiQL https://app.atomist.com/workspace/T1L0VDKJP/graphql

  Docs https://docs.atomist.com  Support https://join.atomist.com

2018-05-20T11:23:14.097Z [m:47059] [info ] WebSocket connection established. Listening for incoming messages
2018-05-20T11:23:17.388Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:23:22.394Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:23:27.400Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:23:32.406Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:23:37.412Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:23:42.417Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:23:47.435Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:23:52.442Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:23:57.443Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:24:02.449Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:24:07.454Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:24:12.460Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:24:17.466Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:24:22.471Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:24:27.478Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:24:32.483Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:24:37.488Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:24:42.494Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:24:47.499Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:24:52.503Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:24:57.510Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:25:02.514Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:25:07.519Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:25:12.525Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:25:17.529Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:25:22.540Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:25:27.545Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:25:32.550Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:25:37.554Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:25:42.559Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:25:47.567Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:25:52.000Z [m:47059] [info ] Shutdown initiated. Calling shutdown hooks
2018-05-20T11:25:52.003Z [m:47059] [info ] Closing WebSocket connection
2018-05-20T11:25:52.008Z [m:47059] [debug] Sending application event: {"git":{"sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","branch":"master","repo":"git@github.com:atomisthq/sdm-automation.git"},"domain":"local","pod":"mbp.local","host":"mbp.local","id":"ecaeb1b9-cd40-465f-802d-39181f747dc8","state":"stopping","ts":1526815552007}
2018-05-20T11:25:52.120Z [m:47059] [warn ] WebSocket connection closed with 1005: 
2018-05-20T11:25:52.129Z [m:47059] [error] {"errno":"EPIPE","code":"EPIPE","syscall":"write","name":"Error","message":"write EPIPE","stack":"Error: write EPIPE\n    at WriteWrap.afterWrite (net.js:844:14)"}
2018-05-20T11:25:52.130Z [m:47059] [error] {"errno":"EPIPE","code":"EPIPE","syscall":"write","name":"Error","message":"write EPIPE","stack":"Error: write EPIPE\n    at WriteWrap.afterWrite (net.js:844:14)"}
2018-05-20T11:25:52.572Z [m:47059] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:25:52.817Z [m:47059] [info ] Shutdown hooks completed. Exiting...
2018-05-20T11:26:31.056Z [m:47074] [info ] Starting Atomist automation client @atomist/sdm-automation@0.1.0
2018-05-20T11:26:31.059Z [m:47074] [debug] Using automation client configuration: {"teamIds":["T1L0VDKJP"],"groups":[],"environment":"local","policy":"ephemeral","endpoints":{"api":"https://automation-staging.atomist.services/registration","graphql":"https://automation-staging.atomist.services/graphql/team"},"http":{"enabled":true,"host":"localhost","port":2866,"auth":{"basic":{"enabled":false},"bearer":{"enabled":true,"adminOrg":"atomisthq"}}},"ws":{"enabled":true,"termination":{"graceful":false,"gracePeriod":5000},"compress":false,"timeout":10000},"applicationEvents":{"enabled":true,"teamId":"T095SFFBK"},"cluster":{"enabled":false},"logging":{"level":"debug","file":{"enabled":true,"level":"debug"},"banner":true,"logEvents":{"enabled":false}},"statsd":{"enabled":false,"host":"dd-agent","port":8125},"name":"@atomist/sdm-automation","version":"0.1.0","keywords":["atomist","automation","card"],"application":"49906b5b-9cf7-47e6-966d-52aab4158960","token":"4**************************************d","sdm":{"docker":{"jfrog":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"},"hub":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"}},"rolar":{"url":"h********************o"},"npm":{"registry":"https://atomist.jfrog.io/atomist/api/npm/npm-dev-local","npmrc":"@atomist:registry=https://atomist.jfrog.io/atomist/api/npm/npm-dev-local/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:_password=QVA0M1FScDNtQVlHaDZpS0FHb1I5ZUJabVY2UHB2V1JCZE1FVkY=\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:username=christian/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:email=christian@atomist.com\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:always-auth=true","access":"public"},"graphviz":{"url":""},"cloudfoundry":{"api":"https://api.run.pivotal.io","user":"cd@atomist.com","password":"t*************U","org":"atomist","spaces":{"production":"ri-production","staging":"ri-staging"}},"checkstyle":{"enabled":false,"reviewOnlyChangedFiles":true,"path":"/Users/cdupuis/Development/atomist/sample-sdm/test/checkstyle-8.8-all.jar"},"sonar":{"enabled":true,"url":"h*******************o","org":"sdm-org","token":"d**************************************e"},"concourse":{"url":"h*******************0","user":"concourse","password":"c*******e","git":{"url":"h****************m","user":"","password":""}},"artifactory":{"url":"h************************************************o","user":"christian","password":"3*****************H","token":"A***********************************************************************Q"}},"raven":{"enabled":true,"dsn":"https://6b671bce853e4d42a0bd7b195e034abe@sentry.io/1209190"},"logzio":{"enabled":true,"token":"n******************************T"}}
2018-05-20T11:26:31.061Z [m:47074] [debug] Registering @atomist/sdm-automation@0.1.0 with Atomist at 'https://automation-staging.atomist.services/registration': {"api_version":"1","name":"@atomist/sdm-automation","version":"0.1.0","policy":{"name":"ephemeral"},"team_ids":["T1L0VDKJP"],"commands":[],"events":[],"ingesters":["type SdmGoal1 @rootType {\n    commit: Commit\n        @linkTo(\n            queryName: \"commitBySha\",\n            variables: [{name: \"sha\", path: \"$.sha\"}]\n        )\n        @linkFrom(\n            field: {kind: LIST, name: \"sdmGoals\"},\n            query: \"query goals($sha: String!) {SdmGoal(sha: [$sha]){id}}\",\n            variables: [{name: \"sha\", path: \"$.sha\"}]\n        )\n}"],"metadata":{"labels":{"atomist.description":"Automation client to define the global SDM custom types","atomist.license":"GPL-3.0","atomist.author":"Atomist","atomist.homepage":"https://github.com/atomisthq/sdm-automation#readme","atomist.client":"@atomist/automation-client#0.17.0-20180519101353","atomist.git.sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","atomist.git.branch":"master","atomist.git.repository":"git@github.com:atomisthq/sdm-automation.git","atomist.system.hostname":"mbp.local","atomist.system.type":"Darwin","atomist.system.release":"17.5.0","atomist.system.platform":"darwin"}}}
2018-05-20T11:26:31.123Z [m:47074] [debug] Sending application event: {"git":{"sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","branch":"master","repo":"git@github.com:atomisthq/sdm-automation.git"},"domain":"local","pod":"mbp.local","host":"mbp.local","id":"b059905e-62f6-4c79-aebd-71286260e539","state":"started","ts":1526815591122}
2018-05-20T11:26:31.141Z [m:47074] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:26:32.308Z [m:47074] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:26:32.890Z [m:47074] [info ] Registration successful: {"url":"wss://automation-staging.atomist.services/registration/99934b6d-7872-459b-b62f-3aa31172438f","jwt":"99934b6d-7872-459b-b62f-3aa31172438f","endpoints":[{"team_id":"T1L0VDKJP","url":"https://webhook-staging.atomist.services/atomist/teams/T1L0VDKJP/ingestion/SdmGoal1/ce87094a-e919-43a1-a34a-99859b819d42","name":"SdmGoal1"}],"name":"@atomist/sdm-automation","version":"0.1.0"}
2018-05-20T11:26:32.907Z [m:47074] [info ] Opening WebSocket connection
2018-05-20T11:26:32.914Z [m:47074] [info ] 
   ____          _                      _       _       __          _                                  _                             _    _               
  / __ \   __ _ | |_   ___   _ __ ___  (_) ___ | |_    / / ___   __| | _ __ ___           __ _  _   _ | |_   ___   _ __ ___    __ _ | |_ (_)  ___   _ __  
 / / _` | / _` || __| / _ \ | '_ ` _ \ | |/ __|| __|  / / / __| / _` || '_ ` _ \  _____  / _` || | | || __| / _ \ | '_ ` _ \  / _` || __|| | / _ \ | '_ \ 
| | (_| || (_| || |_ | (_) || | | | | || |\__ \| |_  / /  \__ \| (_| || | | | | ||_____|| (_| || |_| || |_ | (_) || | | | | || (_| || |_ | || (_) || | | |
 \ \__,_| \__,_| \__| \___/ |_| |_| |_||_||___/ \__|/_/   |___/ \__,_||_| |_| |_|        \__,_| \__,_| \__| \___/ |_| |_| |_| \__,_| \__||_| \___/ |_| |_|
  \____/                                                                                                                                                  

  Version 0.1.0  Sha 2e02da2  Repository git@github.com:atomisthq/sdm-automation.git
  Team T1L0VDKJP  Policy ephemeral  Cluster disabled
  Commands 0  Events 0  Ingester 1
  JWT 99934b6d-7872-459b-b62f-3aa31172438f
  
  

  Url https://app.atomist.com/workspace/T1L0VDKJP/automations
  GraphiQL https://app.atomist.com/workspace/T1L0VDKJP/graphql

  Docs https://docs.atomist.com  Support https://join.atomist.com

2018-05-20T11:26:33.518Z [m:47074] [info ] WebSocket connection established. Listening for incoming messages
2018-05-20T11:26:37.313Z [m:47074] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:26:42.318Z [m:47074] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:26:47.325Z [m:47074] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:26:52.331Z [m:47074] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:26:57.338Z [m:47074] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:27:02.342Z [m:47074] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:27:07.347Z [m:47074] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:27:12.352Z [m:47074] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:27:17.354Z [m:47074] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:27:22.359Z [m:47074] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:27:27.365Z [m:47074] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:27:32.368Z [m:47074] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:27:37.374Z [m:47074] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:27:39.470Z [m:47074] [info ] Shutdown initiated. Calling shutdown hooks
2018-05-20T11:27:39.471Z [m:47074] [info ] Closing WebSocket connection
2018-05-20T11:27:39.472Z [m:47074] [debug] Sending application event: {"git":{"sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","branch":"master","repo":"git@github.com:atomisthq/sdm-automation.git"},"domain":"local","pod":"mbp.local","host":"mbp.local","id":"b059905e-62f6-4c79-aebd-71286260e539","state":"stopping","ts":1526815659471}
2018-05-20T11:27:39.602Z [m:47074] [warn ] WebSocket connection closed with 1005: 
2018-05-20T11:27:39.610Z [m:47074] [error] {"errno":"EPIPE","code":"EPIPE","syscall":"write","name":"Error","message":"write EPIPE","stack":"Error: write EPIPE\n    at WriteWrap.afterWrite (net.js:844:14)"}
2018-05-20T11:27:39.612Z [m:47074] [error] {"errno":"EPIPE","code":"EPIPE","syscall":"write","name":"Error","message":"write EPIPE","stack":"Error: write EPIPE\n    at WriteWrap.afterWrite (net.js:844:14)"}
2018-05-20T11:27:40.130Z [m:47074] [info ] Shutdown hooks completed. Exiting...
2018-05-20T11:30:00.738Z [m:47104] [info ] Starting Atomist automation client @atomist/sdm-automation@0.1.0
2018-05-20T11:30:00.739Z [m:47104] [debug] Using automation client configuration: {"teamIds":["T1L0VDKJP"],"groups":[],"environment":"local","policy":"ephemeral","endpoints":{"api":"https://automation-staging.atomist.services/registration","graphql":"https://automation-staging.atomist.services/graphql/team"},"http":{"enabled":true,"host":"localhost","port":2866,"auth":{"basic":{"enabled":false},"bearer":{"enabled":true,"adminOrg":"atomisthq"}}},"ws":{"enabled":true,"termination":{"graceful":false,"gracePeriod":5000},"compress":false,"timeout":10000},"applicationEvents":{"enabled":true,"teamId":"T095SFFBK"},"cluster":{"enabled":false},"logging":{"level":"debug","file":{"enabled":true,"level":"debug"},"banner":true,"logEvents":{"enabled":false}},"statsd":{"enabled":false,"host":"dd-agent","port":8125},"name":"@atomist/sdm-automation","version":"0.1.0","keywords":["atomist","automation","card"],"application":"35ecf0dd-185b-4b1d-afdb-260c3084e818","token":"4**************************************d","sdm":{"docker":{"jfrog":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"},"hub":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"}},"rolar":{"url":"h********************o"},"npm":{"registry":"https://atomist.jfrog.io/atomist/api/npm/npm-dev-local","npmrc":"@atomist:registry=https://atomist.jfrog.io/atomist/api/npm/npm-dev-local/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:_password=QVA0M1FScDNtQVlHaDZpS0FHb1I5ZUJabVY2UHB2V1JCZE1FVkY=\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:username=christian/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:email=christian@atomist.com\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:always-auth=true","access":"public"},"graphviz":{"url":""},"cloudfoundry":{"api":"https://api.run.pivotal.io","user":"cd@atomist.com","password":"t*************U","org":"atomist","spaces":{"production":"ri-production","staging":"ri-staging"}},"checkstyle":{"enabled":false,"reviewOnlyChangedFiles":true,"path":"/Users/cdupuis/Development/atomist/sample-sdm/test/checkstyle-8.8-all.jar"},"sonar":{"enabled":true,"url":"h*******************o","org":"sdm-org","token":"d**************************************e"},"concourse":{"url":"h*******************0","user":"concourse","password":"c*******e","git":{"url":"h****************m","user":"","password":""}},"artifactory":{"url":"h************************************************o","user":"christian","password":"3*****************H","token":"A***********************************************************************Q"}},"raven":{"enabled":true,"dsn":"https://6b671bce853e4d42a0bd7b195e034abe@sentry.io/1209190"},"logzio":{"enabled":true,"token":"n******************************T"}}
2018-05-20T11:30:00.741Z [m:47104] [debug] Registering @atomist/sdm-automation@0.1.0 with Atomist at 'https://automation-staging.atomist.services/registration': {"api_version":"1","name":"@atomist/sdm-automation","version":"0.1.0","policy":{"name":"ephemeral"},"team_ids":["T1L0VDKJP"],"commands":[],"events":[],"ingesters":["type SdmGoal1 @rootType {\n    sha: String\n    commit: Commit\n        @linkTo(\n            queryName: \"commitBySha\",\n            variables: [{name: \"sha\", path: \"$.sha\"}]\n        )\n        @linkFrom(\n            field: {kind: LIST, name: \"sdmGoals\"},\n            query: \"query goals($sha: String!) {SdmGoal(sha: [$sha]){id}}\",\n            variables: [{name: \"sha\", path: \"$.sha\"}]\n        )\n}"],"metadata":{"labels":{"atomist.description":"Automation client to define the global SDM custom types","atomist.license":"GPL-3.0","atomist.author":"Atomist","atomist.homepage":"https://github.com/atomisthq/sdm-automation#readme","atomist.client":"@atomist/automation-client#0.17.0-20180519101353","atomist.git.sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","atomist.git.branch":"master","atomist.git.repository":"git@github.com:atomisthq/sdm-automation.git","atomist.system.hostname":"mbp.local","atomist.system.type":"Darwin","atomist.system.release":"17.5.0","atomist.system.platform":"darwin"}}}
2018-05-20T11:30:00.799Z [m:47104] [debug] Sending application event: {"git":{"sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","branch":"master","repo":"git@github.com:atomisthq/sdm-automation.git"},"domain":"local","pod":"mbp.local","host":"mbp.local","id":"117ab47c-367d-4b0a-80ae-93696e65edb9","state":"started","ts":1526815800799}
2018-05-20T11:30:00.846Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:30:02.485Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:30:02.752Z [m:47104] [info ] Registration successful: {"url":"wss://automation-staging.atomist.services/registration/c9ddf1b8-84d3-4c7d-b50f-eddcc27308bd","jwt":"c9ddf1b8-84d3-4c7d-b50f-eddcc27308bd","endpoints":[{"team_id":"T1L0VDKJP","url":"https://webhook-staging.atomist.services/atomist/teams/T1L0VDKJP/ingestion/SdmGoal1/ce87094a-e919-43a1-a34a-99859b819d42","name":"SdmGoal1"}],"name":"@atomist/sdm-automation","version":"0.1.0"}
2018-05-20T11:30:02.768Z [m:47104] [info ] Opening WebSocket connection
2018-05-20T11:30:02.774Z [m:47104] [info ] 
   ____          _                      _       _       __          _                                  _                             _    _               
  / __ \   __ _ | |_   ___   _ __ ___  (_) ___ | |_    / / ___   __| | _ __ ___           __ _  _   _ | |_   ___   _ __ ___    __ _ | |_ (_)  ___   _ __  
 / / _` | / _` || __| / _ \ | '_ ` _ \ | |/ __|| __|  / / / __| / _` || '_ ` _ \  _____  / _` || | | || __| / _ \ | '_ ` _ \  / _` || __|| | / _ \ | '_ \ 
| | (_| || (_| || |_ | (_) || | | | | || |\__ \| |_  / /  \__ \| (_| || | | | | ||_____|| (_| || |_| || |_ | (_) || | | | | || (_| || |_ | || (_) || | | |
 \ \__,_| \__,_| \__| \___/ |_| |_| |_||_||___/ \__|/_/   |___/ \__,_||_| |_| |_|        \__,_| \__,_| \__| \___/ |_| |_| |_| \__,_| \__||_| \___/ |_| |_|
  \____/                                                                                                                                                  

  Version 0.1.0  Sha 2e02da2  Repository git@github.com:atomisthq/sdm-automation.git
  Team T1L0VDKJP  Policy ephemeral  Cluster disabled
  Commands 0  Events 0  Ingester 1
  JWT c9ddf1b8-84d3-4c7d-b50f-eddcc27308bd
  
  

  Url https://app.atomist.com/workspace/T1L0VDKJP/automations
  GraphiQL https://app.atomist.com/workspace/T1L0VDKJP/graphql

  Docs https://docs.atomist.com  Support https://join.atomist.com

2018-05-20T11:30:03.385Z [m:47104] [info ] WebSocket connection established. Listening for incoming messages
2018-05-20T11:30:07.370Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:30:12.375Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:30:17.378Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:30:22.383Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:30:27.389Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:30:32.395Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:30:37.400Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:30:42.405Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:30:47.411Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:30:52.417Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:30:57.422Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:31:02.427Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:31:07.434Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:31:12.438Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:31:17.451Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:31:22.458Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:31:27.464Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:31:32.470Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:31:37.477Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:31:42.483Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:31:47.488Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:31:52.492Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:31:57.496Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:32:02.500Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:32:07.506Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:32:12.511Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:32:17.516Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:32:22.519Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:32:27.523Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:32:32.527Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:32:37.532Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:32:42.538Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:32:47.540Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:32:52.545Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:32:57.548Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:33:02.553Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:33:07.556Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:33:12.561Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:33:17.566Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:33:22.572Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:33:27.577Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:33:32.582Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:33:37.587Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:33:42.593Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:33:47.598Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:33:52.602Z [m:47104] [warn ] Starting automation client api failed: listen EADDRINUSE :::2866
2018-05-20T11:33:53.973Z [m:47104] [info ] Shutdown initiated. Calling shutdown hooks
2018-05-20T11:33:53.976Z [m:47104] [info ] Closing WebSocket connection
2018-05-20T11:33:53.977Z [m:47104] [debug] Sending application event: {"git":{"sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","branch":"master","repo":"git@github.com:atomisthq/sdm-automation.git"},"domain":"local","pod":"mbp.local","host":"mbp.local","id":"117ab47c-367d-4b0a-80ae-93696e65edb9","state":"stopping","ts":1526816033976}
2018-05-20T11:33:54.091Z [m:47104] [warn ] WebSocket connection closed with 1005: 
2018-05-20T11:33:54.095Z [m:47104] [error] {"errno":"EPIPE","code":"EPIPE","syscall":"write","name":"Error","message":"write EPIPE","stack":"Error: write EPIPE\n    at WriteWrap.afterWrite (net.js:844:14)"}
2018-05-20T11:33:54.096Z [m:47104] [error] {"errno":"EPIPE","code":"EPIPE","syscall":"write","name":"Error","message":"write EPIPE","stack":"Error: write EPIPE\n    at WriteWrap.afterWrite (net.js:844:14)"}
2018-05-20T11:33:54.838Z [m:47104] [info ] Shutdown hooks completed. Exiting...
2018-06-21T09:59:51.483Z [m:49369] [info ] Starting Atomist automation client @atomist/sdm-automation@0.1.0
2018-06-21T09:59:51.484Z [m:49369] [debug] Using automation client configuration: {"teamIds":["T1L0VDKJP"],"groups":[],"environment":"local","policy":"ephemeral","endpoints":{"api":"https://automation-staging.atomist.services/registration","graphql":"https://automation-staging.atomist.services/graphql/team"},"http":{"enabled":true,"host":"localhost","port":2866,"auth":{"basic":{"enabled":false},"bearer":{"enabled":true,"adminOrg":"atomisthq"}}},"ws":{"enabled":true,"termination":{"graceful":false,"gracePeriod":5000},"compress":false,"timeout":10000},"applicationEvents":{"enabled":true,"teamId":"T095SFFBK"},"cluster":{"enabled":false},"logging":{"level":"debug","file":{"enabled":true,"level":"debug"},"banner":true,"logEvents":{"enabled":false}},"statsd":{"enabled":false,"host":"dd-agent","port":8125},"name":"@atomist/sdm-automation","version":"0.1.0","keywords":["atomist","automation","card"],"application":"07f6195a-25f6-406f-9900-4021b680832e","token":"4**************************************d","sdm":{"docker":{"jfrog":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"},"hub":{"registry":"atomist","user":"atomist","password":"7**************g"}},"rolar":{"url":"h********************o"},"npm":{"registry":"https://atomist.jfrog.io/atomist/api/npm/npm-dev-local","npmrc":"@atomist:registry=https://atomist.jfrog.io/atomist/api/npm/npm-dev-local/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:_password=QVA0M1FScDNtQVlHaDZpS0FHb1I5ZUJabVY2UHB2V1JCZE1FVkY=\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:username=christian/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:email=christian@atomist.com\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:always-auth=true","access":"public"},"graphviz":{"url":""},"cloudfoundry":{"api":"https://api.run.pivotal.io","user":"cd@atomist.com","password":"t*************U","org":"atomist","spaces":{"production":"ri-production","staging":"ri-staging"}},"checkstyle":{"enabled":false,"reviewOnlyChangedFiles":true,"path":"/Users/cdupuis/Development/atomist/sample-sdm/test/checkstyle-8.8-all.jar"},"sonar":{"enabled":true,"url":"h*******************o","org":"sdm-org","token":"d**************************************e"},"git":{"url":"h*********************************************m","user":"rod","password":"a*****t"},"concourse":{"url":"h*******************0","user":"concourse","password":"c*******e","atomist":{"baseUrl":"h**********************************************************s"}},"artifactory":{"url":"h************************************************o","user":"christian","password":"3*****************H","apiKey":"AKCp5aUF3qqvW44G2Ummyp6DmbMczkDGqUbVASobKeHKXEfwzHNQBXrocsUAG9X3d1U5q98oQ"}},"raven":{"enabled":true,"dsn":"https://6b671bce853e4d42a0bd7b195e034abe@sentry.io/1209190"},"logzio":{"enabled":true,"token":"n******************************T"}}
2018-06-21T09:59:51.485Z [m:49369] [debug] Registering @atomist/sdm-automation@0.1.0 with Atomist at 'https://automation-staging.atomist.services/registration': {"api_version":"1","name":"@atomist/sdm-automation","version":"0.1.0","policy":{"name":"ephemeral"},"team_ids":["T1L0VDKJP"],"commands":[],"events":[],"ingesters":["type SdmGoal1 @rootType {\n    environment: String @compositeId\n    name: String @compositeId\n    uniqueName: String\n\n    sha: String @compositeId\n    branch: String @compositeId\n\n    repo(name: String!, owner: String!, providerId: String!): SdmRepository\n\n    fulfillment(name: String!, method: String!): SdmGoalFulfillment\n\n    description: String\n    url: String\n    goalSet: String\n    goalSetId: String\n    state: String\n    ts: Int @compositeId\n\n    error: String\n    retryFeasible: Boolean\n\n    approval: SdmProvenance\n    approvelRequired: Boolean\n\n    provenance: [SdmProvenance]\n\n    preConditions: [SdmCondition]\n\n    externalKey: String\n\n    data: String\n\n    commit: Commit\n        @linkTo(\n            queryName: \"pushBySha\",\n            variables: [{name: \"afterSha\", path: \"$.sha\"}, {name: \"branchName\", path: \"$.branch\"}]\n        )\n        @linkFrom(\n            field: {kind: LIST, name: \"goals\"},\n            query: \"query goals($sha: String!, $branch: String!) {SdmGoal(sha: [$sha], branch: [$branch]){id}}\",\n            variables: [{name: \"sha\", path: \"$.after.sha\"}, {name: \"branch\", path: \"$.branch\"}]\n        )\n}\n\ntype SdmRepository {\n    name: String\n    owner: String\n    providerId: String\n}\n\ntype SdmGoalFulfillment {\n    method: String\n    name: String\n}\n\ntype SdmProvenance {\n    correlationId: String\n    registration: String\n    version: String\n    name: String\n    ts: Int\n\n    userId: String\n    channelId: String\n}\n\ntype SdmCondition {\n    environment: String\n    name: String\n}"],"metadata":{"labels":{"atomist.description":"Automation client to define the global SDM custom types","atomist.license":"GPL-3.0","atomist.author":"Atomist","atomist.homepage":"https://github.com/atomisthq/sdm-automation#readme","atomist.client":"@atomist/automation-client#0.17.4-20180619214533","atomist.git.sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","atomist.git.branch":"master","atomist.git.repository":"git@github.com:atomisthq/sdm-automation.git","atomist.system.hostname":"imac-pro.local","atomist.system.type":"Darwin","atomist.system.release":"17.6.0","atomist.system.platform":"darwin"}}}
2018-06-21T09:59:51.515Z [m:49369] [debug] Sending application event: {"git":{"sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","branch":"master","repo":"git@github.com:atomisthq/sdm-automation.git"},"domain":"local","pod":"imac-pro.local","host":"imac-pro.local","id":"27bc0766-618b-45c1-b8b3-3f88a1a0898c","state":"started","ts":1529575191514}
2018-06-21T09:59:51.528Z [m:49369] [debug] Atomist automation client api running at 'http://localhost:2866'
2018-06-21T09:59:52.092Z [m:49369] [error] Registration failed with code '401': '"Could not authenticate token 49***ad with GitHub"'
2018-06-21T10:00:10.550Z [m:49453] [info ] Starting Atomist automation client @atomist/sdm-automation@0.1.0
2018-06-21T10:00:10.551Z [m:49453] [debug] Using automation client configuration: {"teamIds":["T1L0VDKJP"],"groups":[],"environment":"local","policy":"ephemeral","endpoints":{"api":"https://automation-staging.atomist.services/registration","graphql":"https://automation-staging.atomist.services/graphql/team"},"http":{"enabled":true,"host":"localhost","port":2866,"auth":{"basic":{"enabled":false},"bearer":{"enabled":true,"adminOrg":"atomisthq"}}},"ws":{"enabled":true,"termination":{"graceful":false,"gracePeriod":5000},"compress":false,"timeout":10000},"applicationEvents":{"enabled":true,"teamId":"T095SFFBK"},"cluster":{"enabled":false},"logging":{"level":"debug","file":{"enabled":true,"level":"debug"},"banner":true,"logEvents":{"enabled":false}},"statsd":{"enabled":false,"host":"dd-agent","port":8125},"name":"@atomist/sdm-automation","version":"0.1.0","keywords":["atomist","automation","card"],"application":"fd43acbd-8166-4217-bb9b-7dd34995b114","token":"9**************************************3","sdm":{"docker":{"jfrog":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"},"hub":{"registry":"atomist","user":"atomist","password":"7**************g"}},"rolar":{"url":"h********************o"},"npm":{"registry":"https://atomist.jfrog.io/atomist/api/npm/npm-dev-local","npmrc":"@atomist:registry=https://atomist.jfrog.io/atomist/api/npm/npm-dev-local/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:_password=QVA0M1FScDNtQVlHaDZpS0FHb1I5ZUJabVY2UHB2V1JCZE1FVkY=\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:username=christian/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:email=christian@atomist.com\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:always-auth=true","access":"public"},"graphviz":{"url":""},"cloudfoundry":{"api":"https://api.run.pivotal.io","user":"cd@atomist.com","password":"t*************U","org":"atomist","spaces":{"production":"ri-production","staging":"ri-staging"}},"checkstyle":{"enabled":false,"reviewOnlyChangedFiles":true,"path":"/Users/cdupuis/Development/atomist/sample-sdm/test/checkstyle-8.8-all.jar"},"sonar":{"enabled":true,"url":"h*******************o","org":"sdm-org","token":"d**************************************e"},"git":{"url":"h*********************************************m","user":"rod","password":"a*****t"},"concourse":{"url":"h*******************0","user":"concourse","password":"c*******e","atomist":{"baseUrl":"h**********************************************************s"}},"artifactory":{"url":"h************************************************o","user":"christian","password":"3*****************H","apiKey":"AKCp5aUF3qqvW44G2Ummyp6DmbMczkDGqUbVASobKeHKXEfwzHNQBXrocsUAG9X3d1U5q98oQ"}},"raven":{"enabled":true,"dsn":"https://6b671bce853e4d42a0bd7b195e034abe@sentry.io/1209190"},"logzio":{"enabled":true,"token":"n******************************T"}}
2018-06-21T10:00:10.553Z [m:49453] [debug] Registering @atomist/sdm-automation@0.1.0 with Atomist at 'https://automation-staging.atomist.services/registration': {"api_version":"1","name":"@atomist/sdm-automation","version":"0.1.0","policy":{"name":"ephemeral"},"team_ids":["T1L0VDKJP"],"commands":[],"events":[],"ingesters":["type SdmGoal1 @rootType {\n    environment: String @compositeId\n    name: String @compositeId\n    uniqueName: String\n\n    sha: String @compositeId\n    branch: String @compositeId\n\n    repo(name: String!, owner: String!, providerId: String!): SdmRepository\n\n    fulfillment(name: String!, method: String!): SdmGoalFulfillment\n\n    description: String\n    url: String\n    goalSet: String\n    goalSetId: String\n    state: String\n    ts: Int @compositeId\n\n    error: String\n    retryFeasible: Boolean\n\n    approval: SdmProvenance\n    approvelRequired: Boolean\n\n    provenance: [SdmProvenance]\n\n    preConditions: [SdmCondition]\n\n    externalKey: String\n\n    data: String\n\n    commit: Commit\n        @linkTo(\n            queryName: \"pushBySha\",\n            variables: [{name: \"afterSha\", path: \"$.sha\"}, {name: \"branchName\", path: \"$.branch\"}]\n        )\n        @linkFrom(\n            field: {kind: LIST, name: \"goals\"},\n            query: \"query goals($sha: String!, $branch: String!) {SdmGoal(sha: [$sha], branch: [$branch]){id}}\",\n            variables: [{name: \"sha\", path: \"$.after.sha\"}, {name: \"branch\", path: \"$.branch\"}]\n        )\n}\n\ntype SdmRepository {\n    name: String\n    owner: String\n    providerId: String\n}\n\ntype SdmGoalFulfillment {\n    method: String\n    name: String\n}\n\ntype SdmProvenance {\n    correlationId: String\n    registration: String\n    version: String\n    name: String\n    ts: Int\n\n    userId: String\n    channelId: String\n}\n\ntype SdmCondition {\n    environment: String\n    name: String\n}"],"metadata":{"labels":{"atomist.description":"Automation client to define the global SDM custom types","atomist.license":"GPL-3.0","atomist.author":"Atomist","atomist.homepage":"https://github.com/atomisthq/sdm-automation#readme","atomist.client":"@atomist/automation-client#0.17.4-20180619214533","atomist.git.sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","atomist.git.branch":"master","atomist.git.repository":"git@github.com:atomisthq/sdm-automation.git","atomist.system.hostname":"imac-pro.local","atomist.system.type":"Darwin","atomist.system.release":"17.6.0","atomist.system.platform":"darwin"}}}
2018-06-21T10:00:10.574Z [m:49453] [debug] Sending application event: {"git":{"sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","branch":"master","repo":"git@github.com:atomisthq/sdm-automation.git"},"domain":"local","pod":"imac-pro.local","host":"imac-pro.local","id":"6431b2c0-b17a-4132-9d91-07d38cb8f3f1","state":"started","ts":1529575210574}
2018-06-21T10:00:10.587Z [m:49453] [debug] Atomist automation client api running at 'http://localhost:2866'
2018-06-21T10:00:13.376Z [m:49453] [info ] Registration successful: {"url":"wss://automation-staging.atomist.services/registration/session:e6152bc4-c53e-4fee-a7ca-9fa7c1213117","jwt":"session:e6152bc4-c53e-4fee-a7ca-9fa7c1213117","endpoints":[{"url":"https://webhook-staging.atomist.services/atomist/teams/T1L0VDKJP/ingestion/SdmGoal1/ce87094a-e919-43a1-a34a-99859b819d42","team_id":"T1L0VDKJP","name":"SdmGoal1"}],"name":"@atomist/sdm-automation","version":"0.1.0"}
2018-06-21T10:00:13.383Z [m:49453] [info ] Opening WebSocket connection
2018-06-21T10:00:13.387Z [m:49453] [info ] 
   ____          _                      _       _       __          _                                  _                             _    _               
  / __ \   __ _ | |_   ___   _ __ ___  (_) ___ | |_    / / ___   __| | _ __ ___           __ _  _   _ | |_   ___   _ __ ___    __ _ | |_ (_)  ___   _ __  
 / / _` | / _` || __| / _ \ | '_ ` _ \ | |/ __|| __|  / / / __| / _` || '_ ` _ \  _____  / _` || | | || __| / _ \ | '_ ` _ \  / _` || __|| | / _ \ | '_ \ 
| | (_| || (_| || |_ | (_) || | | | | || |\__ \| |_  / /  \__ \| (_| || | | | | ||_____|| (_| || |_| || |_ | (_) || | | | | || (_| || |_ | || (_) || | | |
 \ \__,_| \__,_| \__| \___/ |_| |_| |_||_||___/ \__|/_/   |___/ \__,_||_| |_| |_|        \__,_| \__,_| \__| \___/ |_| |_| |_| \__,_| \__||_| \___/ |_| |_|
  \____/                                                                                                                                                  

  Version 0.1.0  Sha 2e02da2  Repository git@github.com:atomisthq/sdm-automation.git
  Team T1L0VDKJP  Policy ephemeral  Cluster disabled
  Commands 0  Events 0  Ingester 1
  JWT session:e6152bc4-c53e-4fee-a7ca-9fa7c1213117
  
  

  Url https://app.atomist.com/workspace/T1L0VDKJP/automations
  GraphiQL https://app.atomist.com/workspace/T1L0VDKJP/graphql

  Docs https://docs.atomist.com  Support https://join.atomist.com

2018-06-21T10:00:13.866Z [m:49453] [info ] WebSocket connection established. Listening for incoming messages
2018-06-21T10:03:11.738Z [m:49453] [info ] Shutdown initiated. Calling shutdown hooks
2018-06-21T10:03:11.738Z [m:49453] [info ] Closing WebSocket connection
2018-06-21T10:03:11.739Z [m:49453] [debug] Sending application event: {"git":{"sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","branch":"master","repo":"git@github.com:atomisthq/sdm-automation.git"},"domain":"local","pod":"imac-pro.local","host":"imac-pro.local","id":"6431b2c0-b17a-4132-9d91-07d38cb8f3f1","state":"stopping","ts":1529575391738}
2018-06-21T10:03:11.853Z [m:49453] [warn ] WebSocket connection closed with 1005: 
2018-06-21T10:03:12.276Z [m:49453] [info ] Shutdown hooks completed. Exiting...
2018-06-21T10:03:57.592Z [m:49806] [info ] Starting Atomist automation client @atomist/sdm-automation@0.1.0
2018-06-21T10:03:57.593Z [m:49806] [debug] Using automation client configuration: {"teamIds":["T1L0VDKJP"],"groups":[],"environment":"local","policy":"ephemeral","endpoints":{"api":"https://automation-staging.atomist.services/registration","graphql":"https://automation-staging.atomist.services/graphql/team"},"http":{"enabled":true,"host":"localhost","port":2866,"auth":{"basic":{"enabled":false},"bearer":{"enabled":true,"adminOrg":"atomisthq"}}},"ws":{"enabled":true,"termination":{"graceful":false,"gracePeriod":5000},"compress":false,"timeout":10000},"applicationEvents":{"enabled":true,"teamId":"T095SFFBK"},"cluster":{"enabled":false},"logging":{"level":"debug","file":{"enabled":true,"level":"debug"},"banner":true,"logEvents":{"enabled":false}},"statsd":{"enabled":false,"host":"dd-agent","port":8125},"name":"@atomist/sdm-automation","version":"0.1.0","keywords":["atomist","automation","card"],"application":"2510b94f-49b8-45bc-9e71-7769ffb0dda7","token":"9**************************************3","sdm":{"docker":{"jfrog":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"},"hub":{"registry":"atomist","user":"atomist","password":"7**************g"}},"rolar":{"url":"h********************o"},"npm":{"registry":"https://atomist.jfrog.io/atomist/api/npm/npm-dev-local","npmrc":"@atomist:registry=https://atomist.jfrog.io/atomist/api/npm/npm-dev-local/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:_password=QVA0M1FScDNtQVlHaDZpS0FHb1I5ZUJabVY2UHB2V1JCZE1FVkY=\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:username=christian/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:email=christian@atomist.com\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:always-auth=true","access":"public"},"graphviz":{"url":""},"cloudfoundry":{"api":"https://api.run.pivotal.io","user":"cd@atomist.com","password":"t*************U","org":"atomist","spaces":{"production":"ri-production","staging":"ri-staging"}},"checkstyle":{"enabled":false,"reviewOnlyChangedFiles":true,"path":"/Users/cdupuis/Development/atomist/sample-sdm/test/checkstyle-8.8-all.jar"},"sonar":{"enabled":true,"url":"h*******************o","org":"sdm-org","token":"d**************************************e"},"git":{"url":"h*********************************************m","user":"rod","password":"a*****t"},"concourse":{"url":"h*******************0","user":"concourse","password":"c*******e","atomist":{"baseUrl":"h**********************************************************s"}},"artifactory":{"url":"h************************************************o","user":"christian","password":"3*****************H","apiKey":"AKCp5aUF3qqvW44G2Ummyp6DmbMczkDGqUbVASobKeHKXEfwzHNQBXrocsUAG9X3d1U5q98oQ"}},"raven":{"enabled":true,"dsn":"https://6b671bce853e4d42a0bd7b195e034abe@sentry.io/1209190"},"logzio":{"enabled":true,"token":"n******************************T"}}
2018-06-21T10:03:57.595Z [m:49806] [debug] Registering @atomist/sdm-automation@0.1.0 with Atomist at 'https://automation-staging.atomist.services/registration': {"api_version":"1","name":"@atomist/sdm-automation","version":"0.1.0","policy":{"name":"ephemeral"},"team_ids":["T1L0VDKJP"],"commands":[],"events":[],"ingesters":["type SdmGoal1 @rootType {\n    environment: String @compositeId\n    name: String @compositeId\n    uniqueName: String\n\n    sha: String @compositeId\n    branch: String @compositeId\n\n    repo(name: [String!], owner: [String!], providerId: [String!]): SdmRepository\n\n    fulfillment(name: [String!], method: [String!]): SdmGoalFulfillment\n\n    description: String\n    url: String\n    goalSet: String\n    goalSetId: String\n    state: String\n    ts: Int @compositeId\n\n    error: String\n    retryFeasible: Boolean\n\n    approval: SdmProvenance\n    approvelRequired: Boolean\n\n    provenance: [SdmProvenance]\n\n    preConditions: [SdmCondition]\n\n    externalKey: String\n\n    data: String\n\n    commit: Commit\n        @linkTo(\n            queryName: \"pushBySha\",\n            variables: [{name: \"afterSha\", path: \"$.sha\"}, {name: \"branchName\", path: \"$.branch\"}]\n        )\n        @linkFrom(\n            field: {kind: LIST, name: \"goals\"},\n            query: \"query goals($sha: String!, $branch: String!) {SdmGoal(sha: [$sha], branch: [$branch]){id}}\",\n            variables: [{name: \"sha\", path: \"$.after.sha\"}, {name: \"branch\", path: \"$.branch\"}]\n        )\n}\n\ntype SdmRepository {\n    name: String\n    owner: String\n    providerId: String\n}\n\ntype SdmGoalFulfillment {\n    method: String\n    name: String\n}\n\ntype SdmProvenance {\n    correlationId: String\n    registration: String\n    version: String\n    name: String\n    ts: Int\n\n    userId: String\n    channelId: String\n}\n\ntype SdmCondition {\n    environment: String\n    name: String\n}"],"metadata":{"labels":{"atomist.description":"Automation client to define the global SDM custom types","atomist.license":"GPL-3.0","atomist.author":"Atomist","atomist.homepage":"https://github.com/atomisthq/sdm-automation#readme","atomist.client":"@atomist/automation-client#0.17.4-20180619214533","atomist.git.sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","atomist.git.branch":"master","atomist.git.repository":"git@github.com:atomisthq/sdm-automation.git","atomist.system.hostname":"imac-pro.local","atomist.system.type":"Darwin","atomist.system.release":"17.6.0","atomist.system.platform":"darwin"}}}
2018-06-21T10:03:57.617Z [m:49806] [debug] Sending application event: {"git":{"sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","branch":"master","repo":"git@github.com:atomisthq/sdm-automation.git"},"domain":"local","pod":"imac-pro.local","host":"imac-pro.local","id":"88748dad-9612-4d0c-ad4b-492ae11b2fd2","state":"started","ts":1529575437617}
2018-06-21T10:03:57.631Z [m:49806] [debug] Atomist automation client api running at 'http://localhost:2866'
2018-06-21T10:03:59.552Z [m:49806] [info ] Registration successful: {"url":"wss://automation-staging.atomist.services/registration/session:e3cee11e-1697-43c2-b30e-de0f7acd7d60","jwt":"session:e3cee11e-1697-43c2-b30e-de0f7acd7d60","endpoints":[{"url":"https://webhook-staging.atomist.services/atomist/teams/T1L0VDKJP/ingestion/SdmGoal1/ce87094a-e919-43a1-a34a-99859b819d42","team_id":"T1L0VDKJP","name":"SdmGoal1"}],"name":"@atomist/sdm-automation","version":"0.1.0"}
2018-06-21T10:03:59.557Z [m:49806] [info ] Opening WebSocket connection
2018-06-21T10:03:59.561Z [m:49806] [info ] 
   ____          _                      _       _       __          _                                  _                             _    _               
  / __ \   __ _ | |_   ___   _ __ ___  (_) ___ | |_    / / ___   __| | _ __ ___           __ _  _   _ | |_   ___   _ __ ___    __ _ | |_ (_)  ___   _ __  
 / / _` | / _` || __| / _ \ | '_ ` _ \ | |/ __|| __|  / / / __| / _` || '_ ` _ \  _____  / _` || | | || __| / _ \ | '_ ` _ \  / _` || __|| | / _ \ | '_ \ 
| | (_| || (_| || |_ | (_) || | | | | || |\__ \| |_  / /  \__ \| (_| || | | | | ||_____|| (_| || |_| || |_ | (_) || | | | | || (_| || |_ | || (_) || | | |
 \ \__,_| \__,_| \__| \___/ |_| |_| |_||_||___/ \__|/_/   |___/ \__,_||_| |_| |_|        \__,_| \__,_| \__| \___/ |_| |_| |_| \__,_| \__||_| \___/ |_| |_|
  \____/                                                                                                                                                  

  Version 0.1.0  Sha 2e02da2  Repository git@github.com:atomisthq/sdm-automation.git
  Team T1L0VDKJP  Policy ephemeral  Cluster disabled
  Commands 0  Events 0  Ingester 1
  JWT session:e3cee11e-1697-43c2-b30e-de0f7acd7d60
  
  

  Url https://app.atomist.com/workspace/T1L0VDKJP/automations
  GraphiQL https://app.atomist.com/workspace/T1L0VDKJP/graphql

  Docs https://docs.atomist.com  Support https://join.atomist.com

2018-06-21T10:03:59.935Z [m:49806] [info ] WebSocket connection established. Listening for incoming messages
2018-06-21T10:08:05.780Z [m:49806] [info ] Shutdown initiated. Calling shutdown hooks
2018-06-21T10:08:05.780Z [m:49806] [info ] Closing WebSocket connection
2018-06-21T10:08:05.781Z [m:49806] [debug] Sending application event: {"git":{"sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","branch":"master","repo":"git@github.com:atomisthq/sdm-automation.git"},"domain":"local","pod":"imac-pro.local","host":"imac-pro.local","id":"88748dad-9612-4d0c-ad4b-492ae11b2fd2","state":"stopping","ts":1529575685780}
2018-06-21T10:08:05.897Z [m:49806] [warn ] WebSocket connection closed with 1005: 
2018-06-21T10:08:06.298Z [m:49806] [info ] Shutdown hooks completed. Exiting...
2018-06-21T10:08:12.575Z [m:50191] [info ] Starting Atomist automation client @atomist/sdm-automation@0.1.0
2018-06-21T10:08:12.576Z [m:50191] [debug] Using automation client configuration: {"teamIds":["T1L0VDKJP"],"groups":[],"environment":"local","policy":"ephemeral","endpoints":{"api":"https://automation-staging.atomist.services/registration","graphql":"https://automation-staging.atomist.services/graphql/team"},"http":{"enabled":true,"host":"localhost","port":2866,"auth":{"basic":{"enabled":false},"bearer":{"enabled":true,"adminOrg":"atomisthq"}}},"ws":{"enabled":true,"termination":{"graceful":false,"gracePeriod":5000},"compress":false,"timeout":10000},"applicationEvents":{"enabled":true,"teamId":"T095SFFBK"},"cluster":{"enabled":false},"logging":{"level":"debug","file":{"enabled":true,"level":"debug"},"banner":true,"logEvents":{"enabled":false}},"statsd":{"enabled":false,"host":"dd-agent","port":8125},"name":"@atomist/sdm-automation","version":"0.1.0","keywords":["atomist","automation","card"],"application":"f6319e1f-5e4a-4ca4-97f5-0d72cb993465","token":"9**************************************3","sdm":{"docker":{"jfrog":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"},"hub":{"registry":"atomist","user":"atomist","password":"7**************g"}},"rolar":{"url":"h********************o"},"npm":{"registry":"https://atomist.jfrog.io/atomist/api/npm/npm-dev-local","npmrc":"@atomist:registry=https://atomist.jfrog.io/atomist/api/npm/npm-dev-local/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:_password=QVA0M1FScDNtQVlHaDZpS0FHb1I5ZUJabVY2UHB2V1JCZE1FVkY=\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:username=christian/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:email=christian@atomist.com\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:always-auth=true","access":"public"},"graphviz":{"url":""},"cloudfoundry":{"api":"https://api.run.pivotal.io","user":"cd@atomist.com","password":"t*************U","org":"atomist","spaces":{"production":"ri-production","staging":"ri-staging"}},"checkstyle":{"enabled":false,"reviewOnlyChangedFiles":true,"path":"/Users/cdupuis/Development/atomist/sample-sdm/test/checkstyle-8.8-all.jar"},"sonar":{"enabled":true,"url":"h*******************o","org":"sdm-org","token":"d**************************************e"},"git":{"url":"h*********************************************m","user":"rod","password":"a*****t"},"concourse":{"url":"h*******************0","user":"concourse","password":"c*******e","atomist":{"baseUrl":"h**********************************************************s"}},"artifactory":{"url":"h************************************************o","user":"christian","password":"3*****************H","apiKey":"AKCp5aUF3qqvW44G2Ummyp6DmbMczkDGqUbVASobKeHKXEfwzHNQBXrocsUAG9X3d1U5q98oQ"}},"raven":{"enabled":true,"dsn":"https://6b671bce853e4d42a0bd7b195e034abe@sentry.io/1209190"},"logzio":{"enabled":true,"token":"n******************************T"}}
2018-06-21T10:08:12.577Z [m:50191] [debug] Registering @atomist/sdm-automation@0.1.0 with Atomist at 'https://automation-staging.atomist.services/registration': {"api_version":"1","name":"@atomist/sdm-automation","version":"0.1.0","policy":{"name":"ephemeral"},"team_ids":["T1L0VDKJP"],"commands":[],"events":[],"ingesters":["type SdmGoal1 @rootType {\n    environment: String @compositeId\n    name: String @compositeId\n    uniqueName: String\n\n    sha: String @compositeId\n    branch: String @compositeId\n\n    repo(name: String!, owner: String!, providerId: String!): SdmRepository\n\n    fulfillment(name: String!, method: String!): SdmGoalFulfillment\n\n    description: String\n    url: String\n    goalSet: String\n    goalSetId: String\n    state: String\n    ts: Int @compositeId\n\n    error: String\n    retryFeasible: Boolean\n\n    approval: SdmProvenance\n    approvelRequired: Boolean\n\n    provenance: [SdmProvenance]\n\n    preConditions: [SdmCondition]\n\n    externalKey: String\n\n    data: String\n\n    commit: Commit\n        @linkTo(\n            queryName: \"pushBySha\",\n            variables: [{name: \"afterSha\", path: \"$.sha\"}, {name: \"branchName\", path: \"$.branch\"}]\n        )\n        @linkFrom(\n            field: {kind: LIST, name: \"goals\"},\n            query: \"query goals($sha: String!, $branch: String!) {SdmGoal(sha: [$sha], branch: [$branch]){id}}\",\n            variables: [{name: \"sha\", path: \"$.after.sha\"}, {name: \"branch\", path: \"$.branch\"}]\n        )\n}\n\ntype SdmRepository {\n    name: String\n    owner: String\n    providerId: String\n}\n\ntype SdmGoalFulfillment {\n    method: String\n    name: String\n}\n\ntype SdmProvenance {\n    correlationId: String\n    registration: String\n    version: String\n    name: String\n    ts: Int\n\n    userId: String\n    channelId: String\n}\n\ntype SdmCondition {\n    environment: String\n    name: String\n}"],"metadata":{"labels":{"atomist.description":"Automation client to define the global SDM custom types","atomist.license":"GPL-3.0","atomist.author":"Atomist","atomist.homepage":"https://github.com/atomisthq/sdm-automation#readme","atomist.client":"@atomist/automation-client#0.17.4-20180619214533","atomist.git.sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","atomist.git.branch":"master","atomist.git.repository":"git@github.com:atomisthq/sdm-automation.git","atomist.system.hostname":"imac-pro.local","atomist.system.type":"Darwin","atomist.system.release":"17.6.0","atomist.system.platform":"darwin"}}}
2018-06-21T10:08:12.600Z [m:50191] [debug] Sending application event: {"git":{"sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","branch":"master","repo":"git@github.com:atomisthq/sdm-automation.git"},"domain":"local","pod":"imac-pro.local","host":"imac-pro.local","id":"946a4b43-2ee4-4010-9419-c6238c3ce914","state":"started","ts":1529575692600}
2018-06-21T10:08:12.614Z [m:50191] [debug] Atomist automation client api running at 'http://localhost:2866'
2018-06-21T10:08:14.984Z [m:50191] [info ] Registration successful: {"url":"wss://automation-staging.atomist.services/registration/session:3b9d8fd6-c902-4d7b-9ed2-5843a726ff1f","jwt":"session:3b9d8fd6-c902-4d7b-9ed2-5843a726ff1f","endpoints":[{"url":"https://webhook-staging.atomist.services/atomist/teams/T1L0VDKJP/ingestion/SdmGoal1/ce87094a-e919-43a1-a34a-99859b819d42","team_id":"T1L0VDKJP","name":"SdmGoal1"}],"name":"@atomist/sdm-automation","version":"0.1.0"}
2018-06-21T10:08:14.989Z [m:50191] [info ] Opening WebSocket connection
2018-06-21T10:08:14.992Z [m:50191] [info ] 
   ____          _                      _       _       __          _                                  _                             _    _               
  / __ \   __ _ | |_   ___   _ __ ___  (_) ___ | |_    / / ___   __| | _ __ ___           __ _  _   _ | |_   ___   _ __ ___    __ _ | |_ (_)  ___   _ __  
 / / _` | / _` || __| / _ \ | '_ ` _ \ | |/ __|| __|  / / / __| / _` || '_ ` _ \  _____  / _` || | | || __| / _ \ | '_ ` _ \  / _` || __|| | / _ \ | '_ \ 
| | (_| || (_| || |_ | (_) || | | | | || |\__ \| |_  / /  \__ \| (_| || | | | | ||_____|| (_| || |_| || |_ | (_) || | | | | || (_| || |_ | || (_) || | | |
 \ \__,_| \__,_| \__| \___/ |_| |_| |_||_||___/ \__|/_/   |___/ \__,_||_| |_| |_|        \__,_| \__,_| \__| \___/ |_| |_| |_| \__,_| \__||_| \___/ |_| |_|
  \____/                                                                                                                                                  

  Version 0.1.0  Sha 2e02da2  Repository git@github.com:atomisthq/sdm-automation.git
  Team T1L0VDKJP  Policy ephemeral  Cluster disabled
  Commands 0  Events 0  Ingester 1
  JWT session:3b9d8fd6-c902-4d7b-9ed2-5843a726ff1f
  
  

  Url https://app.atomist.com/workspace/T1L0VDKJP/automations
  GraphiQL https://app.atomist.com/workspace/T1L0VDKJP/graphql

  Docs https://docs.atomist.com  Support https://join.atomist.com

2018-06-21T10:08:15.469Z [m:50191] [info ] WebSocket connection established. Listening for incoming messages
2018-06-21T10:09:04.905Z [m:50191] [info ] Shutdown initiated. Calling shutdown hooks
2018-06-21T10:09:04.906Z [m:50191] [info ] Closing WebSocket connection
2018-06-21T10:09:04.906Z [m:50191] [debug] Sending application event: {"git":{"sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","branch":"master","repo":"git@github.com:atomisthq/sdm-automation.git"},"domain":"local","pod":"imac-pro.local","host":"imac-pro.local","id":"946a4b43-2ee4-4010-9419-c6238c3ce914","state":"stopping","ts":1529575744906}
2018-06-21T10:09:05.022Z [m:50191] [warn ] WebSocket connection closed with 1005: 
2018-06-21T10:09:05.382Z [m:50191] [info ] Shutdown hooks completed. Exiting...
2018-06-21T10:09:11.312Z [m:50344] [info ] Starting Atomist automation client @atomist/sdm-automation@0.1.0
2018-06-21T10:09:11.313Z [m:50344] [debug] Using automation client configuration: {"teamIds":["T1L0VDKJP"],"groups":[],"environment":"local","policy":"ephemeral","endpoints":{"api":"https://automation-staging.atomist.services/registration","graphql":"https://automation-staging.atomist.services/graphql/team"},"http":{"enabled":true,"host":"localhost","port":2866,"auth":{"basic":{"enabled":false},"bearer":{"enabled":true,"adminOrg":"atomisthq"}}},"ws":{"enabled":true,"termination":{"graceful":false,"gracePeriod":5000},"compress":false,"timeout":10000},"applicationEvents":{"enabled":true,"teamId":"T095SFFBK"},"cluster":{"enabled":false},"logging":{"level":"debug","file":{"enabled":true,"level":"debug"},"banner":true,"logEvents":{"enabled":false}},"statsd":{"enabled":false,"host":"dd-agent","port":8125},"name":"@atomist/sdm-automation","version":"0.1.0","keywords":["atomist","automation","card"],"application":"e3a842aa-10cb-46dc-bcc2-e50ef8d125de","token":"9**************************************3","sdm":{"docker":{"jfrog":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"},"hub":{"registry":"atomist","user":"atomist","password":"7**************g"}},"rolar":{"url":"h********************o"},"npm":{"registry":"https://atomist.jfrog.io/atomist/api/npm/npm-dev-local","npmrc":"@atomist:registry=https://atomist.jfrog.io/atomist/api/npm/npm-dev-local/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:_password=QVA0M1FScDNtQVlHaDZpS0FHb1I5ZUJabVY2UHB2V1JCZE1FVkY=\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:username=christian/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:email=christian@atomist.com\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:always-auth=true","access":"public"},"graphviz":{"url":""},"cloudfoundry":{"api":"https://api.run.pivotal.io","user":"cd@atomist.com","password":"t*************U","org":"atomist","spaces":{"production":"ri-production","staging":"ri-staging"}},"checkstyle":{"enabled":false,"reviewOnlyChangedFiles":true,"path":"/Users/cdupuis/Development/atomist/sample-sdm/test/checkstyle-8.8-all.jar"},"sonar":{"enabled":true,"url":"h*******************o","org":"sdm-org","token":"d**************************************e"},"git":{"url":"h*********************************************m","user":"rod","password":"a*****t"},"concourse":{"url":"h*******************0","user":"concourse","password":"c*******e","atomist":{"baseUrl":"h**********************************************************s"}},"artifactory":{"url":"h************************************************o","user":"christian","password":"3*****************H","apiKey":"AKCp5aUF3qqvW44G2Ummyp6DmbMczkDGqUbVASobKeHKXEfwzHNQBXrocsUAG9X3d1U5q98oQ"}},"raven":{"enabled":true,"dsn":"https://6b671bce853e4d42a0bd7b195e034abe@sentry.io/1209190"},"logzio":{"enabled":true,"token":"n******************************T"}}
2018-06-21T10:09:11.315Z [m:50344] [debug] Registering @atomist/sdm-automation@0.1.0 with Atomist at 'https://automation-staging.atomist.services/registration': {"api_version":"1","name":"@atomist/sdm-automation","version":"0.1.0","policy":{"name":"ephemeral"},"team_ids":["T1L0VDKJP"],"commands":[],"events":[],"ingesters":["type SdmGoal1 @rootType {\n    environment: String @compositeId\n    name: String @compositeId\n    uniqueName: String\n\n    sha: String @compositeId\n    branch: String @compositeId\n\n    repo(name: String!, owner: [String!], providerId: [String!]): SdmRepository\n\n    fulfillment(name: [String!], method: [String!]): SdmGoalFulfillment\n\n    description: String\n    url: String\n    goalSet: String\n    goalSetId: String\n    state: String\n    ts: Int @compositeId\n\n    error: String\n    retryFeasible: Boolean\n\n    approval: SdmProvenance\n    approvelRequired: Boolean\n\n    provenance: [SdmProvenance]\n\n    preConditions: [SdmCondition]\n\n    externalKey: String\n\n    data: String\n\n    commit: Commit\n        @linkTo(\n            queryName: \"pushBySha\",\n            variables: [{name: \"afterSha\", path: \"$.sha\"}, {name: \"branchName\", path: \"$.branch\"}]\n        )\n        @linkFrom(\n            field: {kind: LIST, name: \"goals\"},\n            query: \"query goals($sha: String!, $branch: String!) {SdmGoal(sha: [$sha], branch: [$branch]){id}}\",\n            variables: [{name: \"sha\", path: \"$.after.sha\"}, {name: \"branch\", path: \"$.branch\"}]\n        )\n}\n\ntype SdmRepository {\n    name: String\n    owner: String\n    providerId: String\n}\n\ntype SdmGoalFulfillment {\n    method: String\n    name: String\n}\n\ntype SdmProvenance {\n    correlationId: String\n    registration: String\n    version: String\n    name: String\n    ts: Int\n\n    userId: String\n    channelId: String\n}\n\ntype SdmCondition {\n    environment: String\n    name: String\n}"],"metadata":{"labels":{"atomist.description":"Automation client to define the global SDM custom types","atomist.license":"GPL-3.0","atomist.author":"Atomist","atomist.homepage":"https://github.com/atomisthq/sdm-automation#readme","atomist.client":"@atomist/automation-client#0.17.4-20180619214533","atomist.git.sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","atomist.git.branch":"master","atomist.git.repository":"git@github.com:atomisthq/sdm-automation.git","atomist.system.hostname":"imac-pro.local","atomist.system.type":"Darwin","atomist.system.release":"17.6.0","atomist.system.platform":"darwin"}}}
2018-06-21T10:09:11.337Z [m:50344] [debug] Sending application event: {"git":{"sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","branch":"master","repo":"git@github.com:atomisthq/sdm-automation.git"},"domain":"local","pod":"imac-pro.local","host":"imac-pro.local","id":"9a794cc3-ab0d-4e44-890e-8e10feb3dc06","state":"started","ts":1529575751337}
2018-06-21T10:09:11.351Z [m:50344] [debug] Atomist automation client api running at 'http://localhost:2866'
2018-06-21T10:09:13.560Z [m:50344] [info ] Registration successful: {"url":"wss://automation-staging.atomist.services/registration/session:007581f3-7a52-4fc1-81fa-c86db26ed054","jwt":"session:007581f3-7a52-4fc1-81fa-c86db26ed054","endpoints":[{"url":"https://webhook-staging.atomist.services/atomist/teams/T1L0VDKJP/ingestion/SdmGoal1/ce87094a-e919-43a1-a34a-99859b819d42","team_id":"T1L0VDKJP","name":"SdmGoal1"}],"name":"@atomist/sdm-automation","version":"0.1.0"}
2018-06-21T10:09:13.565Z [m:50344] [info ] Opening WebSocket connection
2018-06-21T10:09:13.569Z [m:50344] [info ] 
   ____          _                      _       _       __          _                                  _                             _    _               
  / __ \   __ _ | |_   ___   _ __ ___  (_) ___ | |_    / / ___   __| | _ __ ___           __ _  _   _ | |_   ___   _ __ ___    __ _ | |_ (_)  ___   _ __  
 / / _` | / _` || __| / _ \ | '_ ` _ \ | |/ __|| __|  / / / __| / _` || '_ ` _ \  _____  / _` || | | || __| / _ \ | '_ ` _ \  / _` || __|| | / _ \ | '_ \ 
| | (_| || (_| || |_ | (_) || | | | | || |\__ \| |_  / /  \__ \| (_| || | | | | ||_____|| (_| || |_| || |_ | (_) || | | | | || (_| || |_ | || (_) || | | |
 \ \__,_| \__,_| \__| \___/ |_| |_| |_||_||___/ \__|/_/   |___/ \__,_||_| |_| |_|        \__,_| \__,_| \__| \___/ |_| |_| |_| \__,_| \__||_| \___/ |_| |_|
  \____/                                                                                                                                                  

  Version 0.1.0  Sha 2e02da2  Repository git@github.com:atomisthq/sdm-automation.git
  Team T1L0VDKJP  Policy ephemeral  Cluster disabled
  Commands 0  Events 0  Ingester 1
  JWT session:007581f3-7a52-4fc1-81fa-c86db26ed054
  
  

  Url https://app.atomist.com/workspace/T1L0VDKJP/automations
  GraphiQL https://app.atomist.com/workspace/T1L0VDKJP/graphql

  Docs https://docs.atomist.com  Support https://join.atomist.com

2018-06-21T10:09:13.931Z [m:50344] [info ] WebSocket connection established. Listening for incoming messages
2018-06-21T10:09:57.975Z [m:50344] [info ] Shutdown initiated. Calling shutdown hooks
2018-06-21T10:09:57.975Z [m:50344] [info ] Closing WebSocket connection
2018-06-21T10:09:57.976Z [m:50344] [debug] Sending application event: {"git":{"sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","branch":"master","repo":"git@github.com:atomisthq/sdm-automation.git"},"domain":"local","pod":"imac-pro.local","host":"imac-pro.local","id":"9a794cc3-ab0d-4e44-890e-8e10feb3dc06","state":"stopping","ts":1529575797975}
2018-06-21T10:09:58.090Z [m:50344] [warn ] WebSocket connection closed with 1005: 
2018-06-21T10:09:58.451Z [m:50344] [info ] Shutdown hooks completed. Exiting...
2018-06-21T10:10:13.231Z [m:50501] [info ] Starting Atomist automation client @atomist/sdm-automation@0.1.0
2018-06-21T10:10:13.232Z [m:50501] [debug] Using automation client configuration: {"teamIds":["T1L0VDKJP"],"groups":[],"environment":"local","policy":"ephemeral","endpoints":{"api":"https://automation-staging.atomist.services/registration","graphql":"https://automation-staging.atomist.services/graphql/team"},"http":{"enabled":true,"host":"localhost","port":2866,"auth":{"basic":{"enabled":false},"bearer":{"enabled":true,"adminOrg":"atomisthq"}}},"ws":{"enabled":true,"termination":{"graceful":false,"gracePeriod":5000},"compress":false,"timeout":10000},"applicationEvents":{"enabled":true,"teamId":"T095SFFBK"},"cluster":{"enabled":false},"logging":{"level":"debug","file":{"enabled":true,"level":"debug"},"banner":true,"logEvents":{"enabled":false}},"statsd":{"enabled":false,"host":"dd-agent","port":8125},"name":"@atomist/sdm-automation","version":"0.1.0","keywords":["atomist","automation","card"],"application":"9c7c725c-f4d5-4bb6-b540-ee493bcd918e","token":"9**************************************3","sdm":{"docker":{"jfrog":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"},"hub":{"registry":"atomist","user":"atomist","password":"7**************g"}},"rolar":{"url":"h********************o"},"npm":{"registry":"https://atomist.jfrog.io/atomist/api/npm/npm-dev-local","npmrc":"@atomist:registry=https://atomist.jfrog.io/atomist/api/npm/npm-dev-local/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:_password=QVA0M1FScDNtQVlHaDZpS0FHb1I5ZUJabVY2UHB2V1JCZE1FVkY=\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:username=christian/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:email=christian@atomist.com\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:always-auth=true","access":"public"},"graphviz":{"url":""},"cloudfoundry":{"api":"https://api.run.pivotal.io","user":"cd@atomist.com","password":"t*************U","org":"atomist","spaces":{"production":"ri-production","staging":"ri-staging"}},"checkstyle":{"enabled":false,"reviewOnlyChangedFiles":true,"path":"/Users/cdupuis/Development/atomist/sample-sdm/test/checkstyle-8.8-all.jar"},"sonar":{"enabled":true,"url":"h*******************o","org":"sdm-org","token":"d**************************************e"},"git":{"url":"h*********************************************m","user":"rod","password":"a*****t"},"concourse":{"url":"h*******************0","user":"concourse","password":"c*******e","atomist":{"baseUrl":"h**********************************************************s"}},"artifactory":{"url":"h************************************************o","user":"christian","password":"3*****************H","apiKey":"AKCp5aUF3qqvW44G2Ummyp6DmbMczkDGqUbVASobKeHKXEfwzHNQBXrocsUAG9X3d1U5q98oQ"}},"raven":{"enabled":true,"dsn":"https://6b671bce853e4d42a0bd7b195e034abe@sentry.io/1209190"},"logzio":{"enabled":true,"token":"n******************************T"}}
2018-06-21T10:10:13.233Z [m:50501] [debug] Registering @atomist/sdm-automation@0.1.0 with Atomist at 'https://automation-staging.atomist.services/registration': {"api_version":"1","name":"@atomist/sdm-automation","version":"0.1.0","policy":{"name":"ephemeral"},"team_ids":["T1L0VDKJP"],"commands":[],"events":[],"ingesters":["type SdmGoal @rootType {\n    environment: String @compositeId\n    name: String @compositeId\n    uniqueName: String\n\n    sha: String @compositeId\n    branch: String @compositeId\n\n    repo(name: String!, owner: [String!], providerId: [String!]): SdmRepository\n\n    fulfillment(name: [String!], method: [String!]): SdmGoalFulfillment\n\n    description: String\n    url: String\n    goalSet: String\n    goalSetId: String\n    state: String\n    ts: Int @compositeId\n\n    error: String\n    retryFeasible: Boolean\n\n    approval: SdmProvenance\n    approvelRequired: Boolean\n\n    provenance: [SdmProvenance]\n\n    preConditions: [SdmCondition]\n\n    externalKey: String\n\n    data: String\n\n    commit: Commit\n        @linkTo(\n            queryName: \"pushBySha\",\n            variables: [{name: \"afterSha\", path: \"$.sha\"}, {name: \"branchName\", path: \"$.branch\"}]\n        )\n        @linkFrom(\n            field: {kind: LIST, name: \"goals\"},\n            query: \"query goals($sha: String!, $branch: String!) {SdmGoal(sha: [$sha], branch: [$branch]){id}}\",\n            variables: [{name: \"sha\", path: \"$.after.sha\"}, {name: \"branch\", path: \"$.branch\"}]\n        )\n}\n\ntype SdmRepository {\n    name: String\n    owner: String\n    providerId: String\n}\n\ntype SdmGoalFulfillment {\n    method: String\n    name: String\n}\n\ntype SdmProvenance {\n    correlationId: String\n    registration: String\n    version: String\n    name: String\n    ts: Int\n\n    userId: String\n    channelId: String\n}\n\ntype SdmCondition {\n    environment: String\n    name: String\n}"],"metadata":{"labels":{"atomist.description":"Automation client to define the global SDM custom types","atomist.license":"GPL-3.0","atomist.author":"Atomist","atomist.homepage":"https://github.com/atomisthq/sdm-automation#readme","atomist.client":"@atomist/automation-client#0.17.4-20180619214533","atomist.git.sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","atomist.git.branch":"master","atomist.git.repository":"git@github.com:atomisthq/sdm-automation.git","atomist.system.hostname":"imac-pro.local","atomist.system.type":"Darwin","atomist.system.release":"17.6.0","atomist.system.platform":"darwin"}}}
2018-06-21T10:10:13.256Z [m:50501] [debug] Sending application event: {"git":{"sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","branch":"master","repo":"git@github.com:atomisthq/sdm-automation.git"},"domain":"local","pod":"imac-pro.local","host":"imac-pro.local","id":"5e7f22cb-abda-4410-8e02-00d86c5c8cee","state":"started","ts":1529575813256}
2018-06-21T10:10:13.270Z [m:50501] [debug] Atomist automation client api running at 'http://localhost:2866'
2018-06-21T10:10:15.866Z [m:50501] [info ] Registration successful: {"url":"wss://automation-staging.atomist.services/registration/session:3d82c6ce-842d-4245-b201-f6d7e8a53cfa","jwt":"session:3d82c6ce-842d-4245-b201-f6d7e8a53cfa","endpoints":[{"url":"https://webhook-staging.atomist.services/atomist/teams/T1L0VDKJP/ingestion/SdmGoal/6655c732-b4de-429e-aa40-e13faf25800f","team_id":"T1L0VDKJP","name":"SdmGoal"}],"name":"@atomist/sdm-automation","version":"0.1.0"}
2018-06-21T10:10:15.871Z [m:50501] [info ] Opening WebSocket connection
2018-06-21T10:10:15.875Z [m:50501] [info ] 
   ____          _                      _       _       __          _                                  _                             _    _               
  / __ \   __ _ | |_   ___   _ __ ___  (_) ___ | |_    / / ___   __| | _ __ ___           __ _  _   _ | |_   ___   _ __ ___    __ _ | |_ (_)  ___   _ __  
 / / _` | / _` || __| / _ \ | '_ ` _ \ | |/ __|| __|  / / / __| / _` || '_ ` _ \  _____  / _` || | | || __| / _ \ | '_ ` _ \  / _` || __|| | / _ \ | '_ \ 
| | (_| || (_| || |_ | (_) || | | | | || |\__ \| |_  / /  \__ \| (_| || | | | | ||_____|| (_| || |_| || |_ | (_) || | | | | || (_| || |_ | || (_) || | | |
 \ \__,_| \__,_| \__| \___/ |_| |_| |_||_||___/ \__|/_/   |___/ \__,_||_| |_| |_|        \__,_| \__,_| \__| \___/ |_| |_| |_| \__,_| \__||_| \___/ |_| |_|
  \____/                                                                                                                                                  

  Version 0.1.0  Sha 2e02da2  Repository git@github.com:atomisthq/sdm-automation.git
  Team T1L0VDKJP  Policy ephemeral  Cluster disabled
  Commands 0  Events 0  Ingester 1
  JWT session:3d82c6ce-842d-4245-b201-f6d7e8a53cfa
  
  

  Url https://app.atomist.com/workspace/T1L0VDKJP/automations
  GraphiQL https://app.atomist.com/workspace/T1L0VDKJP/graphql

  Docs https://docs.atomist.com  Support https://join.atomist.com

2018-06-21T10:10:16.246Z [m:50501] [info ] WebSocket connection established. Listening for incoming messages
2018-06-21T10:11:06.293Z [m:50501] [info ] Shutdown initiated. Calling shutdown hooks
2018-06-21T10:11:06.294Z [m:50501] [info ] Closing WebSocket connection
2018-06-21T10:11:06.294Z [m:50501] [debug] Sending application event: {"git":{"sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","branch":"master","repo":"git@github.com:atomisthq/sdm-automation.git"},"domain":"local","pod":"imac-pro.local","host":"imac-pro.local","id":"5e7f22cb-abda-4410-8e02-00d86c5c8cee","state":"stopping","ts":1529575866294}
2018-06-21T10:11:06.410Z [m:50501] [warn ] WebSocket connection closed with 1005: 
2018-06-21T10:11:06.787Z [m:50501] [info ] Shutdown hooks completed. Exiting...
2018-06-21T10:13:14.879Z [m:50844] [info ] Starting Atomist automation client @atomist/sdm-automation@0.1.0
2018-06-21T10:13:14.880Z [m:50844] [debug] Using automation client configuration: {"teamIds":["T1L0VDKJP"],"groups":[],"environment":"local","policy":"ephemeral","endpoints":{"api":"https://automation-staging.atomist.services/registration","graphql":"https://automation-staging.atomist.services/graphql/team"},"http":{"enabled":true,"host":"localhost","port":2866,"auth":{"basic":{"enabled":false},"bearer":{"enabled":true,"adminOrg":"atomisthq"}}},"ws":{"enabled":true,"termination":{"graceful":false,"gracePeriod":5000},"compress":false,"timeout":10000},"applicationEvents":{"enabled":true,"teamId":"T095SFFBK"},"cluster":{"enabled":false},"logging":{"level":"debug","file":{"enabled":true,"level":"debug"},"banner":true,"logEvents":{"enabled":false}},"statsd":{"enabled":false,"host":"dd-agent","port":8125},"name":"@atomist/sdm-automation","version":"0.1.0","keywords":["atomist","automation","card"],"application":"1e2b7e49-217c-466d-bbe2-e4220a040c40","token":"9**************************************3","sdm":{"docker":{"jfrog":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"},"hub":{"registry":"atomist","user":"atomist","password":"7**************g"}},"rolar":{"url":"h********************o"},"npm":{"registry":"https://atomist.jfrog.io/atomist/api/npm/npm-dev-local","npmrc":"@atomist:registry=https://atomist.jfrog.io/atomist/api/npm/npm-dev-local/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:_password=QVA0M1FScDNtQVlHaDZpS0FHb1I5ZUJabVY2UHB2V1JCZE1FVkY=\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:username=christian/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:email=christian@atomist.com\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:always-auth=true","access":"public"},"graphviz":{"url":""},"cloudfoundry":{"api":"https://api.run.pivotal.io","user":"cd@atomist.com","password":"t*************U","org":"atomist","spaces":{"production":"ri-production","staging":"ri-staging"}},"checkstyle":{"enabled":false,"reviewOnlyChangedFiles":true,"path":"/Users/cdupuis/Development/atomist/sample-sdm/test/checkstyle-8.8-all.jar"},"sonar":{"enabled":true,"url":"h*******************o","org":"sdm-org","token":"d**************************************e"},"git":{"url":"h*********************************************m","user":"rod","password":"a*****t"},"concourse":{"url":"h*******************0","user":"concourse","password":"c*******e","atomist":{"baseUrl":"h**********************************************************s"}},"artifactory":{"url":"h************************************************o","user":"christian","password":"3*****************H","apiKey":"AKCp5aUF3qqvW44G2Ummyp6DmbMczkDGqUbVASobKeHKXEfwzHNQBXrocsUAG9X3d1U5q98oQ"}},"raven":{"enabled":true,"dsn":"https://6b671bce853e4d42a0bd7b195e034abe@sentry.io/1209190"},"logzio":{"enabled":true,"token":"n******************************T"}}
2018-06-21T10:13:14.882Z [m:50844] [debug] Registering @atomist/sdm-automation@0.1.0 with Atomist at 'https://automation-staging.atomist.services/registration': {"api_version":"1","name":"@atomist/sdm-automation","version":"0.1.0","policy":{"name":"ephemeral"},"team_ids":["T1L0VDKJP"],"commands":[],"events":[],"ingesters":["type SdmGoal @rootType {\n    environment: String @compositeId\n    name: String @compositeId\n    uniqueName: String\n\n    sha: String @compositeId\n    branch: String @compositeId\n\n    repo(name: String!, owner: [String!], providerId: [String!]): SdmRepository\n\n    fulfillment(name: [String!], method: [String!]): SdmGoalFulfillment\n\n    description: String\n    url: String\n    goalSet: String\n    goalSetId: String\n    state: SdmGoalState\n    ts: Int @compositeId\n\n    error: String\n    retryFeasible: Boolean\n\n    approval: SdmProvenance\n    approvelRequired: Boolean\n\n    provenance: [SdmProvenance]\n\n    preConditions: [SdmCondition]\n\n    externalKey: String\n\n    data: String\n\n    commit: Commit\n        @linkTo(\n            queryName: \"pushBySha\",\n            variables: [{name: \"afterSha\", path: \"$.sha\"}, {name: \"branchName\", path: \"$.branch\"}]\n        )\n        @linkFrom(\n            field: {kind: LIST, name: \"goals\"},\n            query: \"query goals($sha: String!, $branch: String!) {SdmGoal(sha: [$sha], branch: [$branch]){id}}\",\n            variables: [{name: \"sha\", path: \"$.after.sha\"}, {name: \"branch\", path: \"$.branch\"}]\n        )\n}\n\ntype SdmRepository {\n    name: String\n    owner: String\n    providerId: String\n}\n\ntype SdmGoalFulfillment {\n    method: String\n    name: String\n}\n\ntype SdmProvenance {\n    correlationId: String\n    registration: String\n    version: String\n    name: String\n    ts: Int\n\n    userId: String\n    channelId: String\n}\n\ntype SdmCondition {\n    environment: String\n    name: String\n}\n\nenum SdmGoalState {\n    planned\n    requested\n    in_process\n    waiting_for_approval\n    success\n    failure\n    skipped\n}"],"metadata":{"labels":{"atomist.description":"Automation client to define the global SDM custom types","atomist.license":"GPL-3.0","atomist.author":"Atomist","atomist.homepage":"https://github.com/atomisthq/sdm-automation#readme","atomist.client":"@atomist/automation-client#0.17.4-20180619214533","atomist.git.sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","atomist.git.branch":"master","atomist.git.repository":"git@github.com:atomisthq/sdm-automation.git","atomist.system.hostname":"imac-pro.local","atomist.system.type":"Darwin","atomist.system.release":"17.6.0","atomist.system.platform":"darwin"}}}
2018-06-21T10:13:14.905Z [m:50844] [debug] Sending application event: {"git":{"sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","branch":"master","repo":"git@github.com:atomisthq/sdm-automation.git"},"domain":"local","pod":"imac-pro.local","host":"imac-pro.local","id":"b62b502e-6f01-4498-8d28-9f629ca556bc","state":"started","ts":1529575994905}
2018-06-21T10:13:14.920Z [m:50844] [debug] Atomist automation client api running at 'http://localhost:2866'
2018-06-21T10:13:16.399Z [m:50844] [info ] Registration successful: {"url":"wss://automation-staging.atomist.services/registration/session:19e161bd-e036-40d9-9e16-53cbf30f75c9","jwt":"session:19e161bd-e036-40d9-9e16-53cbf30f75c9","endpoints":[{"url":"https://webhook-staging.atomist.services/atomist/teams/T1L0VDKJP/ingestion/SdmGoal/6655c732-b4de-429e-aa40-e13faf25800f","team_id":"T1L0VDKJP","name":"SdmGoal"}],"name":"@atomist/sdm-automation","version":"0.1.0"}
2018-06-21T10:13:16.405Z [m:50844] [info ] Opening WebSocket connection
2018-06-21T10:13:16.408Z [m:50844] [info ] 
   ____          _                      _       _       __          _                                  _                             _    _               
  / __ \   __ _ | |_   ___   _ __ ___  (_) ___ | |_    / / ___   __| | _ __ ___           __ _  _   _ | |_   ___   _ __ ___    __ _ | |_ (_)  ___   _ __  
 / / _` | / _` || __| / _ \ | '_ ` _ \ | |/ __|| __|  / / / __| / _` || '_ ` _ \  _____  / _` || | | || __| / _ \ | '_ ` _ \  / _` || __|| | / _ \ | '_ \ 
| | (_| || (_| || |_ | (_) || | | | | || |\__ \| |_  / /  \__ \| (_| || | | | | ||_____|| (_| || |_| || |_ | (_) || | | | | || (_| || |_ | || (_) || | | |
 \ \__,_| \__,_| \__| \___/ |_| |_| |_||_||___/ \__|/_/   |___/ \__,_||_| |_| |_|        \__,_| \__,_| \__| \___/ |_| |_| |_| \__,_| \__||_| \___/ |_| |_|
  \____/                                                                                                                                                  

  Version 0.1.0  Sha 2e02da2  Repository git@github.com:atomisthq/sdm-automation.git
  Team T1L0VDKJP  Policy ephemeral  Cluster disabled
  Commands 0  Events 0  Ingester 1
  JWT session:19e161bd-e036-40d9-9e16-53cbf30f75c9
  
  

  Url https://app.atomist.com/workspace/T1L0VDKJP/automations
  GraphiQL https://app.atomist.com/workspace/T1L0VDKJP/graphql

  Docs https://docs.atomist.com  Support https://join.atomist.com

2018-06-21T10:13:16.899Z [m:50844] [info ] WebSocket connection established. Listening for incoming messages
2018-06-21T10:13:38.539Z [m:50844] [info ] Shutdown initiated. Calling shutdown hooks
2018-06-21T10:13:38.540Z [m:50844] [info ] Closing WebSocket connection
2018-06-21T10:13:38.540Z [m:50844] [debug] Sending application event: {"git":{"sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","branch":"master","repo":"git@github.com:atomisthq/sdm-automation.git"},"domain":"local","pod":"imac-pro.local","host":"imac-pro.local","id":"b62b502e-6f01-4498-8d28-9f629ca556bc","state":"stopping","ts":1529576018540}
2018-06-21T10:13:38.657Z [m:50844] [warn ] WebSocket connection closed with 1005: 
2018-06-21T10:13:39.015Z [m:50844] [info ] Shutdown hooks completed. Exiting...
2018-06-21T10:22:48.959Z [m:51598] [info ] Starting Atomist automation client @atomist/sdm-automation@0.1.0
2018-06-21T10:22:48.960Z [m:51598] [debug] Using automation client configuration: {"teamIds":["T1L0VDKJP"],"groups":[],"environment":"local","policy":"ephemeral","endpoints":{"api":"https://automation-staging.atomist.services/registration","graphql":"https://automation-staging.atomist.services/graphql/team"},"http":{"enabled":true,"host":"localhost","port":2866,"auth":{"basic":{"enabled":false},"bearer":{"enabled":true,"adminOrg":"atomisthq"}}},"ws":{"enabled":true,"termination":{"graceful":false,"gracePeriod":5000},"compress":false,"timeout":10000},"applicationEvents":{"enabled":true,"teamId":"T095SFFBK"},"cluster":{"enabled":false},"logging":{"level":"debug","file":{"enabled":true,"level":"debug"},"banner":true,"logEvents":{"enabled":false}},"statsd":{"enabled":false,"host":"dd-agent","port":8125},"name":"@atomist/sdm-automation","version":"0.1.0","keywords":["atomist","automation","card"],"application":"aa0d06e3-28dd-4eba-aac6-594ed67bb671","token":"9**************************************3","sdm":{"docker":{"jfrog":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"},"hub":{"registry":"atomist","user":"atomist","password":"7**************g"}},"rolar":{"url":"h********************o"},"npm":{"registry":"https://atomist.jfrog.io/atomist/api/npm/npm-dev-local","npmrc":"@atomist:registry=https://atomist.jfrog.io/atomist/api/npm/npm-dev-local/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:_password=QVA0M1FScDNtQVlHaDZpS0FHb1I5ZUJabVY2UHB2V1JCZE1FVkY=\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:username=christian/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:email=christian@atomist.com\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:always-auth=true","access":"public"},"graphviz":{"url":""},"cloudfoundry":{"api":"https://api.run.pivotal.io","user":"cd@atomist.com","password":"t*************U","org":"atomist","spaces":{"production":"ri-production","staging":"ri-staging"}},"checkstyle":{"enabled":false,"reviewOnlyChangedFiles":true,"path":"/Users/cdupuis/Development/atomist/sample-sdm/test/checkstyle-8.8-all.jar"},"sonar":{"enabled":true,"url":"h*******************o","org":"sdm-org","token":"d**************************************e"},"git":{"url":"h*********************************************m","user":"rod","password":"a*****t"},"concourse":{"url":"h*******************0","user":"concourse","password":"c*******e","atomist":{"baseUrl":"h**********************************************************s"}},"artifactory":{"url":"h************************************************o","user":"christian","password":"3*****************H","apiKey":"AKCp5aUF3qqvW44G2Ummyp6DmbMczkDGqUbVASobKeHKXEfwzHNQBXrocsUAG9X3d1U5q98oQ"}},"raven":{"enabled":true,"dsn":"https://6b671bce853e4d42a0bd7b195e034abe@sentry.io/1209190"},"logzio":{"enabled":true,"token":"n******************************T"}}
2018-06-21T10:22:48.961Z [m:51598] [debug] Registering @atomist/sdm-automation@0.1.0 with Atomist at 'https://automation-staging.atomist.services/registration': {"api_version":"1","name":"@atomist/sdm-automation","version":"0.1.0","policy":{"name":"ephemeral"},"team_ids":["T1L0VDKJP"],"commands":[],"events":[],"ingesters":["type SdmGoal @rootType {\n    environment: String @compositeId\n    name: String @compositeId\n    uniqueName: String\n\n    sha: String @compositeId\n    branch: String @compositeId\n\n    repo(name: String!, owner: [String!], providerId: [String!]): SdmRepository\n\n    fulfillment(name: [String!], method: [String!]): SdmGoalFulfillment\n\n    description: String\n    url: String\n    goalSet: String\n    goalSetId: String\n    state: SdmGoalState\n    ts: Int @compositeId\n\n    error: String\n    retryFeasible: Boolean\n\n    approval: SdmProvenance\n    approvelRequired: Boolean\n\n    provenance: [SdmProvenance]\n\n    preConditions: [SdmCondition]\n\n    externalKey: String\n\n    data: String\n\n    commit: Commit\n        @linkTo(\n            queryName: \"pushBySha\",\n            variables: [{name: \"afterSha\", path: \"$.sha\"}, {name: \"branchName\", path: \"$.branch\"}]\n        )\n        @linkFrom(\n            field: {kind: LIST, name: \"goals\"},\n            query: \"query goals($sha: String!, $branch: String!) {SdmGoal(sha: [$sha], branch: [$branch]){id}}\",\n            variables: [{name: \"sha\", path: \"$.after.sha\"}, {name: \"branch\", path: \"$.branch\"}]\n        )\n}\n\ntype SdmRepository {\n    name: String\n    owner: String\n    providerId: String\n}\n\ntype SdmGoalFulfillment {\n    method: String\n    name: String\n}\n\ntype SdmProvenance {\n    correlationId: String\n    registration: String\n    version: String\n    name: String\n    ts: Int\n\n    userId: String\n    channelId: String\n}\n\ntype SdmCondition {\n    environment: String\n    name: String\n}\n\nenum SdmGoalState {\n    planned\n    requested\n    in_process\n    waiting_for_approval\n    success\n    failure\n    skipped\n}","type SdmBuildIdentifier @rootType {\n    repo(name: [String!], owner: [String!], providerId: [String!]): SdmBuildIdentifierRepository\n    identifier: String\n}\n\ntype SdmBuildIdentifierRepository {\n    name: String @compositeId\n    owner: String @compositeId\n    provider: String @compositeId\n}","type SdmDeployEnablement @rootType {\n    state: SdmDeployState\n    owner: String @compositeId\n    repo: String @compositeId\n    providerId: String @compositeId\n}\n\nenum SdmDeployState {\n    requested\n    disabled\n}","type SdmVersion @rootType {\n    repo(name: [String!], owner: [String!], providerId: [String!]): SdmVersionRepository\n    sha: String\n    branch: String @compositeId\n    version: String @compositeId\n}\n\ntype SdmVersionRepository {\n    name: String\n    owner: String\n    provider: String\n}"],"metadata":{"labels":{"atomist.description":"Automation client to define the global SDM custom types","atomist.license":"GPL-3.0","atomist.author":"Atomist","atomist.homepage":"https://github.com/atomisthq/sdm-automation#readme","atomist.client":"@atomist/automation-client#0.17.4-20180619214533","atomist.git.sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","atomist.git.branch":"master","atomist.git.repository":"git@github.com:atomisthq/sdm-automation.git","atomist.system.hostname":"imac-pro.local","atomist.system.type":"Darwin","atomist.system.release":"17.6.0","atomist.system.platform":"darwin"}}}
2018-06-21T10:22:48.984Z [m:51598] [debug] Sending application event: {"git":{"sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","branch":"master","repo":"git@github.com:atomisthq/sdm-automation.git"},"domain":"local","pod":"imac-pro.local","host":"imac-pro.local","id":"f05e3d31-5943-4fe4-91f1-e920891f439e","state":"started","ts":1529576568984}
2018-06-21T10:22:48.998Z [m:51598] [debug] Atomist automation client api running at 'http://localhost:2866'
2018-06-21T10:22:51.808Z [m:51598] [info ] Registration successful: {"url":"wss://automation-staging.atomist.services/registration/session:c6b679f3-2729-4d07-8446-9c64a3bba9f8","jwt":"session:c6b679f3-2729-4d07-8446-9c64a3bba9f8","endpoints":[{"url":"https://webhook-staging.atomist.services/atomist/teams/T1L0VDKJP/ingestion/SdmGoal/6655c732-b4de-429e-aa40-e13faf25800f","team_id":"T1L0VDKJP","name":"SdmGoal"},{"url":"https://webhook-staging.atomist.services/atomist/teams/T1L0VDKJP/ingestion/SdmBuildIdentifier/d03e294a-d04d-4120-bfc9-ff33db7ad5ad","team_id":"T1L0VDKJP","name":"SdmBuildIdentifier"},{"url":"https://webhook-staging.atomist.services/atomist/teams/T1L0VDKJP/ingestion/SdmDeployEnablement/20c84469-5cba-456d-8bad-8d9706963ec8","team_id":"T1L0VDKJP","name":"SdmDeployEnablement"},{"url":"https://webhook-staging.atomist.services/atomist/teams/T1L0VDKJP/ingestion/SdmVersion/18e0bc5f-3f53-41de-a565-924550c2ca22","team_id":"T1L0VDKJP","name":"SdmVersion"}],"name":"@atomist/sdm-automation","version":"0.1.0"}
2018-06-21T10:22:51.812Z [m:51598] [info ] Opening WebSocket connection
2018-06-21T10:22:51.816Z [m:51598] [info ] 
   ____          _                      _       _       __          _                                  _                             _    _               
  / __ \   __ _ | |_   ___   _ __ ___  (_) ___ | |_    / / ___   __| | _ __ ___           __ _  _   _ | |_   ___   _ __ ___    __ _ | |_ (_)  ___   _ __  
 / / _` | / _` || __| / _ \ | '_ ` _ \ | |/ __|| __|  / / / __| / _` || '_ ` _ \  _____  / _` || | | || __| / _ \ | '_ ` _ \  / _` || __|| | / _ \ | '_ \ 
| | (_| || (_| || |_ | (_) || | | | | || |\__ \| |_  / /  \__ \| (_| || | | | | ||_____|| (_| || |_| || |_ | (_) || | | | | || (_| || |_ | || (_) || | | |
 \ \__,_| \__,_| \__| \___/ |_| |_| |_||_||___/ \__|/_/   |___/ \__,_||_| |_| |_|        \__,_| \__,_| \__| \___/ |_| |_| |_| \__,_| \__||_| \___/ |_| |_|
  \____/                                                                                                                                                  

  Version 0.1.0  Sha 2e02da2  Repository git@github.com:atomisthq/sdm-automation.git
  Team T1L0VDKJP  Policy ephemeral  Cluster disabled
  Commands 0  Events 0  Ingesters 4
  JWT session:c6b679f3-2729-4d07-8446-9c64a3bba9f8
  
  

  Url https://app.atomist.com/workspace/T1L0VDKJP/automations
  GraphiQL https://app.atomist.com/workspace/T1L0VDKJP/graphql

  Docs https://docs.atomist.com  Support https://join.atomist.com

2018-06-21T10:22:52.302Z [m:51598] [info ] WebSocket connection established. Listening for incoming messages
2018-06-21T10:22:54.371Z [m:51598] [info ] Shutdown initiated. Calling shutdown hooks
2018-06-21T10:22:54.371Z [m:51598] [info ] Closing WebSocket connection
2018-06-21T10:22:54.372Z [m:51598] [debug] Sending application event: {"git":{"sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","branch":"master","repo":"git@github.com:atomisthq/sdm-automation.git"},"domain":"local","pod":"imac-pro.local","host":"imac-pro.local","id":"f05e3d31-5943-4fe4-91f1-e920891f439e","state":"stopping","ts":1529576574372}
2018-06-21T10:22:54.489Z [m:51598] [warn ] WebSocket connection closed with 1005: 
2018-06-21T10:22:54.845Z [m:51598] [info ] Shutdown hooks completed. Exiting...
2018-06-21T10:25:44.098Z [m:51997] [info ] Starting Atomist automation client @atomist/sdm-automation@0.1.0
2018-06-21T10:25:44.099Z [m:51997] [debug] Using automation client configuration: {"teamIds":["T8G7LHAUD"],"groups":[],"environment":"local","policy":"ephemeral","endpoints":{"api":"https://automation.atomist.com/registration","graphql":"https://automation.atomist.com/graphql/team"},"http":{"enabled":true,"host":"localhost","port":2866,"auth":{"basic":{"enabled":false},"bearer":{"enabled":false}}},"ws":{"enabled":true,"termination":{"graceful":false,"gracePeriod":10000},"compress":false,"timeout":10000},"applicationEvents":{"enabled":false},"cluster":{"enabled":false},"logging":{"level":"debug","file":{"enabled":true,"level":"debug"},"banner":true,"logEvents":{"enabled":true}},"statsd":{"enabled":false},"name":"@atomist/sdm-automation","version":"0.1.0","keywords":["atomist","automation","sdm"],"application":"sdm-automation","token":"9**************************************3","sdm":{"docker":{"jfrog":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"},"hub":{"registry":"atomist","user":"atomist","password":"7**************g"}},"rolar":{"url":"h********************o"},"npm":{"registry":"https://atomist.jfrog.io/atomist/api/npm/npm-dev-local","npmrc":"@atomist:registry=https://atomist.jfrog.io/atomist/api/npm/npm-dev-local/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:_password=QVA0M1FScDNtQVlHaDZpS0FHb1I5ZUJabVY2UHB2V1JCZE1FVkY=\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:username=christian/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:email=christian@atomist.com\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:always-auth=true","access":"public"},"graphviz":{"url":""},"cloudfoundry":{"api":"https://api.run.pivotal.io","user":"cd@atomist.com","password":"t*************U","org":"atomist","spaces":{"production":"ri-production","staging":"ri-staging"}},"checkstyle":{"enabled":false,"reviewOnlyChangedFiles":true,"path":"/Users/cdupuis/Development/atomist/sample-sdm/test/checkstyle-8.8-all.jar"},"sonar":{"enabled":true,"url":"h*******************o","org":"sdm-org","token":"d**************************************e"},"git":{"url":"h*********************************************m","user":"rod","password":"a*****t"},"concourse":{"url":"h*******************0","user":"concourse","password":"c*******e","atomist":{"baseUrl":"h**********************************************************s"}},"artifactory":{"url":"h************************************************o","user":"christian","password":"3*****************H","apiKey":"AKCp5aUF3qqvW44G2Ummyp6DmbMczkDGqUbVASobKeHKXEfwzHNQBXrocsUAG9X3d1U5q98oQ"}},"raven":{"enabled":true,"dsn":"https://6b671bce853e4d42a0bd7b195e034abe@sentry.io/1209190"},"logzio":{"enabled":true,"token":"n******************************T"}}
2018-06-21T10:25:44.101Z [m:51997] [debug] Registering @atomist/sdm-automation@0.1.0 with Atomist at 'https://automation.atomist.com/registration': {"api_version":"1","name":"@atomist/sdm-automation","version":"0.1.0","policy":{"name":"ephemeral"},"team_ids":["T8G7LHAUD"],"commands":[],"events":[{"subscription":"subscription OnLog_3893336498 { AtomistLog { level timestamp message correlation_context @required { correlation_id automation(name: \"@atomist/sdm-automation\", version: \"0.1.0\") @required { name version } } }}","secrets":[]}],"ingesters":["type SdmGoal @rootType {\n    environment: String @compositeId\n    name: String @compositeId\n    uniqueName: String\n\n    sha: String @compositeId\n    branch: String @compositeId\n\n    repo(name: String!, owner: [String!], providerId: [String!]): SdmRepository\n\n    fulfillment(name: [String!], method: [String!]): SdmGoalFulfillment\n\n    description: String\n    url: String\n    goalSet: String\n    goalSetId: String\n    state: SdmGoalState\n    ts: Int @compositeId\n\n    error: String\n    retryFeasible: Boolean\n\n    approval: SdmProvenance\n    approvelRequired: Boolean\n\n    provenance: [SdmProvenance]\n\n    preConditions: [SdmCondition]\n\n    externalKey: String\n\n    data: String\n\n    commit: Commit\n        @linkTo(\n            queryName: \"pushBySha\",\n            variables: [{name: \"afterSha\", path: \"$.sha\"}, {name: \"branchName\", path: \"$.branch\"}]\n        )\n        @linkFrom(\n            field: {kind: LIST, name: \"goals\"},\n            query: \"query goals($sha: String!, $branch: String!) {SdmGoal(sha: [$sha], branch: [$branch]){id}}\",\n            variables: [{name: \"sha\", path: \"$.after.sha\"}, {name: \"branch\", path: \"$.branch\"}]\n        )\n}\n\ntype SdmRepository {\n    name: String\n    owner: String\n    providerId: String\n}\n\ntype SdmGoalFulfillment {\n    method: String\n    name: String\n}\n\ntype SdmProvenance {\n    correlationId: String\n    registration: String\n    version: String\n    name: String\n    ts: Int\n\n    userId: String\n    channelId: String\n}\n\ntype SdmCondition {\n    environment: String\n    name: String\n}\n\nenum SdmGoalState {\n    planned\n    requested\n    in_process\n    waiting_for_approval\n    success\n    failure\n    skipped\n}","type SdmBuildIdentifier @rootType {\n    repo(name: [String!], owner: [String!], providerId: [String!]): SdmBuildIdentifierRepository\n    identifier: String\n}\n\ntype SdmBuildIdentifierRepository {\n    name: String @compositeId\n    owner: String @compositeId\n    provider: String @compositeId\n}","type SdmDeployEnablement @rootType {\n    state: SdmDeployState\n    owner: String @compositeId\n    repo: String @compositeId\n    providerId: String @compositeId\n}\n\nenum SdmDeployState {\n    requested\n    disabled\n}","type SdmVersion @rootType {\n    repo(name: [String!], owner: [String!], providerId: [String!]): SdmVersionRepository\n    sha: String\n    branch: String @compositeId\n    version: String @compositeId\n}\n\ntype SdmVersionRepository {\n    name: String\n    owner: String\n    provider: String\n}"],"metadata":{"labels":{"atomist.description":"Automation client to define the global SDM custom types","atomist.license":"Apache-2.0","atomist.author":"Atomist","atomist.homepage":"https://github.com/atomisthq/sdm-automation#readme","atomist.client":"@atomist/automation-client#0.17.4-20180619214533","atomist.git.sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","atomist.git.branch":"master","atomist.git.repository":"git@github.com:atomisthq/sdm-automation.git","atomist.system.hostname":"imac-pro.local","atomist.system.type":"Darwin","atomist.system.release":"17.6.0","atomist.system.platform":"darwin"}}}
2018-06-21T10:25:44.137Z [m:51997] [debug] Atomist automation client api running at 'http://localhost:2866'
2018-06-21T10:25:47.048Z [m:51997] [error] Registration failed with code '400': '"The following types are reserved by T8G7LHAUD: SdmVersion, SdmDeployEnablement, SdmBuildIdentifierRepository, SdmCondition, SdmVersionRepository, SdmRepository, SdmBuildIdentifier, SdmGoal, SdmProvenance, SdmGoalFulfillment"'
2018-06-21T10:27:16.077Z [m:52218] [info ] Starting Atomist automation client @atomist/sdm-automation@0.1.0
2018-06-21T10:27:16.078Z [m:52218] [debug] Using automation client configuration: {"teamIds":[],"groups":["all"],"environment":"local","policy":"ephemeral","endpoints":{"api":"https://automation-staging.atomist.services/registration","graphql":"https://automation-staging.atomist.services/graphql/team"},"http":{"enabled":true,"host":"localhost","port":2866,"auth":{"basic":{"enabled":false},"bearer":{"enabled":false}}},"ws":{"enabled":true,"termination":{"graceful":false,"gracePeriod":10000},"compress":false,"timeout":10000},"applicationEvents":{"enabled":false},"cluster":{"enabled":false},"logging":{"level":"debug","file":{"enabled":true,"level":"debug"},"banner":true,"logEvents":{"enabled":true}},"statsd":{"enabled":false},"name":"@atomist/sdm-automation","version":"0.1.0","keywords":["atomist","automation","sdm"],"application":"sdm-automation","token":"9**************************************3","sdm":{"docker":{"jfrog":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"},"hub":{"registry":"atomist","user":"atomist","password":"7**************g"}},"rolar":{"url":"h********************o"},"npm":{"registry":"https://atomist.jfrog.io/atomist/api/npm/npm-dev-local","npmrc":"@atomist:registry=https://atomist.jfrog.io/atomist/api/npm/npm-dev-local/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:_password=QVA0M1FScDNtQVlHaDZpS0FHb1I5ZUJabVY2UHB2V1JCZE1FVkY=\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:username=christian/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:email=christian@atomist.com\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:always-auth=true","access":"public"},"graphviz":{"url":""},"cloudfoundry":{"api":"https://api.run.pivotal.io","user":"cd@atomist.com","password":"t*************U","org":"atomist","spaces":{"production":"ri-production","staging":"ri-staging"}},"checkstyle":{"enabled":false,"reviewOnlyChangedFiles":true,"path":"/Users/cdupuis/Development/atomist/sample-sdm/test/checkstyle-8.8-all.jar"},"sonar":{"enabled":true,"url":"h*******************o","org":"sdm-org","token":"d**************************************e"},"git":{"url":"h*********************************************m","user":"rod","password":"a*****t"},"concourse":{"url":"h*******************0","user":"concourse","password":"c*******e","atomist":{"baseUrl":"h**********************************************************s"}},"artifactory":{"url":"h******************************t","user":"christian","repo":"libs-release-local","apiKey":"AKCp5aUF3qqvW44G2Ummyp6DmbMczkDGqUbVASobKeHKXEfwzHNQBXrocsUAG9X3d1U5q98oQ"}},"raven":{"enabled":true,"dsn":"https://6b671bce853e4d42a0bd7b195e034abe@sentry.io/1209190"},"logzio":{"enabled":true,"token":"n******************************T"}}
2018-06-21T10:27:16.080Z [m:52218] [debug] Registering @atomist/sdm-automation@0.1.0 with Atomist at 'https://automation-staging.atomist.services/registration': {"api_version":"1","name":"@atomist/sdm-automation","version":"0.1.0","policy":{"name":"ephemeral"},"groups":["all"],"commands":[],"events":[{"subscription":"subscription OnLog_3893336498 { AtomistLog { level timestamp message correlation_context @required { correlation_id automation(name: \"@atomist/sdm-automation\", version: \"0.1.0\") @required { name version } } }}","secrets":[]}],"ingesters":["type SdmGoal @rootType {\n    environment: String @compositeId\n    name: String @compositeId\n    uniqueName: String\n\n    sha: String @compositeId\n    branch: String @compositeId\n\n    repo(name: String!, owner: [String!], providerId: [String!]): SdmRepository\n\n    fulfillment(name: [String!], method: [String!]): SdmGoalFulfillment\n\n    description: String\n    url: String\n    goalSet: String\n    goalSetId: String\n    state: SdmGoalState\n    ts: Int @compositeId\n\n    error: String\n    retryFeasible: Boolean\n\n    approval: SdmProvenance\n    approvelRequired: Boolean\n\n    provenance: [SdmProvenance]\n\n    preConditions: [SdmCondition]\n\n    externalKey: String\n\n    data: String\n\n    commit: Commit\n        @linkTo(\n            queryName: \"pushBySha\",\n            variables: [{name: \"afterSha\", path: \"$.sha\"}, {name: \"branchName\", path: \"$.branch\"}]\n        )\n        @linkFrom(\n            field: {kind: LIST, name: \"goals\"},\n            query: \"query goals($sha: String!, $branch: String!) {SdmGoal(sha: [$sha], branch: [$branch]){id}}\",\n            variables: [{name: \"sha\", path: \"$.after.sha\"}, {name: \"branch\", path: \"$.branch\"}]\n        )\n}\n\ntype SdmRepository {\n    name: String\n    owner: String\n    providerId: String\n}\n\ntype SdmGoalFulfillment {\n    method: String\n    name: String\n}\n\ntype SdmProvenance {\n    correlationId: String\n    registration: String\n    version: String\n    name: String\n    ts: Int\n\n    userId: String\n    channelId: String\n}\n\ntype SdmCondition {\n    environment: String\n    name: String\n}\n\nenum SdmGoalState {\n    planned\n    requested\n    in_process\n    waiting_for_approval\n    success\n    failure\n    skipped\n}","type SdmBuildIdentifier @rootType {\n    repo(name: [String!], owner: [String!], providerId: [String!]): SdmBuildIdentifierRepository\n    identifier: String\n}\n\ntype SdmBuildIdentifierRepository {\n    name: String @compositeId\n    owner: String @compositeId\n    provider: String @compositeId\n}","type SdmDeployEnablement @rootType {\n    state: SdmDeployState\n    owner: String @compositeId\n    repo: String @compositeId\n    providerId: String @compositeId\n}\n\nenum SdmDeployState {\n    requested\n    disabled\n}","type SdmVersion @rootType {\n    repo(name: [String!], owner: [String!], providerId: [String!]): SdmVersionRepository\n    sha: String\n    branch: String @compositeId\n    version: String @compositeId\n}\n\ntype SdmVersionRepository {\n    name: String\n    owner: String\n    provider: String\n}"],"metadata":{"labels":{"atomist.description":"Automation client to define the global SDM custom types","atomist.license":"Apache-2.0","atomist.author":"Atomist","atomist.homepage":"https://github.com/atomisthq/sdm-automation#readme","atomist.client":"@atomist/automation-client#0.17.4-20180619214533","atomist.git.sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","atomist.git.branch":"master","atomist.git.repository":"git@github.com:atomisthq/sdm-automation.git","atomist.system.hostname":"imac-pro.local","atomist.system.type":"Darwin","atomist.system.release":"17.6.0","atomist.system.platform":"darwin"}}}
2018-06-21T10:27:16.115Z [m:52218] [debug] Atomist automation client api running at 'http://localhost:2866'
2018-06-21T10:27:18.168Z [m:52218] [info ] Registration successful: {"url":"wss://automation-staging.atomist.services/registration/session:fbe06c28-f29e-4c11-96f0-f54668e74ddd","jwt":"session:fbe06c28-f29e-4c11-96f0-f54668e74ddd","endpoints":[],"name":"@atomist/sdm-automation","version":"0.1.0"}
2018-06-21T10:27:18.173Z [m:52218] [info ] Opening WebSocket connection
2018-06-21T10:27:18.178Z [m:52218] [info ] 
   ____          _                      _       _       __          _                                  _                             _    _               
  / __ \   __ _ | |_   ___   _ __ ___  (_) ___ | |_    / / ___   __| | _ __ ___           __ _  _   _ | |_   ___   _ __ ___    __ _ | |_ (_)  ___   _ __  
 / / _` | / _` || __| / _ \ | '_ ` _ \ | |/ __|| __|  / / / __| / _` || '_ ` _ \  _____  / _` || | | || __| / _ \ | '_ ` _ \  / _` || __|| | / _ \ | '_ \ 
| | (_| || (_| || |_ | (_) || | | | | || |\__ \| |_  / /  \__ \| (_| || | | | | ||_____|| (_| || |_| || |_ | (_) || | | | | || (_| || |_ | || (_) || | | |
 \ \__,_| \__,_| \__| \___/ |_| |_| |_||_||___/ \__|/_/   |___/ \__,_||_| |_| |_|        \__,_| \__,_| \__| \___/ |_| |_| |_| \__,_| \__||_| \___/ |_| |_|
  \____/                                                                                                                                                  

  Version 0.1.0  Sha 2e02da2  Repository git@github.com:atomisthq/sdm-automation.git
  Groups all  Policy ephemeral  Cluster disabled
  Commands 0  Events 0  Ingesters 4
  JWT session:fbe06c28-f29e-4c11-96f0-f54668e74ddd
  
  

  Docs https://docs.atomist.com  Support https://join.atomist.com

2018-06-21T10:27:18.654Z [m:52218] [info ] WebSocket connection established. Listening for incoming messages
2018-06-21T10:37:38.290Z [m:52218] [info ] Shutdown initiated. Calling shutdown hooks
2018-06-21T10:37:45.633Z [m:53028] [info ] Starting Atomist automation client @atomist/sdm-automation@0.1.0
2018-06-21T10:37:45.634Z [m:53028] [debug] Using automation client configuration: {"teamIds":[],"groups":["all"],"environment":"local","policy":"ephemeral","endpoints":{"api":"https://automation-staging.atomist.services/registration","graphql":"https://automation-staging.atomist.services/graphql/team"},"http":{"enabled":true,"host":"localhost","port":2866,"auth":{"basic":{"enabled":false},"bearer":{"enabled":false}}},"ws":{"enabled":true,"termination":{"graceful":false,"gracePeriod":10000},"compress":false,"timeout":10000},"applicationEvents":{"enabled":false},"cluster":{"enabled":false},"logging":{"level":"debug","file":{"enabled":true,"level":"debug"},"banner":true,"logEvents":{"enabled":true}},"statsd":{"enabled":false},"name":"@atomist/sdm-automation","version":"0.1.0","keywords":["atomist","automation","sdm"],"application":"sdm-automation","token":"9**************************************3","sdm":{"docker":{"jfrog":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"},"hub":{"registry":"atomist","user":"atomist","password":"7**************g"}},"rolar":{"url":"h********************o"},"npm":{"registry":"https://atomist.jfrog.io/atomist/api/npm/npm-dev-local","npmrc":"@atomist:registry=https://atomist.jfrog.io/atomist/api/npm/npm-dev-local/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:_password=QVA0M1FScDNtQVlHaDZpS0FHb1I5ZUJabVY2UHB2V1JCZE1FVkY=\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:username=christian/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:email=christian@atomist.com\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:always-auth=true","access":"public"},"graphviz":{"url":""},"cloudfoundry":{"api":"https://api.run.pivotal.io","user":"cd@atomist.com","password":"t*************U","org":"atomist","spaces":{"production":"ri-production","staging":"ri-staging"}},"checkstyle":{"enabled":false,"reviewOnlyChangedFiles":true,"path":"/Users/cdupuis/Development/atomist/sample-sdm/test/checkstyle-8.8-all.jar"},"sonar":{"enabled":true,"url":"h*******************o","org":"sdm-org","token":"d**************************************e"},"git":{"url":"h*********************************************m","user":"rod","password":"a*****t"},"concourse":{"url":"h*******************0","user":"concourse","password":"c*******e","atomist":{"baseUrl":"h**********************************************************s"}},"artifactory":{"url":"h******************************t","user":"christian","repo":"libs-release-local","apiKey":"AKCp5aUF3qqvW44G2Ummyp6DmbMczkDGqUbVASobKeHKXEfwzHNQBXrocsUAG9X3d1U5q98oQ"}},"raven":{"enabled":true,"dsn":"https://6b671bce853e4d42a0bd7b195e034abe@sentry.io/1209190"},"logzio":{"enabled":true,"token":"n******************************T"}}
2018-06-21T10:37:45.636Z [m:53028] [debug] Registering @atomist/sdm-automation@0.1.0 with Atomist at 'https://automation-staging.atomist.services/registration': {"api_version":"1","name":"@atomist/sdm-automation","version":"0.1.0","policy":{"name":"ephemeral"},"groups":["all"],"commands":[],"events":[{"subscription":"subscription OnLog_3893336498 { AtomistLog { level timestamp message correlation_context @required { correlation_id automation(name: \"@atomist/sdm-automation\", version: \"0.1.0\") @required { name version } } }}","secrets":[]}],"ingesters":["type SdmGoal @rootType {\n    environment: String @compositeId\n    name: String @compositeId\n    uniqueName: String\n\n    sha: String @compositeId\n    branch: String @compositeId\n\n    repo(name: String!, owner: [String!], providerId: [String!]): SdmRepository\n\n    fulfillment(name: [String!], method: [String!]): SdmGoalFulfillment\n\n    description: String\n    url: String\n    goalSet: String\n    goalSetId: String\n    state: SdmGoalState\n    ts: Int @compositeId\n\n    error: String\n    retryFeasible: Boolean\n\n    approval: SdmProvenance\n    approvelRequired: Boolean\n\n    provenance: [SdmProvenance]\n\n    preConditions: [SdmCondition]\n\n    externalKey: String\n\n    data: String\n\n    push: Push\n        @linkTo(\n            queryName: \"pushBySha\",\n            variables: [{name: \"afterSha\", path: \"$.sha\"}, {name: \"branchName\", path: \"$.branch\"}]\n        )\n        @linkFrom(\n            field: {kind: LIST, name: \"goals\"},\n            query: \"query goals($sha: String!, $branch: String!, _first: 500) {SdmGoal(sha: [$sha], branch: [$branch]){id}}\",\n            variables: [{name: \"sha\", path: \"$.after.sha\"}, {name: \"branch\", path: \"$.branch\"}]\n        )\n}\n\ntype SdmRepository {\n    name: String\n    owner: String\n    providerId: String\n}\n\ntype SdmGoalFulfillment {\n    method: String\n    name: String\n}\n\ntype SdmProvenance {\n    correlationId: String\n    registration: String\n    version: String\n    name: String\n    ts: Int\n\n    userId: String\n    channelId: String\n}\n\ntype SdmCondition {\n    environment: String\n    name: String\n}\n\nenum SdmGoalState {\n    planned\n    requested\n    in_process\n    waiting_for_approval\n    success\n    failure\n    skipped\n}","type SdmBuildIdentifier @rootType {\n    repo(name: [String!], owner: [String!], providerId: [String!]): SdmBuildIdentifierRepository\n    identifier: String\n}\n\ntype SdmBuildIdentifierRepository {\n    name: String @compositeId\n    owner: String @compositeId\n    provider: String @compositeId\n}","type SdmDeployEnablement @rootType {\n    state: SdmDeployState\n    owner: String @compositeId\n    repo: String @compositeId\n    providerId: String @compositeId\n}\n\nenum SdmDeployState {\n    requested\n    disabled\n}","type SdmVersion @rootType {\n    repo(name: [String!], owner: [String!], providerId: [String!]): SdmVersionRepository\n    sha: String\n    branch: String @compositeId\n    version: String @compositeId\n}\n\ntype SdmVersionRepository {\n    name: String\n    owner: String\n    provider: String\n}"],"metadata":{"labels":{"atomist.description":"Automation client to define the global SDM custom types","atomist.license":"Apache-2.0","atomist.author":"Atomist","atomist.homepage":"https://github.com/atomisthq/sdm-automation#readme","atomist.client":"@atomist/automation-client#0.17.4-20180619214533","atomist.git.sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","atomist.git.branch":"master","atomist.git.repository":"git@github.com:atomisthq/sdm-automation.git","atomist.system.hostname":"imac-pro.local","atomist.system.type":"Darwin","atomist.system.release":"17.6.0","atomist.system.platform":"darwin"}}}
2018-06-21T10:37:45.673Z [m:53028] [debug] Atomist automation client api running at 'http://localhost:2866'
2018-06-21T10:37:47.507Z [m:53028] [info ] Registration successful: {"url":"wss://automation-staging.atomist.services/registration/session:980635d8-9ba4-4f01-825e-12e0292db65d","jwt":"session:980635d8-9ba4-4f01-825e-12e0292db65d","endpoints":[],"name":"@atomist/sdm-automation","version":"0.1.0"}
2018-06-21T10:37:47.513Z [m:53028] [info ] Opening WebSocket connection
2018-06-21T10:37:47.517Z [m:53028] [info ] 
   ____          _                      _       _       __          _                                  _                             _    _               
  / __ \   __ _ | |_   ___   _ __ ___  (_) ___ | |_    / / ___   __| | _ __ ___           __ _  _   _ | |_   ___   _ __ ___    __ _ | |_ (_)  ___   _ __  
 / / _` | / _` || __| / _ \ | '_ ` _ \ | |/ __|| __|  / / / __| / _` || '_ ` _ \  _____  / _` || | | || __| / _ \ | '_ ` _ \  / _` || __|| | / _ \ | '_ \ 
| | (_| || (_| || |_ | (_) || | | | | || |\__ \| |_  / /  \__ \| (_| || | | | | ||_____|| (_| || |_| || |_ | (_) || | | | | || (_| || |_ | || (_) || | | |
 \ \__,_| \__,_| \__| \___/ |_| |_| |_||_||___/ \__|/_/   |___/ \__,_||_| |_| |_|        \__,_| \__,_| \__| \___/ |_| |_| |_| \__,_| \__||_| \___/ |_| |_|
  \____/                                                                                                                                                  

  Version 0.1.0  Sha 2e02da2  Repository git@github.com:atomisthq/sdm-automation.git
  Groups all  Policy ephemeral  Cluster disabled
  Commands 0  Events 0  Ingesters 4
  JWT session:980635d8-9ba4-4f01-825e-12e0292db65d
  
  

  Docs https://docs.atomist.com  Support https://join.atomist.com

2018-06-21T10:37:48.012Z [m:53028] [info ] WebSocket connection established. Listening for incoming messages
2018-06-21T10:40:35.365Z [m:53028] [info ] Shutdown initiated. Calling shutdown hooks
2018-06-21T10:41:29.373Z [m:53375] [info ] Starting Atomist automation client @atomist/sdm-automation@0.1.0
2018-06-21T10:41:29.374Z [m:53375] [debug] Using automation client configuration: {"teamIds":[],"groups":["all"],"environment":"local","policy":"ephemeral","endpoints":{"api":"https://automation-staging.atomist.services/registration","graphql":"https://automation-staging.atomist.services/graphql/team"},"http":{"enabled":true,"host":"localhost","port":2866,"auth":{"basic":{"enabled":false},"bearer":{"enabled":false}}},"ws":{"enabled":true,"termination":{"graceful":false,"gracePeriod":10000},"compress":false,"timeout":10000},"applicationEvents":{"enabled":false},"cluster":{"enabled":false},"logging":{"level":"debug","file":{"enabled":true,"level":"debug"},"banner":true,"logEvents":{"enabled":true}},"statsd":{"enabled":false},"name":"@atomist/sdm-automation","version":"0.1.0","keywords":["atomist","automation","sdm"],"application":"sdm-automation","token":"9**************************************3","sdm":{"docker":{"jfrog":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"},"hub":{"registry":"atomist","user":"atomist","password":"7**************g"}},"rolar":{"url":"h********************o"},"npm":{"registry":"https://atomist.jfrog.io/atomist/api/npm/npm-dev-local","npmrc":"@atomist:registry=https://atomist.jfrog.io/atomist/api/npm/npm-dev-local/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:_password=QVA0M1FScDNtQVlHaDZpS0FHb1I5ZUJabVY2UHB2V1JCZE1FVkY=\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:username=christian/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:email=christian@atomist.com\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:always-auth=true","access":"public"},"graphviz":{"url":""},"cloudfoundry":{"api":"https://api.run.pivotal.io","user":"cd@atomist.com","password":"t*************U","org":"atomist","spaces":{"production":"ri-production","staging":"ri-staging"}},"checkstyle":{"enabled":false,"reviewOnlyChangedFiles":true,"path":"/Users/cdupuis/Development/atomist/sample-sdm/test/checkstyle-8.8-all.jar"},"sonar":{"enabled":true,"url":"h*******************o","org":"sdm-org","token":"d**************************************e"},"git":{"url":"h*********************************************m","user":"rod","password":"a*****t"},"concourse":{"url":"h*******************0","user":"concourse","password":"c*******e","atomist":{"baseUrl":"h**********************************************************s"}},"artifactory":{"url":"h******************************t","user":"christian","repo":"libs-release-local","apiKey":"AKCp5aUF3qqvW44G2Ummyp6DmbMczkDGqUbVASobKeHKXEfwzHNQBXrocsUAG9X3d1U5q98oQ"}},"raven":{"enabled":true,"dsn":"https://6b671bce853e4d42a0bd7b195e034abe@sentry.io/1209190"},"logzio":{"enabled":true,"token":"n******************************T"}}
2018-06-21T10:41:29.376Z [m:53375] [debug] Registering @atomist/sdm-automation@0.1.0 with Atomist at 'https://automation-staging.atomist.services/registration': {"api_version":"1","name":"@atomist/sdm-automation","version":"0.1.0","policy":{"name":"ephemeral"},"groups":["all"],"commands":[],"events":[{"subscription":"subscription OnLog_3893336498 { AtomistLog { level timestamp message correlation_context @required { correlation_id automation(name: \"@atomist/sdm-automation\", version: \"0.1.0\") @required { name version } } }}","secrets":[]}],"ingesters":["type SdmGoal @rootType {\n    environment: String @compositeId\n    name: String @compositeId\n    uniqueName: String\n\n    sha: String @compositeId\n    branch: String @compositeId\n\n    repo(name: String!, owner: [String!], providerId: [String!]): SdmRepository\n\n    fulfillment(name: [String!], method: [String!]): SdmGoalFulfillment\n\n    description: String\n    url: String\n    goalSet: String\n    goalSetId: String\n    state: SdmGoalState\n    ts: Int @compositeId\n\n    error: String\n    retryFeasible: Boolean\n\n    approval: SdmProvenance\n    approvelRequired: Boolean\n\n    provenance: [SdmProvenance]\n\n    preConditions: [SdmCondition]\n\n    externalKey: String\n\n    data: String\n\n    push: Push\n        @linkTo(\n            queryName: \"pushBySha\",\n            variables: [{name: \"afterSha\", path: \"$.sha\"}, {name: \"branchName\", path: \"$.branch\"}]\n        )\n        @linkFrom(\n            field: {kind: LIST, name: \"goals\"},\n            query: \"query goals($sha: String!, $branch: String!) {SdmGoal(sha: [$sha], branch: [$branch], _first: 500){id}}\",\n            variables: [{name: \"sha\", path: \"$.after.sha\"}, {name: \"branch\", path: \"$.branch\"}]\n        )\n}\n\ntype SdmRepository {\n    name: String\n    owner: String\n    providerId: String\n}\n\ntype SdmGoalFulfillment {\n    method: String\n    name: String\n}\n\ntype SdmProvenance {\n    correlationId: String\n    registration: String\n    version: String\n    name: String\n    ts: Int\n\n    userId: String\n    channelId: String\n}\n\ntype SdmCondition {\n    environment: String\n    name: String\n}\n\nenum SdmGoalState {\n    planned\n    requested\n    in_process\n    waiting_for_approval\n    success\n    failure\n    skipped\n}","type SdmBuildIdentifier @rootType {\n    repo(name: [String!], owner: [String!], providerId: [String!]): SdmBuildIdentifierRepository\n    identifier: String\n}\n\ntype SdmBuildIdentifierRepository {\n    name: String @compositeId\n    owner: String @compositeId\n    provider: String @compositeId\n}","type SdmDeployEnablement @rootType {\n    state: SdmDeployState\n    owner: String @compositeId\n    repo: String @compositeId\n    providerId: String @compositeId\n}\n\nenum SdmDeployState {\n    requested\n    disabled\n}","type SdmVersion @rootType {\n    repo(name: [String!], owner: [String!], providerId: [String!]): SdmVersionRepository\n    sha: String\n    branch: String @compositeId\n    version: String @compositeId\n}\n\ntype SdmVersionRepository {\n    name: String\n    owner: String\n    provider: String\n}"],"metadata":{"labels":{"atomist.description":"Automation client to define the global SDM custom types","atomist.license":"Apache-2.0","atomist.author":"Atomist","atomist.homepage":"https://github.com/atomisthq/sdm-automation#readme","atomist.client":"@atomist/automation-client#0.17.4-20180619214533","atomist.git.sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","atomist.git.branch":"master","atomist.git.repository":"git@github.com:atomisthq/sdm-automation.git","atomist.system.hostname":"imac-pro.local","atomist.system.type":"Darwin","atomist.system.release":"17.6.0","atomist.system.platform":"darwin"}}}
2018-06-21T10:41:29.412Z [m:53375] [debug] Atomist automation client api running at 'http://localhost:2866'
2018-06-21T10:41:31.025Z [m:53375] [info ] Registration successful: {"url":"wss://automation-staging.atomist.services/registration/session:5a2f087d-40d6-4040-b148-b14460bc1f98","jwt":"session:5a2f087d-40d6-4040-b148-b14460bc1f98","endpoints":[],"name":"@atomist/sdm-automation","version":"0.1.0"}
2018-06-21T10:41:31.031Z [m:53375] [info ] Opening WebSocket connection
2018-06-21T10:41:31.035Z [m:53375] [info ] 
   ____          _                      _       _       __          _                                  _                             _    _               
  / __ \   __ _ | |_   ___   _ __ ___  (_) ___ | |_    / / ___   __| | _ __ ___           __ _  _   _ | |_   ___   _ __ ___    __ _ | |_ (_)  ___   _ __  
 / / _` | / _` || __| / _ \ | '_ ` _ \ | |/ __|| __|  / / / __| / _` || '_ ` _ \  _____  / _` || | | || __| / _ \ | '_ ` _ \  / _` || __|| | / _ \ | '_ \ 
| | (_| || (_| || |_ | (_) || | | | | || |\__ \| |_  / /  \__ \| (_| || | | | | ||_____|| (_| || |_| || |_ | (_) || | | | | || (_| || |_ | || (_) || | | |
 \ \__,_| \__,_| \__| \___/ |_| |_| |_||_||___/ \__|/_/   |___/ \__,_||_| |_| |_|        \__,_| \__,_| \__| \___/ |_| |_| |_| \__,_| \__||_| \___/ |_| |_|
  \____/                                                                                                                                                  

  Version 0.1.0  Sha 2e02da2  Repository git@github.com:atomisthq/sdm-automation.git
  Groups all  Policy ephemeral  Cluster disabled
  Commands 0  Events 0  Ingesters 4
  JWT session:5a2f087d-40d6-4040-b148-b14460bc1f98
  
  

  Docs https://docs.atomist.com  Support https://join.atomist.com

2018-06-21T10:41:31.402Z [m:53375] [info ] WebSocket connection established. Listening for incoming messages
2018-06-21T10:42:12.204Z [m:53375] [info ] Shutdown initiated. Calling shutdown hooks
2018-06-21T13:46:06.264Z [m:70281] [info ] Starting Atomist automation client @atomist/sdm-automation@0.1.0
2018-06-21T13:46:06.265Z [m:70281] [debug] Using automation client configuration: {"teamIds":["T7GMF5USG"],"groups":[],"environment":"gke-int-demo","policy":"ephemeral","endpoints":{"api":"https://automation.atomist.com/registration","graphql":"https://automation.atomist.com/graphql/team"},"http":{"enabled":true,"host":"localhost","port":2866,"auth":{"basic":{"enabled":false},"bearer":{"enabled":false}}},"ws":{"enabled":true,"termination":{"graceful":false,"gracePeriod":10000},"compress":false,"timeout":10000},"applicationEvents":{"enabled":false},"cluster":{"enabled":false},"logging":{"level":"debug","file":{"enabled":true,"level":"debug"},"banner":true,"logEvents":{"enabled":true}},"statsd":{"enabled":false},"name":"@atomist/sdm-automation","version":"0.1.0","keywords":["atomist","automation","sdm"],"application":"sdm-automation","token":"9**************************************3","sdm":{"docker":{"jfrog":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"},"hub":{"registry":"atomist","user":"atomistbot","password":"2******************v"}},"rolar":{"url":"h********************o"},"-dashboard":{"url":"h*********************m"},"npm":{"registry":"https://atomist.jfrog.io/atomist/api/npm/npm-dev-local","npmrc":"@atomist:registry=https://atomist.jfrog.io/atomist/api/npm/npm-dev-local/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:_password=QVA0M1FScDNtQVlHaDZpS0FHb1I5ZUJabVY2UHB2V1JCZE1FVkY=\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:username=christian/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:email=christian@atomist.com\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:always-auth=true","access":"public"},"graphviz":{"url":""},"cloudfoundry":{"api":"https://api.run.pivotal.io","user":"cd@atomist.com","password":"t*************U","org":"atomist","spaces":{"production":"ri-production","staging":"ri-staging"}},"checkstyle":{"enabled":false,"reviewOnlyChangedFiles":true,"path":"/Users/cdupuis/Development/atomist/sample-sdm/test/checkstyle-8.8-all.jar"},"sonar":{"enabled":true,"url":"h*******************o","org":"sdm-org","token":"d**************************************e"},"git":{"url":"h*********************************************m","user":"rod","password":"a*****t"},"concourse":{"url":"h*******************0","user":"concourse","password":"c*******e","atomist":{"baseUrl":"h**********************************************************s"}},"artifactory":{"url":"h************************************************o","user":"christian","password":"3*****************H","apiKey":"AKCp5aUF3qqvW44G2Ummyp6DmbMczkDGqUbVASobKeHKXEfwzHNQBXrocsUAG9X3d1U5q98oQ"}},"raven":{"enabled":true,"dsn":"https://6b671bce853e4d42a0bd7b195e034abe@sentry.io/1209190"},"logzio":{"enabled":true,"token":"n******************************T"}}
2018-06-21T13:46:06.267Z [m:70281] [debug] Registering @atomist/sdm-automation@0.1.0 with Atomist at 'https://automation.atomist.com/registration': {"api_version":"1","name":"@atomist/sdm-automation","version":"0.1.0","policy":{"name":"ephemeral"},"team_ids":["T7GMF5USG"],"commands":[],"events":[{"subscription":"subscription OnLog_3893336498 { AtomistLog { level timestamp message correlation_context @required { correlation_id automation(name: \"@atomist/sdm-automation\", version: \"0.1.0\") @required { name version } } }}","secrets":[]}],"ingesters":["type SdmGoal @rootType {\n    environment: String @compositeId\n    name: String @compositeId\n    uniqueName: String\n\n    sha: String @compositeId\n    branch: String @compositeId\n\n    repo(name: String!, owner: [String!], providerId: [String!]): SdmRepository\n\n    fulfillment(name: [String!], method: [String!]): SdmGoalFulfillment\n\n    description: String\n    url: String\n    goalSet: String\n    goalSetId: String\n    state: SdmGoalState\n    ts: Int @compositeId\n\n    error: String\n    retryFeasible: Boolean\n\n    approval: SdmProvenance\n    approvelRequired: Boolean\n\n    provenance: [SdmProvenance]\n\n    preConditions: [SdmCondition]\n\n    externalKey: String\n\n    data: String\n\n    push: Push\n        @linkTo(\n            queryName: \"pushBySha\",\n            variables: [{name: \"afterSha\", path: \"$.sha\"}, {name: \"branchName\", path: \"$.branch\"}]\n        )\n}\n\ntype SdmRepository {\n    name: String\n    owner: String\n    providerId: String\n}\n\ntype SdmGoalFulfillment {\n    method: String\n    name: String\n}\n\ntype SdmProvenance {\n    correlationId: String\n    registration: String\n    version: String\n    name: String\n    ts: Int\n\n    userId: String\n    channelId: String\n}\n\ntype SdmCondition {\n    environment: String\n    name: String\n}\n\nenum SdmGoalState {\n    planned\n    requested\n    in_process\n    waiting_for_approval\n    success\n    failure\n    skipped\n}","type SdmBuildIdentifier @rootType {\n    repo(name: [String!], owner: [String!], providerId: [String!]): SdmBuildIdentifierRepository\n    identifier: String\n}\n\ntype SdmBuildIdentifierRepository {\n    name: String @compositeId\n    owner: String @compositeId\n    provider: String @compositeId\n}","type SdmDeployEnablement @rootType {\n    state: SdmDeployState\n    owner: String @compositeId\n    repo: String @compositeId\n    providerId: String @compositeId\n}\n\nenum SdmDeployState {\n    requested\n    disabled\n}","type SdmVersion @rootType {\n    repo(name: [String!], owner: [String!], providerId: [String!]): SdmVersionRepository\n    sha: String\n    branch: String @compositeId\n    version: String @compositeId\n}\n\ntype SdmVersionRepository {\n    name: String\n    owner: String\n    provider: String\n}"],"metadata":{"labels":{"atomist.description":"Automation client to define the global SDM custom types","atomist.license":"Apache-2.0","atomist.author":"Atomist","atomist.homepage":"https://github.com/atomisthq/sdm-automation#readme","atomist.client":"@atomist/automation-client#0.17.4-20180619214533","atomist.git.sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","atomist.git.branch":"master","atomist.git.repository":"git@github.com:atomisthq/sdm-automation.git","atomist.system.hostname":"imac-pro.local","atomist.system.type":"Darwin","atomist.system.release":"17.6.0","atomist.system.platform":"darwin"}}}
2018-06-21T13:46:06.313Z [m:70281] [debug] Atomist automation client api running at 'http://localhost:2866'
2018-06-21T13:46:07.907Z [m:70281] [error] Registration failed with code '400': '[{"subscription":"subscription OnLog_3893336498 { AtomistLog { level timestamp message correlation_context @required { correlation_id automation(name: \"@atomist/sdm-automation\", version: \"0.1.0\") @required { name version } } }}","type":"schema","errors":[{"message":"allowed","validation-error-class":"allowed","locations":[{"row":0,"column":0,"index":0}],"operation-name":"OnLog_3893336498","operation-type":"subscription"}]}]'
2018-06-21T13:46:47.673Z [m:70406] [info ] Starting Atomist automation client @atomist/sdm-automation@0.1.0
2018-06-21T13:46:47.674Z [m:70406] [debug] Using automation client configuration: {"teamIds":[],"groups":["all"],"environment":"local","policy":"ephemeral","endpoints":{"api":"https://automation-staging.atomist.services/registration","graphql":"https://automation-staging.atomist.services/graphql/team"},"http":{"enabled":true,"host":"localhost","port":2866,"auth":{"basic":{"enabled":false},"bearer":{"enabled":false}}},"ws":{"enabled":true,"termination":{"graceful":false,"gracePeriod":10000},"compress":false,"timeout":10000},"applicationEvents":{"enabled":false},"cluster":{"enabled":false},"logging":{"level":"debug","file":{"enabled":true,"level":"debug"},"banner":true,"logEvents":{"enabled":true}},"statsd":{"enabled":false},"name":"@atomist/sdm-automation","version":"0.1.0","keywords":["atomist","automation","sdm"],"application":"sdm-automation","token":"9**************************************3","sdm":{"docker":{"jfrog":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"},"hub":{"registry":"atomist","user":"atomist","password":"7**************g"}},"rolar":{"url":"h********************o"},"npm":{"registry":"https://atomist.jfrog.io/atomist/api/npm/npm-dev-local","npmrc":"@atomist:registry=https://atomist.jfrog.io/atomist/api/npm/npm-dev-local/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:_password=QVA0M1FScDNtQVlHaDZpS0FHb1I5ZUJabVY2UHB2V1JCZE1FVkY=\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:username=christian/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:email=christian@atomist.com\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:always-auth=true","access":"public"},"graphviz":{"url":""},"cloudfoundry":{"api":"https://api.run.pivotal.io","user":"cd@atomist.com","password":"t*************U","org":"atomist","spaces":{"production":"ri-production","staging":"ri-staging"}},"checkstyle":{"enabled":false,"reviewOnlyChangedFiles":true,"path":"/Users/cdupuis/Development/atomist/sample-sdm/test/checkstyle-8.8-all.jar"},"sonar":{"enabled":true,"url":"h*******************o","org":"sdm-org","token":"d**************************************e"},"git":{"url":"h*********************************************m","user":"rod","password":"a*****t"},"concourse":{"url":"h*******************0","user":"concourse","password":"c*******e","atomist":{"baseUrl":"h**********************************************************s"}},"artifactory":{"url":"h******************************t","user":"christian","repo":"libs-release-local","apiKey":"AKCp5aUF3qqvW44G2Ummyp6DmbMczkDGqUbVASobKeHKXEfwzHNQBXrocsUAG9X3d1U5q98oQ"}},"raven":{"enabled":true,"dsn":"https://6b671bce853e4d42a0bd7b195e034abe@sentry.io/1209190"},"logzio":{"enabled":true,"token":"n******************************T"}}
2018-06-21T13:46:47.678Z [m:70406] [debug] Registering @atomist/sdm-automation@0.1.0 with Atomist at 'https://automation-staging.atomist.services/registration': {"api_version":"1","name":"@atomist/sdm-automation","version":"0.1.0","policy":{"name":"ephemeral"},"groups":["all"],"commands":[],"events":[{"subscription":"subscription OnLog_3893336498 { AtomistLog { level timestamp message correlation_context @required { correlation_id automation(name: \"@atomist/sdm-automation\", version: \"0.1.0\") @required { name version } } }}","secrets":[]}],"ingesters":["type SdmGoal @rootType {\n    environment: String @compositeId\n    name: String @compositeId\n    uniqueName: String\n\n    sha: String @compositeId\n    branch: String @compositeId\n\n    repo(name: String!, owner: [String!], providerId: [String!]): SdmRepository\n\n    fulfillment(name: [String!], method: [String!]): SdmGoalFulfillment\n\n    description: String\n    url: String\n    goalSet: String\n    goalSetId: String\n    state: SdmGoalState\n    ts: Int @compositeId\n\n    error: String\n    retryFeasible: Boolean\n\n    approval: SdmProvenance\n    approvelRequired: Boolean\n\n    provenance: [SdmProvenance]\n\n    preConditions: [SdmCondition]\n\n    externalKey: String\n\n    data: String\n\n    push: Push\n        @linkTo(\n            queryName: \"pushBySha\",\n            variables: [{name: \"afterSha\", path: \"$.sha\"}, {name: \"branchName\", path: \"$.branch\"}]\n        )\n        @linkFrom(\n            field: {kind: LIST, name: \"goals\"},\n            query: \"query goals($sha: String!, $branch: String!) {SdmGoal(sha: [$sha], branch: [$branch], _first: 500, _orderBy: \"ts\"){id}}\",\n            variables: [{name: \"sha\", path: \"$.after.sha\"}, {name: \"branch\", path: \"$.branch\"}]\n        )\n}\n\ntype SdmRepository {\n    name: String\n    owner: String\n    providerId: String\n}\n\ntype SdmGoalFulfillment {\n    method: String\n    name: String\n}\n\ntype SdmProvenance {\n    correlationId: String\n    registration: String\n    version: String\n    name: String\n    ts: Int\n\n    userId: String\n    channelId: String\n}\n\ntype SdmCondition {\n    environment: String\n    name: String\n}\n\nenum SdmGoalState {\n    planned\n    requested\n    in_process\n    waiting_for_approval\n    success\n    failure\n    skipped\n}","type SdmBuildIdentifier @rootType {\n    repo(name: [String!], owner: [String!], providerId: [String!]): SdmBuildIdentifierRepository\n    identifier: String\n}\n\ntype SdmBuildIdentifierRepository {\n    name: String @compositeId\n    owner: String @compositeId\n    provider: String @compositeId\n}","type SdmDeployEnablement @rootType {\n    state: SdmDeployState\n    owner: String @compositeId\n    repo: String @compositeId\n    providerId: String @compositeId\n}\n\nenum SdmDeployState {\n    requested\n    disabled\n}","type SdmVersion @rootType {\n    repo(name: [String!], owner: [String!], providerId: [String!]): SdmVersionRepository\n    sha: String\n    branch: String @compositeId\n    version: String @compositeId\n}\n\ntype SdmVersionRepository {\n    name: String\n    owner: String\n    provider: String\n}"],"metadata":{"labels":{"atomist.description":"Automation client to define the global SDM custom types","atomist.license":"Apache-2.0","atomist.author":"Atomist","atomist.homepage":"https://github.com/atomisthq/sdm-automation#readme","atomist.client":"@atomist/automation-client#0.17.4-20180619214533","atomist.git.sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","atomist.git.branch":"master","atomist.git.repository":"git@github.com:atomisthq/sdm-automation.git","atomist.system.hostname":"imac-pro.local","atomist.system.type":"Darwin","atomist.system.release":"17.6.0","atomist.system.platform":"darwin"}}}
2018-06-21T13:46:47.715Z [m:70406] [debug] Atomist automation client api running at 'http://localhost:2866'
2018-06-21T13:46:49.548Z [m:70406] [info ] Registration successful: {"url":"wss://automation-staging.atomist.services/registration/session:30299d7f-41fc-42a0-b22f-0eeb910d6149","jwt":"session:30299d7f-41fc-42a0-b22f-0eeb910d6149","endpoints":[],"name":"@atomist/sdm-automation","version":"0.1.0"}
2018-06-21T13:46:49.557Z [m:70406] [info ] Opening WebSocket connection
2018-06-21T13:46:49.562Z [m:70406] [info ] 
   ____          _                      _       _       __          _                                  _                             _    _               
  / __ \   __ _ | |_   ___   _ __ ___  (_) ___ | |_    / / ___   __| | _ __ ___           __ _  _   _ | |_   ___   _ __ ___    __ _ | |_ (_)  ___   _ __  
 / / _` | / _` || __| / _ \ | '_ ` _ \ | |/ __|| __|  / / / __| / _` || '_ ` _ \  _____  / _` || | | || __| / _ \ | '_ ` _ \  / _` || __|| | / _ \ | '_ \ 
| | (_| || (_| || |_ | (_) || | | | | || |\__ \| |_  / /  \__ \| (_| || | | | | ||_____|| (_| || |_| || |_ | (_) || | | | | || (_| || |_ | || (_) || | | |
 \ \__,_| \__,_| \__| \___/ |_| |_| |_||_||___/ \__|/_/   |___/ \__,_||_| |_| |_|        \__,_| \__,_| \__| \___/ |_| |_| |_| \__,_| \__||_| \___/ |_| |_|
  \____/                                                                                                                                                  

  Version 0.1.0  Sha 2e02da2  Repository git@github.com:atomisthq/sdm-automation.git
  Groups all  Policy ephemeral  Cluster disabled
  Commands 0  Events 0  Ingesters 4
  JWT session:30299d7f-41fc-42a0-b22f-0eeb910d6149
  
  

  Docs https://docs.atomist.com  Support https://join.atomist.com

2018-06-21T13:46:50.084Z [m:70406] [info ] WebSocket connection established. Listening for incoming messages
2018-06-21T13:46:51.698Z [m:70406] [info ] Shutdown initiated. Calling shutdown hooks
2018-06-21T13:47:05.015Z [m:70481] [info ] Starting Atomist automation client @atomist/sdm-automation@0.1.0
2018-06-21T13:47:05.016Z [m:70481] [debug] Using automation client configuration: {"teamIds":[],"groups":["all"],"environment":"local","policy":"ephemeral","endpoints":{"api":"https://automation-staging.atomist.services/registration","graphql":"https://automation-staging.atomist.services/graphql/team"},"http":{"enabled":true,"host":"localhost","port":2866,"auth":{"basic":{"enabled":false},"bearer":{"enabled":false}}},"ws":{"enabled":true,"termination":{"graceful":false,"gracePeriod":10000},"compress":false,"timeout":10000},"applicationEvents":{"enabled":false},"cluster":{"enabled":false},"logging":{"level":"debug","file":{"enabled":true,"level":"debug"},"banner":true,"logEvents":{"enabled":true}},"statsd":{"enabled":false},"name":"@atomist/sdm-automation","version":"0.1.0","keywords":["atomist","automation","sdm"],"application":"sdm-automation","token":"9**************************************3","sdm":{"docker":{"jfrog":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"},"hub":{"registry":"atomist","user":"atomist","password":"7**************g"}},"rolar":{"url":"h********************o"},"npm":{"registry":"https://atomist.jfrog.io/atomist/api/npm/npm-dev-local","npmrc":"@atomist:registry=https://atomist.jfrog.io/atomist/api/npm/npm-dev-local/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:_password=QVA0M1FScDNtQVlHaDZpS0FHb1I5ZUJabVY2UHB2V1JCZE1FVkY=\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:username=christian/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:email=christian@atomist.com\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:always-auth=true","access":"public"},"graphviz":{"url":""},"cloudfoundry":{"api":"https://api.run.pivotal.io","user":"cd@atomist.com","password":"t*************U","org":"atomist","spaces":{"production":"ri-production","staging":"ri-staging"}},"checkstyle":{"enabled":false,"reviewOnlyChangedFiles":true,"path":"/Users/cdupuis/Development/atomist/sample-sdm/test/checkstyle-8.8-all.jar"},"sonar":{"enabled":true,"url":"h*******************o","org":"sdm-org","token":"d**************************************e"},"git":{"url":"h*********************************************m","user":"rod","password":"a*****t"},"concourse":{"url":"h*******************0","user":"concourse","password":"c*******e","atomist":{"baseUrl":"h**********************************************************s"}},"artifactory":{"url":"h******************************t","user":"christian","repo":"libs-release-local","apiKey":"AKCp5aUF3qqvW44G2Ummyp6DmbMczkDGqUbVASobKeHKXEfwzHNQBXrocsUAG9X3d1U5q98oQ"}},"raven":{"enabled":true,"dsn":"https://6b671bce853e4d42a0bd7b195e034abe@sentry.io/1209190"},"logzio":{"enabled":true,"token":"n******************************T"}}
2018-06-21T13:47:05.018Z [m:70481] [debug] Registering @atomist/sdm-automation@0.1.0 with Atomist at 'https://automation-staging.atomist.services/registration': {"api_version":"1","name":"@atomist/sdm-automation","version":"0.1.0","policy":{"name":"ephemeral"},"groups":["all"],"commands":[],"events":[{"subscription":"subscription OnLog_3893336498 { AtomistLog { level timestamp message correlation_context @required { correlation_id automation(name: \"@atomist/sdm-automation\", version: \"0.1.0\") @required { name version } } }}","secrets":[]}],"ingesters":["type SdmGoal @rootType {\n    environment: String @compositeId\n    name: String @compositeId\n    uniqueName: String\n\n    sha: String @compositeId\n    branch: String @compositeId\n\n    repo(name: String!, owner: [String!], providerId: [String!]): SdmRepository\n\n    fulfillment(name: [String!], method: [String!]): SdmGoalFulfillment\n\n    description: String\n    url: String\n    goalSet: String\n    goalSetId: String\n    state: SdmGoalState\n    ts: Int @compositeId\n\n    error: String\n    retryFeasible: Boolean\n\n    approval: SdmProvenance\n    approvelRequired: Boolean\n\n    provenance: [SdmProvenance]\n\n    preConditions: [SdmCondition]\n\n    externalKey: String\n\n    data: String\n\n    push: Push\n        @linkTo(\n            queryName: \"pushBySha\",\n            variables: [{name: \"afterSha\", path: \"$.sha\"}, {name: \"branchName\", path: \"$.branch\"}]\n        )\n\n}\n\ntype SdmRepository {\n    name: String\n    owner: String\n    providerId: String\n}\n\ntype SdmGoalFulfillment {\n    method: String\n    name: String\n}\n\ntype SdmProvenance {\n    correlationId: String\n    registration: String\n    version: String\n    name: String\n    ts: Int\n\n    userId: String\n    channelId: String\n}\n\ntype SdmCondition {\n    environment: String\n    name: String\n}\n\nenum SdmGoalState {\n    planned\n    requested\n    in_process\n    waiting_for_approval\n    success\n    failure\n    skipped\n}","type SdmBuildIdentifier @rootType {\n    repo(name: [String!], owner: [String!], providerId: [String!]): SdmBuildIdentifierRepository\n    identifier: String\n}\n\ntype SdmBuildIdentifierRepository {\n    name: String @compositeId\n    owner: String @compositeId\n    provider: String @compositeId\n}","type SdmDeployEnablement @rootType {\n    state: SdmDeployState\n    owner: String @compositeId\n    repo: String @compositeId\n    providerId: String @compositeId\n}\n\nenum SdmDeployState {\n    requested\n    disabled\n}","type SdmVersion @rootType {\n    repo(name: [String!], owner: [String!], providerId: [String!]): SdmVersionRepository\n    sha: String\n    branch: String @compositeId\n    version: String @compositeId\n}\n\ntype SdmVersionRepository {\n    name: String\n    owner: String\n    provider: String\n}"],"metadata":{"labels":{"atomist.description":"Automation client to define the global SDM custom types","atomist.license":"Apache-2.0","atomist.author":"Atomist","atomist.homepage":"https://github.com/atomisthq/sdm-automation#readme","atomist.client":"@atomist/automation-client#0.17.4-20180619214533","atomist.git.sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","atomist.git.branch":"master","atomist.git.repository":"git@github.com:atomisthq/sdm-automation.git","atomist.system.hostname":"imac-pro.local","atomist.system.type":"Darwin","atomist.system.release":"17.6.0","atomist.system.platform":"darwin"}}}
2018-06-21T13:47:05.057Z [m:70481] [debug] Atomist automation client api running at 'http://localhost:2866'
2018-06-21T13:47:06.712Z [m:70481] [info ] Registration successful: {"url":"wss://automation-staging.atomist.services/registration/session:e9df0d50-e983-431a-85fd-8987a5cdb2e7","jwt":"session:e9df0d50-e983-431a-85fd-8987a5cdb2e7","endpoints":[],"name":"@atomist/sdm-automation","version":"0.1.0"}
2018-06-21T13:47:06.718Z [m:70481] [info ] Opening WebSocket connection
2018-06-21T13:47:06.722Z [m:70481] [info ] 
   ____          _                      _       _       __          _                                  _                             _    _               
  / __ \   __ _ | |_   ___   _ __ ___  (_) ___ | |_    / / ___   __| | _ __ ___           __ _  _   _ | |_   ___   _ __ ___    __ _ | |_ (_)  ___   _ __  
 / / _` | / _` || __| / _ \ | '_ ` _ \ | |/ __|| __|  / / / __| / _` || '_ ` _ \  _____  / _` || | | || __| / _ \ | '_ ` _ \  / _` || __|| | / _ \ | '_ \ 
| | (_| || (_| || |_ | (_) || | | | | || |\__ \| |_  / /  \__ \| (_| || | | | | ||_____|| (_| || |_| || |_ | (_) || | | | | || (_| || |_ | || (_) || | | |
 \ \__,_| \__,_| \__| \___/ |_| |_| |_||_||___/ \__|/_/   |___/ \__,_||_| |_| |_|        \__,_| \__,_| \__| \___/ |_| |_| |_| \__,_| \__||_| \___/ |_| |_|
  \____/                                                                                                                                                  

  Version 0.1.0  Sha 2e02da2  Repository git@github.com:atomisthq/sdm-automation.git
  Groups all  Policy ephemeral  Cluster disabled
  Commands 0  Events 0  Ingesters 4
  JWT session:e9df0d50-e983-431a-85fd-8987a5cdb2e7
  
  

  Docs https://docs.atomist.com  Support https://join.atomist.com

2018-06-21T13:47:07.282Z [m:70481] [info ] WebSocket connection established. Listening for incoming messages
2018-06-21T14:04:14.062Z [m:70481] [info ] Shutdown initiated. Calling shutdown hooks
2018-06-21T14:13:29.352Z [m:72422] [info ] Starting Atomist automation client @atomist/sdm-automation@0.1.0
2018-06-21T14:13:29.353Z [m:72422] [debug] Using automation client configuration: {"teamIds":[],"groups":["all"],"environment":"local","policy":"ephemeral","endpoints":{"api":"https://automation-staging.atomist.services/registration","graphql":"https://automation-staging.atomist.services/graphql/team"},"http":{"enabled":true,"host":"localhost","port":2866,"auth":{"basic":{"enabled":false},"bearer":{"enabled":false}}},"ws":{"enabled":true,"termination":{"graceful":false,"gracePeriod":10000},"compress":false,"timeout":10000},"applicationEvents":{"enabled":false},"cluster":{"enabled":false},"logging":{"level":"debug","file":{"enabled":true,"level":"debug"},"banner":true,"logEvents":{"enabled":true}},"statsd":{"enabled":false},"name":"@atomist/sdm-automation","version":"0.1.0","keywords":["atomist","automation","sdm"],"application":"sdm-automation","token":"9**************************************3","sdm":{"docker":{"jfrog":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"},"hub":{"registry":"atomist","user":"atomist","password":"7**************g"}},"rolar":{"url":"h********************o"},"npm":{"registry":"https://atomist.jfrog.io/atomist/api/npm/npm-dev-local","npmrc":"@atomist:registry=https://atomist.jfrog.io/atomist/api/npm/npm-dev-local/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:_password=QVA0M1FScDNtQVlHaDZpS0FHb1I5ZUJabVY2UHB2V1JCZE1FVkY=\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:username=christian/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:email=christian@atomist.com\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:always-auth=true","access":"public"},"graphviz":{"url":""},"cloudfoundry":{"api":"https://api.run.pivotal.io","user":"cd@atomist.com","password":"t*************U","org":"atomist","spaces":{"production":"ri-production","staging":"ri-staging"}},"checkstyle":{"enabled":false,"reviewOnlyChangedFiles":true,"path":"/Users/cdupuis/Development/atomist/sample-sdm/test/checkstyle-8.8-all.jar"},"sonar":{"enabled":true,"url":"h*******************o","org":"sdm-org","token":"d**************************************e"},"git":{"url":"h*********************************************m","user":"rod","password":"a*****t"},"concourse":{"url":"h*******************0","user":"concourse","password":"c*******e","atomist":{"baseUrl":"h**********************************************************s"}},"artifactory":{"url":"h******************************t","user":"christian","repo":"libs-release-local","apiKey":"AKCp5aUF3qqvW44G2Ummyp6DmbMczkDGqUbVASobKeHKXEfwzHNQBXrocsUAG9X3d1U5q98oQ"}},"raven":{"enabled":true,"dsn":"https://6b671bce853e4d42a0bd7b195e034abe@sentry.io/1209190"},"logzio":{"enabled":true,"token":"n******************************T"}}
2018-06-21T14:13:29.355Z [m:72422] [debug] Registering @atomist/sdm-automation@0.1.0 with Atomist at 'https://automation-staging.atomist.services/registration': {"api_version":"1","name":"@atomist/sdm-automation","version":"0.1.0","policy":{"name":"ephemeral"},"groups":["all"],"commands":[],"events":[{"subscription":"subscription OnLog_3893336498 { AtomistLog { level timestamp message correlation_context @required { correlation_id automation(name: \"@atomist/sdm-automation\", version: \"0.1.0\") @required { name version } } }}","secrets":[]}],"ingesters":["type SdmGoal @rootType {\n    environment: String @compositeId\n    name: String @compositeId\n    uniqueName: String\n\n    sha: String @compositeId\n    branch: String @compositeId\n\n    repo(name: String!, owner: [String!], providerId: [String!]): SdmRepository\n\n    fulfillment(name: [String!], method: [String!]): SdmGoalFulfillment\n\n    description: String\n    url: String\n    goalSet: String\n    goalSetId: String\n    state: SdmGoalState\n    ts: Int @compositeId\n\n    error: String\n    retryFeasible: Boolean\n\n    approval: SdmProvenance\n    approvelRequired: Boolean\n\n    provenance: [SdmProvenance]\n\n    preConditions: [SdmCondition]\n\n    externalKey: String\n\n    data: String\n\n    push: Push\n        @linkTo(\n            queryName: \"pushBySha\",\n            variables: [{name: \"afterSha\", path: \"$.sha\"}, {name: \"branchName\", path: \"$.branch\"}]\n        )\n        @linkFrom(\n            field: {kind: LIST, name: \"goals\"},\n            query: \"query goals($sha: String!, $branch: String!) {SdmGoal(sha: [$sha], branch: [$branch], _first: 500){id}}\",\n            variables: [{name: \"sha\", path: \"$.after.sha\"}, {name: \"branch\", path: \"$.branch\"}]\n        )\n}\n\ntype SdmRepository {\n    name: String\n    owner: String\n    providerId: String\n}\n\ntype SdmGoalFulfillment {\n    method: String\n    name: String\n}\n\ntype SdmProvenance {\n    correlationId: String\n    registration: String\n    version: String\n    name: String\n    ts: Int\n\n    userId: String\n    channelId: String\n}\n\ntype SdmCondition {\n    environment: String\n    name: String\n}\n\nenum SdmGoalState {\n    planned\n    requested\n    in_process\n    waiting_for_approval\n    success\n    failure\n    skipped\n}","type SdmBuildIdentifier @rootType {\n    repo(name: [String!], owner: [String!], providerId: [String!]): SdmBuildIdentifierRepository\n    identifier: String\n}\n\ntype SdmBuildIdentifierRepository {\n    name: String @compositeId\n    owner: String @compositeId\n    provider: String @compositeId\n}","type SdmDeployEnablement @rootType {\n    state: SdmDeployState\n    owner: String @compositeId\n    repo: String @compositeId\n    providerId: String @compositeId\n}\n\nenum SdmDeployState {\n    requested\n    disabled\n}","type SdmVersion @rootType {\n    repo(name: [String!], owner: [String!], providerId: [String!]): SdmVersionRepository\n    sha: String\n    branch: String @compositeId\n    version: String @compositeId\n}\n\ntype SdmVersionRepository {\n    name: String\n    owner: String\n    provider: String\n}"],"metadata":{"labels":{"atomist.description":"Automation client to define the global SDM custom types","atomist.license":"Apache-2.0","atomist.author":"Atomist","atomist.homepage":"https://github.com/atomisthq/sdm-automation#readme","atomist.client":"@atomist/automation-client#0.17.4-20180619214533","atomist.git.sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","atomist.git.branch":"master","atomist.git.repository":"git@github.com:atomisthq/sdm-automation.git","atomist.system.hostname":"imac-pro.local","atomist.system.type":"Darwin","atomist.system.release":"17.6.0","atomist.system.platform":"darwin"}}}
2018-06-21T14:13:29.397Z [m:72422] [debug] Atomist automation client api running at 'http://localhost:2866'
2018-06-21T14:13:31.634Z [m:72422] [info ] Registration successful: {"url":"wss://automation-staging.atomist.services/registration/session:e1de2d11-4e2f-42f9-a65c-c6bfeca364ec","jwt":"session:e1de2d11-4e2f-42f9-a65c-c6bfeca364ec","endpoints":[],"name":"@atomist/sdm-automation","version":"0.1.0"}
2018-06-21T14:13:31.642Z [m:72422] [info ] Opening WebSocket connection
2018-06-21T14:13:31.647Z [m:72422] [info ] 
   ____          _                      _       _       __          _                                  _                             _    _               
  / __ \   __ _ | |_   ___   _ __ ___  (_) ___ | |_    / / ___   __| | _ __ ___           __ _  _   _ | |_   ___   _ __ ___    __ _ | |_ (_)  ___   _ __  
 / / _` | / _` || __| / _ \ | '_ ` _ \ | |/ __|| __|  / / / __| / _` || '_ ` _ \  _____  / _` || | | || __| / _ \ | '_ ` _ \  / _` || __|| | / _ \ | '_ \ 
| | (_| || (_| || |_ | (_) || | | | | || |\__ \| |_  / /  \__ \| (_| || | | | | ||_____|| (_| || |_| || |_ | (_) || | | | | || (_| || |_ | || (_) || | | |
 \ \__,_| \__,_| \__| \___/ |_| |_| |_||_||___/ \__|/_/   |___/ \__,_||_| |_| |_|        \__,_| \__,_| \__| \___/ |_| |_| |_| \__,_| \__||_| \___/ |_| |_|
  \____/                                                                                                                                                  

  Version 0.1.0  Sha 2e02da2  Repository git@github.com:atomisthq/sdm-automation.git
  Groups all  Policy ephemeral  Cluster disabled
  Commands 0  Events 0  Ingesters 4
  JWT session:e1de2d11-4e2f-42f9-a65c-c6bfeca364ec
  
  

  Docs https://docs.atomist.com  Support https://join.atomist.com

2018-06-21T14:13:32.472Z [m:72422] [info ] WebSocket connection established. Listening for incoming messages
2018-06-21T14:16:57.237Z [m:72422] [info ] Shutdown initiated. Calling shutdown hooks
2018-06-21T14:17:48.177Z [m:72892] [info ] Starting Atomist automation client @atomist/sdm-automation@0.1.0
2018-06-21T14:17:48.178Z [m:72892] [debug] Using automation client configuration: {"teamIds":[],"groups":["all"],"environment":"local","policy":"ephemeral","endpoints":{"api":"https://automation-staging.atomist.services/registration","graphql":"https://automation-staging.atomist.services/graphql/team"},"http":{"enabled":true,"host":"localhost","port":2866,"auth":{"basic":{"enabled":false},"bearer":{"enabled":false}}},"ws":{"enabled":true,"termination":{"graceful":false,"gracePeriod":10000},"compress":false,"timeout":10000},"applicationEvents":{"enabled":false},"cluster":{"enabled":false},"logging":{"level":"debug","file":{"enabled":true,"level":"debug"},"banner":true,"logEvents":{"enabled":true}},"statsd":{"enabled":false},"name":"@atomist/sdm-automation","version":"0.1.0","keywords":["atomist","automation","sdm"],"application":"sdm-automation","token":"9**************************************3","sdm":{"docker":{"jfrog":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"},"hub":{"registry":"atomist","user":"atomist","password":"7**************g"}},"rolar":{"url":"h********************o"},"npm":{"registry":"https://atomist.jfrog.io/atomist/api/npm/npm-dev-local","npmrc":"@atomist:registry=https://atomist.jfrog.io/atomist/api/npm/npm-dev-local/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:_password=QVA0M1FScDNtQVlHaDZpS0FHb1I5ZUJabVY2UHB2V1JCZE1FVkY=\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:username=christian/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:email=christian@atomist.com\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:always-auth=true","access":"public"},"graphviz":{"url":""},"cloudfoundry":{"api":"https://api.run.pivotal.io","user":"cd@atomist.com","password":"t*************U","org":"atomist","spaces":{"production":"ri-production","staging":"ri-staging"}},"checkstyle":{"enabled":false,"reviewOnlyChangedFiles":true,"path":"/Users/cdupuis/Development/atomist/sample-sdm/test/checkstyle-8.8-all.jar"},"sonar":{"enabled":true,"url":"h*******************o","org":"sdm-org","token":"d**************************************e"},"git":{"url":"h*********************************************m","user":"rod","password":"a*****t"},"concourse":{"url":"h*******************0","user":"concourse","password":"c*******e","atomist":{"baseUrl":"h**********************************************************s"}},"artifactory":{"url":"h******************************t","user":"christian","repo":"libs-release-local","apiKey":"AKCp5aUF3qqvW44G2Ummyp6DmbMczkDGqUbVASobKeHKXEfwzHNQBXrocsUAG9X3d1U5q98oQ"}},"raven":{"enabled":true,"dsn":"https://6b671bce853e4d42a0bd7b195e034abe@sentry.io/1209190"},"logzio":{"enabled":true,"token":"n******************************T"}}
2018-06-21T14:17:48.180Z [m:72892] [debug] Registering @atomist/sdm-automation@0.1.0 with Atomist at 'https://automation-staging.atomist.services/registration': {"api_version":"1","name":"@atomist/sdm-automation","version":"0.1.0","policy":{"name":"ephemeral"},"groups":["all"],"commands":[],"events":[{"subscription":"subscription OnLog_3893336498 { AtomistLog { level timestamp message correlation_context @required { correlation_id automation(name: \"@atomist/sdm-automation\", version: \"0.1.0\") @required { name version } } }}","secrets":[]}],"ingesters":["type SdmGoal @rootType {\n    environment: String @compositeId\n    name: String @compositeId\n    uniqueName: String\n\n    sha: String @compositeId\n    branch: String @compositeId\n\n    repo(name: String!, owner: [String!], providerId: [String!]): SdmRepository\n\n    fulfillment(name: [String!], method: [String!]): SdmGoalFulfillment\n\n    description: String\n    url: String\n    goalSet: String\n    goalSetId: String\n    state: SdmGoalState\n    ts: Int @compositeId\n\n    error: String\n    retryFeasible: Boolean\n\n    approval: SdmProvenance\n    approvelRequired: Boolean\n\n    provenance: [SdmProvenance]\n\n    preConditions: [SdmCondition]\n\n    externalKey: String\n\n    data: String\n\n    push: Push\n        @linkTo(\n            queryName: \"pushBySha\",\n            variables: [{name: \"afterSha\", path: \"$.sha\"}, {name: \"branchName\", path: \"$.branch\"}]\n        )\n        @linkFrom(\n            field: {kind: LIST, name: \"goals\"},\n            query: \"query goals($sha: String!, $branch: String!) {SdmGoal(sha: [$sha], branch: [$branch], _first: 500){id}}\",\n            variables: [{name: \"sha\", path: \"$.after.sha\"}, {name: \"branch\", path: \"$.branch\"}]\n        )\n}\n\ntype SdmRepository {\n    name: String\n    owner: String\n    providerId: String\n}\n\ntype SdmGoalFulfillment {\n    method: String\n    name: String\n}\n\ntype SdmProvenance {\n    correlationId: String\n    registration: String\n    version: String\n    name: String\n    ts: Int\n\n    userId: String\n    channelId: String\n}\n\ntype SdmCondition {\n    environment: String\n    name: String\n}\n\nenum SdmGoalState {\n    planned\n    requested\n    in_process\n    waiting_for_approval\n    success\n    failure\n    skipped\n}","type SdmBuildIdentifier @rootType {\n    repo(name: [String!], owner: [String!], providerId: [String!]): SdmBuildIdentifierRepository\n    identifier: String\n}\n\ntype SdmBuildIdentifierRepository {\n    name: String @compositeId\n    owner: String @compositeId\n    provider: String @compositeId\n}","type SdmDeployEnablement @rootType {\n    state: SdmDeployState\n    owner: String @compositeId\n    repo: String @compositeId\n    providerId: String @compositeId\n}\n\nenum SdmDeployState {\n    requested\n    disabled\n}","type SdmVersion @rootType {\n    repo(name: [String!], owner: [String!], providerId: [String!]): SdmVersionRepository\n    sha: String\n    branch: String @compositeId\n    version: String @compositeId\n}\n\ntype SdmVersionRepository {\n    name: String\n    owner: String\n    provider: String\n}"],"metadata":{"labels":{"atomist.description":"Automation client to define the global SDM custom types","atomist.license":"Apache-2.0","atomist.author":"Atomist","atomist.homepage":"https://github.com/atomisthq/sdm-automation#readme","atomist.client":"@atomist/automation-client#0.17.4-20180619214533","atomist.git.sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","atomist.git.branch":"master","atomist.git.repository":"git@github.com:atomisthq/sdm-automation.git","atomist.system.hostname":"imac-pro.local","atomist.system.type":"Darwin","atomist.system.release":"17.6.0","atomist.system.platform":"darwin"}}}
2018-06-21T14:17:48.217Z [m:72892] [debug] Atomist automation client api running at 'http://localhost:2866'
2018-06-21T14:17:50.739Z [m:72892] [info ] Registration successful: {"url":"wss://automation-staging.atomist.services/registration/session:42aa31d5-4d78-4c25-8853-ff6eead4b4b1","jwt":"session:42aa31d5-4d78-4c25-8853-ff6eead4b4b1","endpoints":[],"name":"@atomist/sdm-automation","version":"0.1.0"}
2018-06-21T14:17:50.745Z [m:72892] [info ] Opening WebSocket connection
2018-06-21T14:17:50.749Z [m:72892] [info ] 
   ____          _                      _       _       __          _                                  _                             _    _               
  / __ \   __ _ | |_   ___   _ __ ___  (_) ___ | |_    / / ___   __| | _ __ ___           __ _  _   _ | |_   ___   _ __ ___    __ _ | |_ (_)  ___   _ __  
 / / _` | / _` || __| / _ \ | '_ ` _ \ | |/ __|| __|  / / / __| / _` || '_ ` _ \  _____  / _` || | | || __| / _ \ | '_ ` _ \  / _` || __|| | / _ \ | '_ \ 
| | (_| || (_| || |_ | (_) || | | | | || |\__ \| |_  / /  \__ \| (_| || | | | | ||_____|| (_| || |_| || |_ | (_) || | | | | || (_| || |_ | || (_) || | | |
 \ \__,_| \__,_| \__| \___/ |_| |_| |_||_||___/ \__|/_/   |___/ \__,_||_| |_| |_|        \__,_| \__,_| \__| \___/ |_| |_| |_| \__,_| \__||_| \___/ |_| |_|
  \____/                                                                                                                                                  

  Version 0.1.0  Sha 2e02da2  Repository git@github.com:atomisthq/sdm-automation.git
  Groups all  Policy ephemeral  Cluster disabled
  Commands 0  Events 0  Ingesters 4
  JWT session:42aa31d5-4d78-4c25-8853-ff6eead4b4b1
  
  

  Docs https://docs.atomist.com  Support https://join.atomist.com

2018-06-21T14:17:51.296Z [m:72892] [info ] WebSocket connection established. Listening for incoming messages
2018-06-21T14:18:08.951Z [m:72892] [info ] Shutdown initiated. Calling shutdown hooks
2018-06-21T14:18:16.159Z [m:72977] [info ] Starting Atomist automation client @atomist/sdm-automation@0.1.0
2018-06-21T14:18:16.160Z [m:72977] [debug] Using automation client configuration: {"teamIds":[],"groups":["all"],"environment":"local","policy":"ephemeral","endpoints":{"api":"https://automation-staging.atomist.services/registration","graphql":"https://automation-staging.atomist.services/graphql/team"},"http":{"enabled":true,"host":"localhost","port":2866,"auth":{"basic":{"enabled":false},"bearer":{"enabled":false}}},"ws":{"enabled":true,"termination":{"graceful":false,"gracePeriod":10000},"compress":false,"timeout":10000},"applicationEvents":{"enabled":false},"cluster":{"enabled":false},"logging":{"level":"debug","file":{"enabled":true,"level":"debug"},"banner":true,"logEvents":{"enabled":true}},"statsd":{"enabled":false},"name":"@atomist/sdm-automation","version":"0.1.0","keywords":["atomist","automation","sdm"],"application":"sdm-automation","token":"9**************************************3","sdm":{"docker":{"jfrog":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"},"hub":{"registry":"atomist","user":"atomist","password":"7**************g"}},"rolar":{"url":"h********************o"},"npm":{"registry":"https://atomist.jfrog.io/atomist/api/npm/npm-dev-local","npmrc":"@atomist:registry=https://atomist.jfrog.io/atomist/api/npm/npm-dev-local/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:_password=QVA0M1FScDNtQVlHaDZpS0FHb1I5ZUJabVY2UHB2V1JCZE1FVkY=\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:username=christian/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:email=christian@atomist.com\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:always-auth=true","access":"public"},"graphviz":{"url":""},"cloudfoundry":{"api":"https://api.run.pivotal.io","user":"cd@atomist.com","password":"t*************U","org":"atomist","spaces":{"production":"ri-production","staging":"ri-staging"}},"checkstyle":{"enabled":false,"reviewOnlyChangedFiles":true,"path":"/Users/cdupuis/Development/atomist/sample-sdm/test/checkstyle-8.8-all.jar"},"sonar":{"enabled":true,"url":"h*******************o","org":"sdm-org","token":"d**************************************e"},"git":{"url":"h*********************************************m","user":"rod","password":"a*****t"},"concourse":{"url":"h*******************0","user":"concourse","password":"c*******e","atomist":{"baseUrl":"h**********************************************************s"}},"artifactory":{"url":"h******************************t","user":"christian","repo":"libs-release-local","apiKey":"AKCp5aUF3qqvW44G2Ummyp6DmbMczkDGqUbVASobKeHKXEfwzHNQBXrocsUAG9X3d1U5q98oQ"}},"raven":{"enabled":true,"dsn":"https://6b671bce853e4d42a0bd7b195e034abe@sentry.io/1209190"},"logzio":{"enabled":true,"token":"n******************************T"}}
2018-06-21T14:18:16.162Z [m:72977] [debug] Registering @atomist/sdm-automation@0.1.0 with Atomist at 'https://automation-staging.atomist.services/registration': {"api_version":"1","name":"@atomist/sdm-automation","version":"0.1.0","policy":{"name":"ephemeral"},"groups":["all"],"commands":[],"events":[{"subscription":"subscription OnLog_3893336498 { AtomistLog { level timestamp message correlation_context @required { correlation_id automation(name: \"@atomist/sdm-automation\", version: \"0.1.0\") @required { name version } } }}","secrets":[]}],"ingesters":["type SdmGoal @rootType {\n    environment: String @compositeId\n    name: String @compositeId\n    uniqueName: String\n\n    sha: String @compositeId\n    branch: String @compositeId\n\n    repo(name: String!, owner: [String!], providerId: [String!]): SdmRepository\n\n    fulfillment(name: [String!], method: [String!]): SdmGoalFulfillment\n\n    description: String\n    url: String\n    goalSet: String\n    goalSetId: String\n    state: SdmGoalState\n    ts: Int @compositeId\n\n    error: String\n    retryFeasible: Boolean\n\n    approval: SdmProvenance\n    approvelRequired: Boolean\n\n    provenance: [SdmProvenance]\n\n    preConditions: [SdmCondition]\n\n    externalKey: String\n\n    data: String\n\n    push: Push\n        @linkTo(\n            queryName: \"pushBySha\",\n            variables: [{name: \"afterSha\", path: \"$.sha\"}, {name: \"branchName\", path: \"$.branch\"}]\n        )\n        @linkFrom(\n            field: {kind: LIST, name: \"goals\"},\n            query: \"query goals($sha: String!, $branch: String!) {SdmGoal(sha: [$sha], branch: [$branch]){id}}\",\n            variables: [{name: \"sha\", path: \"$.after.sha\"}, {name: \"branch\", path: \"$.branch\"}]\n        )\n}\n\ntype SdmRepository {\n    name: String\n    owner: String\n    providerId: String\n}\n\ntype SdmGoalFulfillment {\n    method: String\n    name: String\n}\n\ntype SdmProvenance {\n    correlationId: String\n    registration: String\n    version: String\n    name: String\n    ts: Int\n\n    userId: String\n    channelId: String\n}\n\ntype SdmCondition {\n    environment: String\n    name: String\n}\n\nenum SdmGoalState {\n    planned\n    requested\n    in_process\n    waiting_for_approval\n    success\n    failure\n    skipped\n}","type SdmBuildIdentifier @rootType {\n    repo(name: [String!], owner: [String!], providerId: [String!]): SdmBuildIdentifierRepository\n    identifier: String\n}\n\ntype SdmBuildIdentifierRepository {\n    name: String @compositeId\n    owner: String @compositeId\n    provider: String @compositeId\n}","type SdmDeployEnablement @rootType {\n    state: SdmDeployState\n    owner: String @compositeId\n    repo: String @compositeId\n    providerId: String @compositeId\n}\n\nenum SdmDeployState {\n    requested\n    disabled\n}","type SdmVersion @rootType {\n    repo(name: [String!], owner: [String!], providerId: [String!]): SdmVersionRepository\n    sha: String\n    branch: String @compositeId\n    version: String @compositeId\n}\n\ntype SdmVersionRepository {\n    name: String\n    owner: String\n    provider: String\n}"],"metadata":{"labels":{"atomist.description":"Automation client to define the global SDM custom types","atomist.license":"Apache-2.0","atomist.author":"Atomist","atomist.homepage":"https://github.com/atomisthq/sdm-automation#readme","atomist.client":"@atomist/automation-client#0.17.4-20180619214533","atomist.git.sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","atomist.git.branch":"master","atomist.git.repository":"git@github.com:atomisthq/sdm-automation.git","atomist.system.hostname":"imac-pro.local","atomist.system.type":"Darwin","atomist.system.release":"17.6.0","atomist.system.platform":"darwin"}}}
2018-06-21T14:18:16.199Z [m:72977] [debug] Atomist automation client api running at 'http://localhost:2866'
2018-06-21T14:18:18.026Z [m:72977] [info ] Registration successful: {"url":"wss://automation-staging.atomist.services/registration/session:43f81439-365a-4754-b081-f5006e4b2ff2","jwt":"session:43f81439-365a-4754-b081-f5006e4b2ff2","endpoints":[],"name":"@atomist/sdm-automation","version":"0.1.0"}
2018-06-21T14:18:18.031Z [m:72977] [info ] Opening WebSocket connection
2018-06-21T14:18:18.036Z [m:72977] [info ] 
   ____          _                      _       _       __          _                                  _                             _    _               
  / __ \   __ _ | |_   ___   _ __ ___  (_) ___ | |_    / / ___   __| | _ __ ___           __ _  _   _ | |_   ___   _ __ ___    __ _ | |_ (_)  ___   _ __  
 / / _` | / _` || __| / _ \ | '_ ` _ \ | |/ __|| __|  / / / __| / _` || '_ ` _ \  _____  / _` || | | || __| / _ \ | '_ ` _ \  / _` || __|| | / _ \ | '_ \ 
| | (_| || (_| || |_ | (_) || | | | | || |\__ \| |_  / /  \__ \| (_| || | | | | ||_____|| (_| || |_| || |_ | (_) || | | | | || (_| || |_ | || (_) || | | |
 \ \__,_| \__,_| \__| \___/ |_| |_| |_||_||___/ \__|/_/   |___/ \__,_||_| |_| |_|        \__,_| \__,_| \__| \___/ |_| |_| |_| \__,_| \__||_| \___/ |_| |_|
  \____/                                                                                                                                                  

  Version 0.1.0  Sha 2e02da2  Repository git@github.com:atomisthq/sdm-automation.git
  Groups all  Policy ephemeral  Cluster disabled
  Commands 0  Events 0  Ingesters 4
  JWT session:43f81439-365a-4754-b081-f5006e4b2ff2
  
  

  Docs https://docs.atomist.com  Support https://join.atomist.com

2018-06-21T14:18:18.524Z [m:72977] [info ] WebSocket connection established. Listening for incoming messages
2018-06-21T14:18:32.293Z [m:72977] [info ] Shutdown initiated. Calling shutdown hooks
2018-06-21T15:08:25.556Z [m:78215] [info ] Starting Atomist automation client @atomist/sdm-automation@0.1.0
2018-06-21T15:08:25.557Z [m:78215] [debug] Using automation client configuration: {"teamIds":[],"groups":["all"],"environment":"local","policy":"ephemeral","endpoints":{"api":"https://automation-staging.atomist.services/registration","graphql":"https://automation-staging.atomist.services/graphql/team"},"http":{"enabled":true,"host":"localhost","port":2866,"auth":{"basic":{"enabled":false},"bearer":{"enabled":false}}},"ws":{"enabled":true,"termination":{"graceful":false,"gracePeriod":10000},"compress":false,"timeout":10000},"applicationEvents":{"enabled":false},"cluster":{"enabled":false},"logging":{"level":"debug","file":{"enabled":true,"level":"debug"},"banner":true,"logEvents":{"enabled":true}},"statsd":{"enabled":false},"name":"@atomist/sdm-automation","version":"0.1.0","keywords":["atomist","automation","sdm"],"application":"sdm-automation","token":"9**************************************3","sdm":{"docker":{"jfrog":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"},"hub":{"registry":"atomist","user":"atomist","password":"7**************g"}},"rolar":{"url":"h********************o"},"npm":{"registry":"https://atomist.jfrog.io/atomist/api/npm/npm-dev-local","npmrc":"@atomist:registry=https://atomist.jfrog.io/atomist/api/npm/npm-dev-local/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:_password=QVA0M1FScDNtQVlHaDZpS0FHb1I5ZUJabVY2UHB2V1JCZE1FVkY=\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:username=christian/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:email=christian@atomist.com\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:always-auth=true","access":"public"},"graphviz":{"url":""},"cloudfoundry":{"api":"https://api.run.pivotal.io","user":"cd@atomist.com","password":"t*************U","org":"atomist","spaces":{"production":"ri-production","staging":"ri-staging"}},"checkstyle":{"enabled":false,"reviewOnlyChangedFiles":true,"path":"/Users/cdupuis/Development/atomist/sample-sdm/test/checkstyle-8.8-all.jar"},"sonar":{"enabled":true,"url":"h*******************o","org":"sdm-org","token":"d**************************************e"},"git":{"url":"h*********************************************m","user":"rod","password":"a*****t"},"concourse":{"url":"h*******************0","user":"concourse","password":"c*******e","atomist":{"baseUrl":"h**********************************************************s"}},"artifactory":{"url":"h******************************t","user":"christian","repo":"libs-release-local","apiKey":"AKCp5aUF3qqvW44G2Ummyp6DmbMczkDGqUbVASobKeHKXEfwzHNQBXrocsUAG9X3d1U5q98oQ"}},"raven":{"enabled":true,"dsn":"https://6b671bce853e4d42a0bd7b195e034abe@sentry.io/1209190"},"logzio":{"enabled":true,"token":"n******************************T"}}
2018-06-21T15:08:25.559Z [m:78215] [debug] Registering @atomist/sdm-automation@0.1.0 with Atomist at 'https://automation-staging.atomist.services/registration': {"api_version":"1","name":"@atomist/sdm-automation","version":"0.1.0","policy":{"name":"ephemeral"},"groups":["all"],"commands":[],"events":[{"subscription":"subscription OnLog_3893336498 { AtomistLog { level timestamp message correlation_context @required { correlation_id automation(name: \"@atomist/sdm-automation\", version: \"0.1.0\") @required { name version } } }}","secrets":[]}],"ingesters":["type SdmGoal @rootType {\n    environment: String @compositeId\n    name: String @compositeId\n    uniqueName: String\n\n    sha: String @compositeId\n    branch: String @compositeId\n\n    repo(name: String!, owner: [String!], providerId: [String!]): SdmRepository\n\n    fulfillment(name: [String!], method: [String!]): SdmGoalFulfillment\n\n    description: String\n    url: String\n    goalSet: String\n    goalSetId: String\n    state: SdmGoalState\n    ts: Int @compositeId\n\n    error: String\n    retryFeasible: Boolean\n\n    approval: SdmProvenance\n    approvelRequired: Boolean\n\n    provenance: [SdmProvenance]\n\n    preConditions: [SdmCondition]\n\n    externalKey: String\n\n    data: String\n\n    push: Push\n        @linkTo(\n            queryName: \"pushBySha\",\n            variables: [{name: \"afterSha\", path: \"$.sha\"}, {name: \"branchName\", path: \"$.branch\"}]\n        )\n        @linkFrom(\n            field: {kind: LIST, name: \"goals\"},\n            query: \"query goals($sha: String!, $branch: String!) {SdmGoal(sha: [$sha], branch: [$branch], _first: 500){id}}\",\n            variables: [{name: \"sha\", path: \"$.after.sha\"}, {name: \"branch\", path: \"$.branch\"}]\n        )\n}\n\ntype SdmRepository {\n    name: String\n    owner: String\n    providerId: String\n}\n\ntype SdmGoalFulfillment {\n    method: String\n    name: String\n}\n\ntype SdmProvenance {\n    correlationId: String\n    registration: String\n    version: String\n    name: String\n    ts: Int\n\n    userId: String\n    channelId: String\n}\n\ntype SdmCondition {\n    environment: String\n    name: String\n}\n\nenum SdmGoalState {\n    planned\n    requested\n    in_process\n    waiting_for_approval\n    success\n    failure\n    skipped\n}","type SdmBuildIdentifier @rootType {\n    repo(name: [String!], owner: [String!], providerId: [String!]): SdmBuildIdentifierRepository\n    identifier: String\n}\n\ntype SdmBuildIdentifierRepository {\n    name: String @compositeId\n    owner: String @compositeId\n    provider: String @compositeId\n}","type SdmDeployEnablement @rootType {\n    state: SdmDeployState\n    owner: String @compositeId\n    repo: String @compositeId\n    providerId: String @compositeId\n}\n\nenum SdmDeployState {\n    requested\n    disabled\n}","type SdmVersion @rootType {\n    repo(name: [String!], owner: [String!], providerId: [String!]): SdmVersionRepository\n    sha: String\n    branch: String @compositeId\n    version: String @compositeId\n}\n\ntype SdmVersionRepository {\n    name: String\n    owner: String\n    provider: String\n}"],"metadata":{"labels":{"atomist.description":"Automation client to define the global SDM custom types","atomist.license":"Apache-2.0","atomist.author":"Atomist","atomist.homepage":"https://github.com/atomisthq/sdm-automation#readme","atomist.client":"@atomist/automation-client#0.17.4-20180619214533","atomist.git.sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","atomist.git.branch":"master","atomist.git.repository":"git@github.com:atomisthq/sdm-automation.git","atomist.system.hostname":"imac-pro.local","atomist.system.type":"Darwin","atomist.system.release":"17.6.0","atomist.system.platform":"darwin"}}}
2018-06-21T15:08:25.604Z [m:78215] [debug] Atomist automation client api running at 'http://localhost:2866'
2018-06-21T15:08:29.496Z [m:78215] [info ] Registration successful: {"url":"wss://automation-staging.atomist.services/registration/session:fd7950b9-b489-4e7e-99cf-ddf8b996a37b","jwt":"session:fd7950b9-b489-4e7e-99cf-ddf8b996a37b","endpoints":[],"name":"@atomist/sdm-automation","version":"0.1.0"}
2018-06-21T15:08:29.504Z [m:78215] [info ] Opening WebSocket connection
2018-06-21T15:08:29.509Z [m:78215] [info ] 
   ____          _                      _       _       __          _                                  _                             _    _               
  / __ \   __ _ | |_   ___   _ __ ___  (_) ___ | |_    / / ___   __| | _ __ ___           __ _  _   _ | |_   ___   _ __ ___    __ _ | |_ (_)  ___   _ __  
 / / _` | / _` || __| / _ \ | '_ ` _ \ | |/ __|| __|  / / / __| / _` || '_ ` _ \  _____  / _` || | | || __| / _ \ | '_ ` _ \  / _` || __|| | / _ \ | '_ \ 
| | (_| || (_| || |_ | (_) || | | | | || |\__ \| |_  / /  \__ \| (_| || | | | | ||_____|| (_| || |_| || |_ | (_) || | | | | || (_| || |_ | || (_) || | | |
 \ \__,_| \__,_| \__| \___/ |_| |_| |_||_||___/ \__|/_/   |___/ \__,_||_| |_| |_|        \__,_| \__,_| \__| \___/ |_| |_| |_| \__,_| \__||_| \___/ |_| |_|
  \____/                                                                                                                                                  

  Version 0.1.0  Sha 2e02da2  Repository git@github.com:atomisthq/sdm-automation.git
  Groups all  Policy ephemeral  Cluster disabled
  Commands 0  Events 0  Ingesters 4
  JWT session:fd7950b9-b489-4e7e-99cf-ddf8b996a37b
  
  

  Docs https://docs.atomist.com  Support https://join.atomist.com

2018-06-21T15:08:29.991Z [m:78215] [info ] WebSocket connection established. Listening for incoming messages
2018-06-21T15:26:01.820Z [m:78215] [info ] Shutdown initiated. Calling shutdown hooks
2018-06-21T15:28:05.803Z [m:79938] [info ] Starting Atomist automation client @atomist/sdm-automation@0.1.0
2018-06-21T15:28:05.804Z [m:79938] [debug] Using automation client configuration: {"teamIds":[],"groups":["all"],"environment":"local","policy":"ephemeral","endpoints":{"api":"https://automation-staging.atomist.services/registration","graphql":"https://automation-staging.atomist.services/graphql/team"},"http":{"enabled":true,"host":"localhost","port":2866,"auth":{"basic":{"enabled":false},"bearer":{"enabled":false}}},"ws":{"enabled":true,"termination":{"graceful":false,"gracePeriod":10000},"compress":false,"timeout":10000},"applicationEvents":{"enabled":false},"cluster":{"enabled":false},"logging":{"level":"debug","file":{"enabled":true,"level":"debug"},"banner":true,"logEvents":{"enabled":true}},"statsd":{"enabled":false},"name":"@atomist/sdm-automation","version":"0.1.0","keywords":["atomist","automation","sdm"],"application":"sdm-automation","token":"9**************************************3","sdm":{"docker":{"jfrog":{"registry":"sforzando-dockerv2-local.jfrog.io","user":"travis-docker","password":"p**************8"},"hub":{"registry":"atomist","user":"atomist","password":"7**************g"}},"rolar":{"url":"h********************o"},"npm":{"registry":"https://atomist.jfrog.io/atomist/api/npm/npm-dev-local","npmrc":"@atomist:registry=https://atomist.jfrog.io/atomist/api/npm/npm-dev-local/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:_password=QVA0M1FScDNtQVlHaDZpS0FHb1I5ZUJabVY2UHB2V1JCZE1FVkY=\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:username=christian/\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:email=christian@atomist.com\\n//atomist.jfrog.io/atomist/api/npm/npm-dev-local/:always-auth=true","access":"public"},"graphviz":{"url":""},"cloudfoundry":{"api":"https://api.run.pivotal.io","user":"cd@atomist.com","password":"t*************U","org":"atomist","spaces":{"production":"ri-production","staging":"ri-staging"}},"checkstyle":{"enabled":false,"reviewOnlyChangedFiles":true,"path":"/Users/cdupuis/Development/atomist/sample-sdm/test/checkstyle-8.8-all.jar"},"sonar":{"enabled":true,"url":"h*******************o","org":"sdm-org","token":"d**************************************e"},"git":{"url":"h*********************************************m","user":"rod","password":"a*****t"},"concourse":{"url":"h*******************0","user":"concourse","password":"c*******e","atomist":{"baseUrl":"h**********************************************************s"}},"artifactory":{"url":"h******************************t","user":"christian","repo":"libs-release-local","apiKey":"AKCp5aUF3qqvW44G2Ummyp6DmbMczkDGqUbVASobKeHKXEfwzHNQBXrocsUAG9X3d1U5q98oQ"}},"raven":{"enabled":true,"dsn":"https://6b671bce853e4d42a0bd7b195e034abe@sentry.io/1209190"},"logzio":{"enabled":true,"token":"n******************************T"}}
2018-06-21T15:28:05.806Z [m:79938] [debug] Registering @atomist/sdm-automation@0.1.0 with Atomist at 'https://automation-staging.atomist.services/registration': {"api_version":"1","name":"@atomist/sdm-automation","version":"0.1.0","policy":{"name":"ephemeral"},"groups":["all"],"commands":[],"events":[{"subscription":"subscription OnLog_3893336498 { AtomistLog { level timestamp message correlation_context @required { correlation_id automation(name: \"@atomist/sdm-automation\", version: \"0.1.0\") @required { name version } } }}","secrets":[]}],"ingesters":["type SdmGoal @rootType {\n    environment: String @compositeId\n    name: String @compositeId\n    uniqueName: String\n\n    sha: String @compositeId\n    branch: String @compositeId\n\n    repo(name: String!, owner: [String!], providerId: [String!]): SdmRepository\n\n    fulfillment(name: [String!], method: [String!]): SdmGoalFulfillment\n\n    description: String\n    url: String\n    goalSet: String\n    goalSetId: String\n    state: SdmGoalState\n    ts: Int @compositeId\n\n    error: String\n    retryFeasible: Boolean\n\n    approval: SdmProvenance\n    approvelRequired: Boolean\n\n    provenance: [SdmProvenance]\n\n    preConditions: [SdmCondition]\n\n    externalKey: String\n\n    data: String\n\n    push: Push\n        @linkTo(\n            queryName: \"pushBySha\",\n            variables: [{name: \"afterSha\", path: \"$.sha\"}, {name: \"branchName\", path: \"$.branch\"}]\n        )\n        @linkFrom(\n            field: {kind: LIST, name: \"goals\"},\n            query: \"query goals($sha: String!, $branch: String!) {SdmGoal(sha: [$sha], branch: [$branch], _first: 500){id}}\",\n            variables: [{name: \"sha\", path: \"$.after.sha\"}, {name: \"branch\", path: \"$.branch\"}]\n        )\n}\n\ntype SdmRepository {\n    name: String\n    owner: String\n    providerId: String\n}\n\ntype SdmGoalFulfillment {\n    method: String\n    name: String\n}\n\ntype SdmProvenance {\n    correlationId: String\n    registration: String\n    version: String\n    name: String\n    ts: Int\n\n    userId: String\n    channelId: String\n}\n\ntype SdmCondition {\n    environment: String\n    name: String\n}\n\nenum SdmGoalState {\n    planned\n    requested\n    in_process\n    waiting_for_approval\n    success\n    failure\n    skipped\n}","type SdmBuildIdentifier @rootType {\n    repo(name: [String!], owner: [String!], providerId: [String!]): SdmBuildIdentifierRepository\n    identifier: String\n}\n\ntype SdmBuildIdentifierRepository {\n    name: String @compositeId\n    owner: String @compositeId\n    provider: String @compositeId\n}","type SdmDeployEnablement @rootType {\n    state: SdmDeployState\n    owner: String @compositeId\n    repo: String @compositeId\n    providerId: String @compositeId\n}\n\nenum SdmDeployState {\n    requested\n    disabled\n}","type SdmVersion @rootType {\n    repo(name: [String!], owner: [String!], providerId: [String!]): SdmVersionRepository\n    sha: String\n    branch: String @compositeId\n    version: String @compositeId\n}\n\ntype SdmVersionRepository {\n    name: String\n    owner: String\n    provider: String\n}"],"metadata":{"labels":{"atomist.description":"Automation client to define the global SDM custom types","atomist.license":"Apache-2.0","atomist.author":"Atomist","atomist.homepage":"https://github.com/atomist/sdm-automation#readme","atomist.client":"@atomist/automation-client#0.17.4-20180621144910","atomist.git.sha":"2e02da2106325bddac1e253cfaa1a8fe74ea7638","atomist.git.branch":"master","atomist.git.repository":"git@github.com:atomisthq/sdm-automation.git","atomist.system.hostname":"imac-pro.local","atomist.system.type":"Darwin","atomist.system.release":"17.6.0","atomist.system.platform":"darwin"}}}
2018-06-21T15:28:05.842Z [m:79938] [debug] Atomist automation client api running at 'http://localhost:2866'
2018-06-21T15:28:11.356Z [m:79938] [info ] Registration successful: {"url":"wss://automation-staging.atomist.services/registration/session:b3540e41-e229-40a9-a1ac-eee6166106ae","jwt":"session:b3540e41-e229-40a9-a1ac-eee6166106ae","endpoints":[],"name":"@atomist/sdm-automation","version":"0.1.0"}
2018-06-21T15:28:11.361Z [m:79938] [info ] Opening WebSocket connection
2018-06-21T15:28:11.366Z [m:79938] [info ] 
   ____          _                      _       _       __          _                                  _                             _    _               
  / __ \   __ _ | |_   ___   _ __ ___  (_) ___ | |_    / / ___   __| | _ __ ___           __ _  _   _ | |_   ___   _ __ ___    __ _ | |_ (_)  ___   _ __  
 / / _` | / _` || __| / _ \ | '_ ` _ \ | |/ __|| __|  / / / __| / _` || '_ ` _ \  _____  / _` || | | || __| / _ \ | '_ ` _ \  / _` || __|| | / _ \ | '_ \ 
| | (_| || (_| || |_ | (_) || | | | | || |\__ \| |_  / /  \__ \| (_| || | | | | ||_____|| (_| || |_| || |_ | (_) || | | | | || (_| || |_ | || (_) || | | |
 \ \__,_| \__,_| \__| \___/ |_| |_| |_||_||___/ \__|/_/   |___/ \__,_||_| |_| |_|        \__,_| \__,_| \__| \___/ |_| |_| |_| \__,_| \__||_| \___/ |_| |_|
  \____/                                                                                                                                                  

  Version 0.1.0  Sha 2e02da2  Repository git@github.com:atomisthq/sdm-automation.git
  Groups all  Policy ephemeral  Cluster disabled
  Commands 0  Events 0  Ingesters 4
  JWT session:b3540e41-e229-40a9-a1ac-eee6166106ae

  Docs https://docs.atomist.com  Support https://join.atomist.com

2018-06-21T15:28:11.854Z [m:79938] [info ] WebSocket connection established. Listening for incoming messages
2018-06-21T15:29:15.205Z [m:79938] [info ] Shutdown initiated. Calling shutdown hooks
